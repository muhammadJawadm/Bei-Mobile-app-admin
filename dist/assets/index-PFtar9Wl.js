(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var FK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var H2={exports:{}},ig={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function GE(){if(Sw)return ig;Sw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return ig.Fragment=e,ig.jsx=t,ig.jsxs=t,ig}var kw;function $E(){return kw||(kw=1,H2.exports=GE()),H2.exports}var m=$E(),W2={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function KE(){if(Aw)return Zt;Aw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=p&&$[p]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function N($,le,O){this.props=$,this.context=le,this.refs=A,this.updater=O||y}N.prototype.isReactComponent={},N.prototype.setState=function($,le){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,le,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=N.prototype;function D($,le,O){this.props=$,this.context=le,this.refs=A,this.updater=O||y}var U=D.prototype=new E;U.constructor=D,k(U,N.prototype),U.isPureReactComponent=!0;var V=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function ee($,le,O,I,K,re){return O=re.ref,{$$typeof:n,type:$,key:le,ref:O!==void 0?O:null,props:re}}function M($,le){return ee($.type,le,void 0,void 0,void 0,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function W($){var le={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(O){return le[O]})}var R=/\/+/g;function B($,le){return typeof $=="object"&&$!==null&&$.key!=null?W(""+$.key):le.toString(36)}function ie(){}function oe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(ie,ie):($.status="pending",$.then(function(le){$.status==="pending"&&($.status="fulfilled",$.value=le)},function(le){$.status==="pending"&&($.status="rejected",$.reason=le)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function pe($,le,O,I,K){var re=typeof $;(re==="undefined"||re==="boolean")&&($=null);var ce=!1;if($===null)ce=!0;else switch(re){case"bigint":case"string":case"number":ce=!0;break;case"object":switch($.$$typeof){case n:case e:ce=!0;break;case f:return ce=$._init,pe(ce($._payload),le,O,I,K)}}if(ce)return K=K($),ce=I===""?"."+B($,0):I,V(K)?(O="",ce!=null&&(O=ce.replace(R,"$&/")+"/"),pe(K,le,O,"",function(ke){return ke})):K!=null&&(P(K)&&(K=M(K,O+(K.key==null||$&&$.key===K.key?"":(""+K.key).replace(R,"$&/")+"/")+ce)),le.push(K)),1;ce=0;var xe=I===""?".":I+":";if(V($))for(var ye=0;ye<$.length;ye++)I=$[ye],re=xe+B(I,ye),ce+=pe(I,le,O,re,K);else if(ye=v($),typeof ye=="function")for($=ye.call($),ye=0;!(I=$.next()).done;)I=I.value,re=xe+B(I,ye++),ce+=pe(I,le,O,re,K);else if(re==="object"){if(typeof $.then=="function")return pe(oe($),le,O,I,K);throw le=String($),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Q($,le,O){if($==null)return $;var I=[],K=0;return pe($,I,"","",function(re){return le.call(O,re,K++)}),I}function ae($){if($._status===-1){var le=$._result;le=le(),le.then(function(O){($._status===0||$._status===-1)&&($._status=1,$._result=O)},function(O){($._status===0||$._status===-1)&&($._status=2,$._result=O)}),$._status===-1&&($._status=0,$._result=le)}if($._status===1)return $._result.default;throw $._result}var ue=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ge(){}return Zt.Children={map:Q,forEach:function($,le,O){Q($,function(){le.apply(this,arguments)},O)},count:function($){var le=0;return Q($,function(){le++}),le},toArray:function($){return Q($,function(le){return le})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Zt.Component=N,Zt.Fragment=t,Zt.Profiler=s,Zt.PureComponent=D,Zt.StrictMode=i,Zt.Suspense=c,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Zt.__COMPILER_RUNTIME={__proto__:null,c:function($){return J.H.useMemoCache($)}},Zt.cache=function($){return function(){return $.apply(null,arguments)}},Zt.cloneElement=function($,le,O){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var I=k({},$.props),K=$.key,re=void 0;if(le!=null)for(ce in le.ref!==void 0&&(re=void 0),le.key!==void 0&&(K=""+le.key),le)!se.call(le,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&le.ref===void 0||(I[ce]=le[ce]);var ce=arguments.length-2;if(ce===1)I.children=O;else if(1<ce){for(var xe=Array(ce),ye=0;ye<ce;ye++)xe[ye]=arguments[ye+2];I.children=xe}return ee($.type,K,void 0,void 0,re,I)},Zt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:r,_context:$},$},Zt.createElement=function($,le,O){var I,K={},re=null;if(le!=null)for(I in le.key!==void 0&&(re=""+le.key),le)se.call(le,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(K[I]=le[I]);var ce=arguments.length-2;if(ce===1)K.children=O;else if(1<ce){for(var xe=Array(ce),ye=0;ye<ce;ye++)xe[ye]=arguments[ye+2];K.children=xe}if($&&$.defaultProps)for(I in ce=$.defaultProps,ce)K[I]===void 0&&(K[I]=ce[I]);return ee($,re,void 0,void 0,null,K)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function($){return{$$typeof:a,render:$}},Zt.isValidElement=P,Zt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:ae}},Zt.memo=function($,le){return{$$typeof:h,type:$,compare:le===void 0?null:le}},Zt.startTransition=function($){var le=J.T,O={};J.T=O;try{var I=$(),K=J.S;K!==null&&K(O,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ge,ue)}catch(re){ue(re)}finally{J.T=le}},Zt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Zt.use=function($){return J.H.use($)},Zt.useActionState=function($,le,O){return J.H.useActionState($,le,O)},Zt.useCallback=function($,le){return J.H.useCallback($,le)},Zt.useContext=function($){return J.H.useContext($)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function($,le){return J.H.useDeferredValue($,le)},Zt.useEffect=function($,le,O){var I=J.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect($,le)},Zt.useId=function(){return J.H.useId()},Zt.useImperativeHandle=function($,le,O){return J.H.useImperativeHandle($,le,O)},Zt.useInsertionEffect=function($,le){return J.H.useInsertionEffect($,le)},Zt.useLayoutEffect=function($,le){return J.H.useLayoutEffect($,le)},Zt.useMemo=function($,le){return J.H.useMemo($,le)},Zt.useOptimistic=function($,le){return J.H.useOptimistic($,le)},Zt.useReducer=function($,le,O){return J.H.useReducer($,le,O)},Zt.useRef=function($){return J.H.useRef($)},Zt.useState=function($){return J.H.useState($)},Zt.useSyncExternalStore=function($,le,O){return J.H.useSyncExternalStore($,le,O)},Zt.useTransition=function(){return J.H.useTransition()},Zt.version="19.1.1",Zt}var Cw;function rv(){return Cw||(Cw=1,W2.exports=KE()),W2.exports}var we=rv();const Rs=VS(we);var G2={exports:{}},sg={},$2={exports:{}},K2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function YE(){return Nw||(Nw=1,(function(n){function e(Q,ae){var ue=Q.length;Q.push(ae);e:for(;0<ue;){var ge=ue-1>>>1,$=Q[ge];if(0<s($,ae))Q[ge]=ae,Q[ue]=$,ue=ge;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ae=Q[0],ue=Q.pop();if(ue!==ae){Q[0]=ue;e:for(var ge=0,$=Q.length,le=$>>>1;ge<le;){var O=2*(ge+1)-1,I=Q[O],K=O+1,re=Q[K];if(0>s(I,ue))K<$&&0>s(re,I)?(Q[ge]=re,Q[K]=ue,ge=K):(Q[ge]=I,Q[O]=ue,ge=O);else if(K<$&&0>s(re,ue))Q[ge]=re,Q[K]=ue,ge=K;else break e}}return ae}function s(Q,ae){var ue=Q.sortIndex-ae.sortIndex;return ue!==0?ue:Q.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],h=[],f=1,p=null,v=3,y=!1,k=!1,A=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(Q){for(var ae=t(h);ae!==null;){if(ae.callback===null)i(h);else if(ae.startTime<=Q)i(h),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=t(h)}}function J(Q){if(A=!1,V(Q),!k)if(t(c)!==null)k=!0,se||(se=!0,B());else{var ae=t(h);ae!==null&&pe(J,ae.startTime-Q)}}var se=!1,ee=-1,M=5,P=-1;function W(){return N?!0:!(n.unstable_now()-P<M)}function R(){if(N=!1,se){var Q=n.unstable_now();P=Q;var ae=!0;try{e:{k=!1,A&&(A=!1,D(ee),ee=-1),y=!0;var ue=v;try{t:{for(V(Q),p=t(c);p!==null&&!(p.expirationTime>Q&&W());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,v=p.priorityLevel;var $=ge(p.expirationTime<=Q);if(Q=n.unstable_now(),typeof $=="function"){p.callback=$,V(Q),ae=!0;break t}p===t(c)&&i(c),V(Q)}else i(c);p=t(c)}if(p!==null)ae=!0;else{var le=t(h);le!==null&&pe(J,le.startTime-Q),ae=!1}}break e}finally{p=null,v=ue,y=!1}ae=void 0}}finally{ae?B():se=!1}}}var B;if(typeof U=="function")B=function(){U(R)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=R,B=function(){oe.postMessage(null)}}else B=function(){E(R,0)};function pe(Q,ae){ee=E(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ue=v;v=ae;try{return Q()}finally{v=ue}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=v;v=Q;try{return ae()}finally{v=ue}},n.unstable_scheduleCallback=function(Q,ae,ue){var ge=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ge+ue:ge):ue=ge,Q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ue+$,Q={id:f++,callback:ae,priorityLevel:Q,startTime:ue,expirationTime:$,sortIndex:-1},ue>ge?(Q.sortIndex=ue,e(h,Q),t(c)===null&&Q===t(h)&&(A?(D(ee),ee=-1):A=!0,pe(J,ue-ge))):(Q.sortIndex=$,e(c,Q),k||y||(k=!0,se||(se=!0,B()))),Q},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(Q){var ae=v;return function(){var ue=v;v=ae;try{return Q.apply(this,arguments)}finally{v=ue}}}})(K2)),K2}var Ew;function XE(){return Ew||(Ew=1,$2.exports=YE()),$2.exports}var Y2={exports:{}},Bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function JE(){if(Tw)return Bs;Tw=1;var n=rv();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bs.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(c,h,null,f)},Bs.flushSync=function(c){var h=o.T,f=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=h,i.p=f,i.d.f()}},Bs.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(c,h))},Bs.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Bs.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=a(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):f==="script"&&i.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Bs.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=a(h.as,h.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(c)},Bs.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=a(f,h.crossOrigin);i.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Bs.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=a(h.as,h.crossOrigin);i.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(c)},Bs.requestFormReset=function(c){i.d.r(c)},Bs.unstable_batchedUpdates=function(c,h){return c(h)},Bs.useFormState=function(c,h,f){return o.H.useFormState(c,h,f)},Bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Bs.version="19.1.1",Bs}var Pw;function QE(){if(Pw)return Y2.exports;Pw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y2.exports=JE(),Y2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function ZE(){if(Mw)return sg;Mw=1;var n=XE(),e=rv(),t=QE();function i(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function r(l){var u=l,d=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(d=u.return),l=u.return;while(l)}return u.tag===3?d:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(r(l)!==l)throw Error(i(188))}function c(l){var u=l.alternate;if(!u){if(u=r(l),u===null)throw Error(i(188));return u!==l?null:l}for(var d=l,g=u;;){var x=d.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===d)return a(x),l;if(_===g)return a(x),u;_=_.sibling}throw Error(i(188))}if(d.return!==g.return)d=x,g=_;else{for(var L=!1,H=x.child;H;){if(H===d){L=!0,d=x,g=_;break}if(H===g){L=!0,g=x,d=_;break}H=H.sibling}if(!L){for(H=_.child;H;){if(H===d){L=!0,d=_,g=x;break}if(H===g){L=!0,g=_,d=x;break}H=H.sibling}if(!L)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=R&&l[R]||l["@@iterator"],typeof l=="function"?l:null)}var ie=Symbol.for("react.client.reference");function oe(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ie?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case k:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case J:return"Suspense";case se:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case U:return(l.displayName||"Context")+".Provider";case D:return(l._context.displayName||"Context")+".Consumer";case V:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ee:return u=l.displayName||null,u!==null?u:oe(l.type)||"Memo";case M:u=l._payload,l=l._init;try{return oe(l(u))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ge=[],$=-1;function le(l){return{current:l}}function O(l){0>$||(l.current=ge[$],ge[$]=null,$--)}function I(l,u){$++,ge[$]=l.current,l.current=u}var K=le(null),re=le(null),ce=le(null),xe=le(null);function ye(l,u){switch(I(ce,u),I(re,l),I(K,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?Jx(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=Jx(u),l=Qx(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(K),I(K,l)}function ke(){O(K),O(re),O(ce)}function Le(l){l.memoizedState!==null&&I(xe,l);var u=K.current,d=Qx(u,l.type);u!==d&&(I(re,l),I(K,d))}function Re(l){re.current===l&&(O(K),O(re)),xe.current===l&&(O(xe),Qf._currentValue=ue)}var Ke=Object.prototype.hasOwnProperty,Ye=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,Y=n.unstable_shouldYield,Ue=n.unstable_requestPaint,mt=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,pt=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,ut=n.unstable_LowPriority,bt=n.unstable_IdlePriority,Ot=n.log,Lt=n.unstable_setDisableYieldValue,rt=null,dt=null;function kt(l){if(typeof Ot=="function"&&Lt(l),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(rt,l)}catch{}}var et=Math.clz32?Math.clz32:mn,Bt=Math.log,lt=Math.LN2;function mn(l){return l>>>=0,l===0?32:31-(Bt(l)/lt|0)|0}var $t=256,It=4194304;function zt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function En(l,u,d){var g=l.pendingLanes;if(g===0)return 0;var x=0,_=l.suspendedLanes,L=l.pingedLanes;l=l.warmLanes;var H=g&134217727;return H!==0?(g=H&~_,g!==0?x=zt(g):(L&=H,L!==0?x=zt(L):d||(d=H&~l,d!==0&&(x=zt(d))))):(H=g&~_,H!==0?x=zt(H):L!==0?x=zt(L):d||(d=g&~l,d!==0&&(x=zt(d)))),x===0?0:u!==0&&u!==x&&(u&_)===0&&(_=x&-x,d=u&-u,_>=d||_===32&&(d&4194048)!==0)?u:x}function wt(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Rn(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function At(){var l=$t;return $t<<=1,($t&4194048)===0&&($t=256),l}function Ht(){var l=It;return It<<=1,(It&62914560)===0&&(It=4194304),l}function Dn(l){for(var u=[],d=0;31>d;d++)u.push(l);return u}function Kt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ct(l,u,d,g,x,_){var L=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var H=l.entanglements,he=l.expirationTimes,Te=l.hiddenUpdates;for(d=L&~d;0<d;){var ze=31-et(d),He=1<<ze;H[ze]=0,he[ze]=-1;var Pe=Te[ze];if(Pe!==null)for(Te[ze]=null,ze=0;ze<Pe.length;ze++){var Oe=Pe[ze];Oe!==null&&(Oe.lane&=-536870913)}d&=~He}g!==0&&vn(l,g,0),_!==0&&x===0&&l.tag!==0&&(l.suspendedLanes|=_&~(L&~u))}function vn(l,u,d){l.pendingLanes|=u,l.suspendedLanes&=~u;var g=31-et(u);l.entangledLanes|=u,l.entanglements[g]=l.entanglements[g]|1073741824|d&4194090}function ma(l,u){var d=l.entangledLanes|=u;for(l=l.entanglements;d;){var g=31-et(d),x=1<<g;x&u|l[g]&u&&(l[g]|=u),d&=~x}}function Gi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Tr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Pr(){var l=ae.p;return l!==0?l:(l=window.event,l===void 0?32:bw(l.type))}function Nt(l,u){var d=ae.p;try{return ae.p=l,u()}finally{ae.p=d}}var ls=Math.random().toString(36).slice(2),$n="__reactFiber$"+ls,Vn="__reactProps$"+ls,Ji="__reactContainer$"+ls,Kn="__reactEvents$"+ls,$i="__reactListeners$"+ls,Qi="__reactHandles$"+ls,pa="__reactResources$"+ls,dr="__reactMarker$"+ls;function Xs(l){delete l[$n],delete l[Vn],delete l[Kn],delete l[$i],delete l[Qi]}function _s(l){var u=l[$n];if(u)return u;for(var d=l.parentNode;d;){if(u=d[Ji]||d[$n]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(l=nw(l);l!==null;){if(d=l[$n])return d;l=nw(l)}return u}l=d,d=l.parentNode}return null}function cs(l){if(l=l[$n]||l[Ji]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Ss(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(i(33))}function Zi(l){var u=l[pa];return u||(u=l[pa]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Yn(l){l[dr]=!0}var Mr=new Set,ba={};function fr(l,u){Or(l,u),Or(l+"Capture",u)}function Or(l,u){for(ba[l]=u,l=0;l<u.length;l++)Mr.add(u[l])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lh={},cc={};function Rh(l){return Ke.call(cc,l)?!0:Ke.call(Lh,l)?!1:lc.test(l)?cc[l]=!0:(Lh[l]=!0,!1)}function il(l,u,d){if(Rh(u))if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+d)}}function ks(l,u,d){if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+d)}}function Js(l,u,d,g){if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(u,d,""+g)}}var uc,hc;function To(l){if(uc===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);uc=u&&u[1]||"",hc=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uc+l+hc}var dc=!1;function fc(l,u){if(!l||dc)return"";dc=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Oe){var Pe=Oe}Reflect.construct(l,[],He)}else{try{He.call()}catch(Oe){Pe=Oe}l.call(He.prototype)}}else{try{throw Error()}catch(Oe){Pe=Oe}(He=l())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Oe){if(Oe&&Pe&&typeof Oe.stack=="string")return[Oe.stack,Pe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),L=_[0],H=_[1];if(L&&H){var he=L.split(`
`),Te=H.split(`
`);for(x=g=0;g<he.length&&!he[g].includes("DetermineComponentFrameRoot");)g++;for(;x<Te.length&&!Te[x].includes("DetermineComponentFrameRoot");)x++;if(g===he.length||x===Te.length)for(g=he.length-1,x=Te.length-1;1<=g&&0<=x&&he[g]!==Te[x];)x--;for(;1<=g&&0<=x;g--,x--)if(he[g]!==Te[x]){if(g!==1||x!==1)do if(g--,x--,0>x||he[g]!==Te[x]){var ze=`
`+he[g].replace(" at new "," at ");return l.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",l.displayName)),ze}while(1<=g&&0<=x);break}}}finally{dc=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?To(d):""}function no(l){switch(l.tag){case 26:case 27:case 5:return To(l.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 15:return fc(l.type,!1);case 11:return fc(l.type.render,!1);case 1:return fc(l.type,!0);case 31:return To("Activity");default:return""}}function sl(l){try{var u="";do u+=no(l),l=l.return;while(l);return u}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ds(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function mi(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Dh(l){var u=mi(l)?"checked":"value",d=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),g=""+l[u];if(!l.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,_=d.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return x.call(this)},set:function(L){g=""+L,_.call(this,L)}}),Object.defineProperty(l,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Qs(l){l._valueTracker||(l._valueTracker=Dh(l))}function rl(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return l&&(g=mi(l)?l.checked?"true":"false":l.value),l=g,l!==d?(u.setValue(l),!0):!1}function ol(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var gr=/[\n"\\]/g;function wn(l){return l.replace(gr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Lr(l,u,d,g,x,_,L,H){l.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?l.type=L:l.removeAttribute("type"),u!=null?L==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Ds(u)):l.value!==""+Ds(u)&&(l.value=""+Ds(u)):L!=="submit"&&L!=="reset"||l.removeAttribute("value"),u!=null?yu(l,L,Ds(u)):d!=null?yu(l,L,Ds(d)):g!=null&&l.removeAttribute("value"),x==null&&_!=null&&(l.defaultChecked=!!_),x!=null&&(l.checked=x&&typeof x!="function"&&typeof x!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.name=""+Ds(H):l.removeAttribute("name")}function bu(l,u,d,g,x,_,L,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(l.type=_),u!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||u!=null))return;d=d!=null?""+Ds(d):"",u=u!=null?""+Ds(u):d,H||u===l.value||(l.value=u),l.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=H?l.checked:!!g,l.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(l.name=L)}function yu(l,u,d){u==="number"&&ol(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function ya(l,u,d,g){if(l=l.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<l.length;d++)x=u.hasOwnProperty("$"+l[d].value),l[d].selected!==x&&(l[d].selected=x),x&&g&&(l[d].defaultSelected=!0)}else{for(d=""+Ds(d),u=null,x=0;x<l.length;x++){if(l[x].value===d){l[x].selected=!0,g&&(l[x].defaultSelected=!0);return}u!==null||l[x].disabled||(u=l[x])}u!==null&&(u.selected=!0)}}function Rr(l,u,d){if(u!=null&&(u=""+Ds(u),u!==l.value&&(l.value=u),d==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=d!=null?""+Ds(d):""}function vu(l,u,d,g){if(u==null){if(g!=null){if(d!=null)throw Error(i(92));if(pe(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),u=d}d=Ds(u),l.defaultValue=d,g=l.textContent,g===d&&g!==""&&g!==null&&(l.value=g)}function Po(l,u){if(u){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=u;return}}l.textContent=u}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(l,u,d){var g=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":g?l.setProperty(u,d):typeof d!="number"||d===0||gc.has(u)?u==="float"?l.cssFloat=d:l[u]=(""+d).trim():l[u]=d+"px"}function jh(l,u,d){if(u!=null&&typeof u!="object")throw Error(i(62));if(l=l.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&d[x]!==g&&va(l,x,g)}else for(var _ in u)u.hasOwnProperty(_)&&va(l,_,u[_])}function xu(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(l){return wu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Zs=null;function _u(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var mr=null,io=null;function Fh(l){var u=cs(l);if(u&&(l=u.stateNode)){var d=l[Vn]||null;e:switch(l=u.stateNode,u.type){case"input":if(Lr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+wn(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==l&&g.form===l.form){var x=g[Vn]||null;if(!x)throw Error(i(90));Lr(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)g=d[u],g.form===l.form&&rl(g)}break e;case"textarea":Rr(l,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&ya(l,!!d.multiple,u,!1)}}}var Rt=!1;function Bh(l,u,d){if(Rt)return l(u,d);Rt=!0;try{var g=l(u);return g}finally{if(Rt=!1,(mr!==null||io!==null)&&(pp(),mr&&(u=mr,l=io,io=mr=null,Fh(u),l)))for(u=0;u<l.length;u++)Fh(l[u])}}function ll(l,u){var d=l.stateNode;if(d===null)return null;var g=d[Vn]||null;if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(i(231,u,typeof d));return d}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Dr)try{var er={};Object.defineProperty(er,"passive",{get:function(){jr=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{jr=!1}var so=null,Su=null,Mo=null;function mc(){if(Mo)return Mo;var l,u=Su,d=u.length,g,x="value"in so?so.value:so.textContent,_=x.length;for(l=0;l<d&&u[l]===x[l];l++);var L=d-l;for(g=1;g<=L&&u[d-g]===x[_-g];g++);return Mo=x.slice(l,1<g?1-g:void 0)}function ro(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function pc(){return!0}function oo(){return!1}function us(l){function u(d,g,x,_,L){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var H in l)l.hasOwnProperty(H)&&(d=l[H],this[H]=d?d(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pc:oo,this.isPropagationStopped=oo,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),u}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=us(Fr),wa=f({},Fr,{view:0,detail:0}),Oo=us(wa),cl,_a,Lo,ao=f({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ot,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Lo&&(Lo&&l.type==="mousemove"?(cl=l.screenX-Lo.screenX,_a=l.screenY-Lo.screenY):_a=cl=0,Lo=l),cl)},movementY:function(l){return"movementY"in l?l.movementY:_a}}),bc=us(ao),Ih=f({},ao,{dataTransfer:0}),zh=us(Ih),Ro=f({},wa,{relatedTarget:0}),Br=us(Ro),Vh=f({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),ul=us(Vh),Uh=f({},Fr,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),S=us(Uh),j=f({},Fr,{data:0}),ne=us(j),de={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ge(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Ie[l])?!!u[l]:!1}function ot(){return Ge}var xt=f({},wa,{key:function(l){if(l.key){var u=de[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ro(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Se[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ot,charCode:function(l){return l.type==="keypress"?ro(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ro(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Dt=us(xt),Yt=f({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=us(Yt),ei=f({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ot}),Si=us(ei),jn=f({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oi=us(jn),ki=f({},ao,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),es=us(ki),Do=f({},Fr,{newState:0,oldState:0}),Ir=us(Do),jo=[9,13,27,32],hl=Dr&&"CompositionEvent"in window,lo=null;Dr&&"documentMode"in document&&(lo=document.documentMode);var Sa=Dr&&"TextEvent"in window&&!lo,ka=Dr&&(!hl||lo&&8<lo&&11>=lo),Aa=" ",Fo=!1;function Ki(l,u){switch(l){case"keyup":return jo.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var pr=!1;function ku(l,u){switch(l){case"compositionend":return Ca(u);case"keypress":return u.which!==32?null:(Fo=!0,Aa);case"textInput":return l=u.data,l===Aa&&Fo?null:l;default:return null}}function Au(l,u){if(pr)return l==="compositionend"||!hl&&Ki(l,u)?(l=mc(),Mo=Su=so=null,pr=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ka&&u.locale!=="ko"?null:u.data;default:return null}}var As={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function co(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!As[l.type]:u==="textarea"}function dl(l,u,d,g){mr?io?io.push(g):io=[g]:mr=g,u=_p(u,"onChange"),0<u.length&&(d=new xa("onChange","change",null,d,g),l.push({event:d,listeners:u}))}var Na=null,hs=null;function fl(l){Gx(l,0)}function Ea(l){var u=Ss(l);if(rl(u))return l}function yc(l,u){if(l==="change")return u}var Bo=!1;if(Dr){var Io;if(Dr){var Cs="oninput"in document;if(!Cs){var js=document.createElement("div");js.setAttribute("oninput","return;"),Cs=typeof js.oninput=="function"}Io=Cs}else Io=!1;Bo=Io&&(!document.documentMode||9<document.documentMode)}function zo(){Na&&(Na.detachEvent("onpropertychange",uo),hs=Na=null)}function uo(l){if(l.propertyName==="value"&&Ea(hs)){var u=[];dl(u,hs,l,_u(l)),Bh(fl,u)}}function Ta(l,u,d){l==="focusin"?(zo(),Na=u,hs=d,Na.attachEvent("onpropertychange",uo)):l==="focusout"&&zo()}function Cu(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ea(hs)}function vc(l,u){if(l==="click")return Ea(u)}function pi(l,u){if(l==="input"||l==="change")return Ea(u)}function qh(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var si=typeof Object.is=="function"?Object.is:qh;function Fs(l,u){if(si(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var d=Object.keys(l),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!Ke.call(u,x)||!si(l[x],u[x]))return!1}return!0}function xc(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function wc(l,u){var d=xc(l);l=0;for(var g;d;){if(d.nodeType===3){if(g=l+d.textContent.length,l<=u&&g>=u)return{node:d,offset:u-l};l=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xc(d)}}function _c(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?_c(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Sc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=ol(l.document);u instanceof l.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)l=u.contentWindow;else break;u=ol(l.document)}return u}function ho(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Pa=Dr&&"documentMode"in document&&11>=document.documentMode,tr=null,Vo=null,br=null,Uo=!1;function nr(l,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Uo||tr==null||tr!==ol(g)||(g=tr,"selectionStart"in g&&ho(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),br&&Fs(br,g)||(br=g,g=_p(Vo,"onSelect"),0<g.length&&(u=new xa("onSelect","select",null,u,d),l.push({event:u,listeners:g}),u.target=tr)))}function ds(l,u){var d={};return d[l.toLowerCase()]=u.toLowerCase(),d["Webkit"+l]="webkit"+u,d["Moz"+l]="moz"+u,d}var an={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},An={},ri={};Dr&&(ri=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Un(l){if(An[l])return An[l];if(!an[l])return l;var u=an[l],d;for(d in u)if(u.hasOwnProperty(d)&&d in ri)return An[l]=u[d];return l}var fo=Un("animationend"),kc=Un("animationiteration"),gl=Un("animationstart"),Hh=Un("transitionrun"),Bm=Un("transitionstart"),Im=Un("transitioncancel"),yf=Un("transitionend"),vf=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function yr(l,u){vf.set(l,u),fr(u,[l])}var Ac=new WeakMap;function ir(l,u){if(typeof l=="object"&&l!==null){var d=Ac.get(l);return d!==void 0?d:(u={value:l,source:u,stack:sl(u)},Ac.set(l,u),u)}return{value:l,source:u,stack:sl(u)}}var sr=[],ml=0,Gh=0;function Nu(){for(var l=ml,u=Gh=ml=0;u<l;){var d=sr[u];sr[u++]=null;var g=sr[u];sr[u++]=null;var x=sr[u];sr[u++]=null;var _=sr[u];if(sr[u++]=null,g!==null&&x!==null){var L=g.pending;L===null?x.next=x:(x.next=L.next,L.next=x),g.pending=x}_!==0&&Kh(d,x,_)}}function Eu(l,u,d,g){sr[ml++]=l,sr[ml++]=u,sr[ml++]=d,sr[ml++]=g,Gh|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function $h(l,u,d,g){return Eu(l,u,d,g),bl(l)}function pl(l,u){return Eu(l,null,null,u),bl(l)}function Kh(l,u,d){l.lanes|=d;var g=l.alternate;g!==null&&(g.lanes|=d);for(var x=!1,_=l.return;_!==null;)_.childLanes|=d,g=_.alternate,g!==null&&(g.childLanes|=d),_.tag===22&&(l=_.stateNode,l===null||l._visibility&1||(x=!0)),l=_,_=_.return;return l.tag===3?(_=l.stateNode,x&&u!==null&&(x=31-et(d),l=_.hiddenUpdates,g=l[x],g===null?l[x]=[u]:g.push(u),u.lane=d|536870912),_):null}function bl(l){if(50<Hf)throw Hf=0,g2=null,Error(i(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Yi={};function vr(l,u,d,g){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(l,u,d,g){return new vr(l,u,d,g)}function Cc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function go(l,u){var d=l.alternate;return d===null?(d=fs(l.tag,u,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=u,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,u=l.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function Tu(l,u){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,u=d.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function yl(l,u,d,g,x,_){var L=0;if(g=l,typeof l=="function")Cc(l)&&(L=1);else if(typeof l=="string")L=LE(l,d,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=fs(31,d,u,x),l.elementType=P,l.lanes=_,l;case k:return qo(d.children,x,_,u);case A:L=8,x|=24;break;case N:return l=fs(12,d,u,x|2),l.elementType=N,l.lanes=_,l;case J:return l=fs(13,d,u,x),l.elementType=J,l.lanes=_,l;case se:return l=fs(19,d,u,x),l.elementType=se,l.lanes=_,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:case U:L=10;break e;case D:L=9;break e;case V:L=11;break e;case ee:L=14;break e;case M:L=16,g=null;break e}L=29,d=Error(i(130,l===null?"null":typeof l,"")),g=null}return u=fs(L,d,u,x),u.elementType=l,u.type=g,u.lanes=_,u}function qo(l,u,d,g){return l=fs(7,l,g,u),l.lanes=d,l}function Yh(l,u,d){return l=fs(6,l,null,u),l.lanes=d,l}function Pu(l,u,d){return u=fs(4,l.children!==null?l.children:[],l.key,u),u.lanes=d,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Ma=[],Ho=0,Nc=null,Xh=0,xr=[],rr=0,vl=null,Wo=1,Go="";function xl(l,u){Ma[Ho++]=Xh,Ma[Ho++]=Nc,Nc=l,Xh=u}function zm(l,u,d){xr[rr++]=Wo,xr[rr++]=Go,xr[rr++]=vl,vl=l;var g=Wo;l=Go;var x=32-et(g)-1;g&=~(1<<x),d+=1;var _=32-et(u)+x;if(30<_){var L=x-x%5;_=(g&(1<<L)-1).toString(32),g>>=L,x-=L,Wo=1<<32-et(u)+x|d<<x|g,Go=_+l}else Wo=1<<_|d<<x|g,Go=l}function Mu(l){l.return!==null&&(xl(l,1),zm(l,1,0))}function Ou(l){for(;l===Nc;)Nc=Ma[--Ho],Ma[Ho]=null,Xh=Ma[--Ho],Ma[Ho]=null;for(;l===vl;)vl=xr[--rr],xr[rr]=null,Go=xr[--rr],xr[rr]=null,Wo=xr[--rr],xr[rr]=null}var Li=null,oi=null,xn=!1,Oa=null,mo=!1,xf=Error(i(519));function wl(l){var u=Error(i(418,""));throw Ec(ir(u,l)),xf}function Vm(l){var u=l.stateNode,d=l.type,g=l.memoizedProps;switch(u[$n]=l,u[Vn]=g,d){case"dialog":cn("cancel",u),cn("close",u);break;case"iframe":case"object":case"embed":cn("load",u);break;case"video":case"audio":for(d=0;d<Gf.length;d++)cn(Gf[d],u);break;case"source":cn("error",u);break;case"img":case"image":case"link":cn("error",u),cn("load",u);break;case"details":cn("toggle",u);break;case"input":cn("invalid",u),bu(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Qs(u);break;case"select":cn("invalid",u);break;case"textarea":cn("invalid",u),vu(u,g.value,g.defaultValue,g.children),Qs(u)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||g.suppressHydrationWarning===!0||Xx(u.textContent,d)?(g.popover!=null&&(cn("beforetoggle",u),cn("toggle",u)),g.onScroll!=null&&cn("scroll",u),g.onScrollEnd!=null&&cn("scrollend",u),g.onClick!=null&&(u.onclick=Sp),u=!0):u=!1,u||wl(l)}function $o(l){for(Li=l.return;Li;)switch(Li.tag){case 5:case 13:mo=!1;return;case 27:case 3:mo=!0;return;default:Li=Li.return}}function Ns(l){if(l!==Li)return!1;if(!xn)return $o(l),xn=!0,!1;var u=l.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||P2(l.type,l.memoizedProps)),d=!d),d&&oi&&wl(l),$o(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(d=l.data,d==="/$"){if(u===0){oi=ta(l.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++;l=l.nextSibling}oi=null}}else u===27?(u=oi,Hc(l.type)?(l=R2,R2=null,oi=l):oi=u):oi=Li?ta(l.stateNode.nextSibling):null;return!0}function or(){oi=Li=null,xn=!1}function Um(){var l=Oa;return l!==null&&(_r===null?_r=l:_r.push.apply(_r,l),Oa=null),l}function Ec(l){Oa===null?Oa=[l]:Oa.push(l)}var po=le(null),Xi=null,Ko=null;function La(l,u,d){I(po,u._currentValue),u._currentValue=d}function bo(l){l._currentValue=po.current,O(po)}function Jh(l,u,d){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===d)break;l=l.return}}function Qh(l,u,d,g){var x=l.child;for(x!==null&&(x.return=l);x!==null;){var _=x.dependencies;if(_!==null){var L=x.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=x;for(var he=0;he<u.length;he++)if(H.context===u[he]){_.lanes|=d,H=_.alternate,H!==null&&(H.lanes|=d),Jh(_.return,d,l),g||(L=null);break e}_=H.next}}else if(x.tag===18){if(L=x.return,L===null)throw Error(i(341));L.lanes|=d,_=L.alternate,_!==null&&(_.lanes|=d),Jh(L,d,l),L=null}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===l){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}}function Tc(l,u,d,g){l=null;for(var x=u,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var L=x.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var H=x.type;si(x.pendingProps.value,L.value)||(l!==null?l.push(H):l=[H])}}else if(x===xe.current){if(L=x.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(l!==null?l.push(Qf):l=[Qf])}x=x.return}l!==null&&Qh(u,l,d,g),u.flags|=262144}function Zh(l){for(l=l.firstContext;l!==null;){if(!si(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function yo(l){Xi=l,Ko=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ri(l){return ed(Xi,l)}function Ra(l,u){return Xi===null&&yo(l),ed(l,u)}function ed(l,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Ko===null){if(l===null)throw Error(i(308));Ko=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Ko=Ko.next=u;return d}var I1=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(d,g){l.push(g)}};this.abort=function(){u.aborted=!0,l.forEach(function(d){return d()})}},qm=n.unstable_scheduleCallback,z1=n.unstable_NormalPriority,Di={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new I1,data:new Map,refCount:0}}function Lu(l){l.refCount--,l.refCount===0&&qm(z1,function(){l.controller.abort()})}var Ru=null,_f=0,_l=0,Yo=null;function V1(l,u){if(Ru===null){var d=Ru=[];_f=0,_l=w2(),Yo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return _f++,u.then(Hm,Hm),u}function Hm(){if(--_f===0&&Ru!==null){Yo!==null&&(Yo.status="fulfilled");var l=Ru;Ru=null,_l=0,Yo=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Wm(l,u){var d=[],g={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return l.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),g}var b=Q.S;Q.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&V1(l,u),b!==null&&b(l,u)};var w=le(null);function C(){var l=w.current;return l!==null?l:Xn.pooledCache}function T(l,u){u===null?I(w,w.current):I(w,u.pool)}function F(){var l=C();return l===null?null:{parent:Di._currentValue,pool:l}}var z=Error(i(460)),q=Error(i(474)),G=Error(i(542)),X={then:function(){}};function te(l){return l=l.status,l==="fulfilled"||l==="rejected"}function me(){}function Ee(l,u,d){switch(d=l[d],d===void 0?l.push(u):d!==u&&(u.then(me,me),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Ae(l),l;default:if(typeof u.status=="string")u.then(me,me);else{if(l=Xn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=u,l.status="pending",l.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Ae(l),l}throw Z=u,z}}var Z=null;function ve(){if(Z===null)throw Error(i(459));var l=Z;return Z=null,l}function Ae(l){if(l===z||l===G)throw Error(i(483))}var De=!1;function Ne(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function je(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function $e(l,u,d){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(Pn&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=bl(l),Kh(l,null,d),u}return Eu(l,g,u,d),bl(l)}function qe(l,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var g=u.lanes;g&=l.pendingLanes,d|=g,u.lanes=d,ma(l,d)}}function vt(l,u){var d=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?x=_=L:_=_.next=L,d=d.next}while(d!==null);_===null?x=_=u:_=_.next=u}else x=_=u;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=u}var st=!1;function Vt(){if(st){var l=Yo;if(l!==null)throw l}}function at(l,u,d,g){st=!1;var x=l.updateQueue;De=!1;var _=x.firstBaseUpdate,L=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var he=H,Te=he.next;he.next=null,L===null?_=Te:L.next=Te,L=he;var ze=l.alternate;ze!==null&&(ze=ze.updateQueue,H=ze.lastBaseUpdate,H!==L&&(H===null?ze.firstBaseUpdate=Te:H.next=Te,ze.lastBaseUpdate=he))}if(_!==null){var He=x.baseState;L=0,ze=Te=he=null,H=_;do{var Pe=H.lane&-536870913,Oe=Pe!==H.lane;if(Oe?(bn&Pe)===Pe:(g&Pe)===Pe){Pe!==0&&Pe===_l&&(st=!0),ze!==null&&(ze=ze.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ft=l,Pt=H;Pe=u;var In=d;switch(Pt.tag){case 1:if(Ft=Pt.payload,typeof Ft=="function"){He=Ft.call(In,He,Pe);break e}He=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Pt.payload,Pe=typeof Ft=="function"?Ft.call(In,He,Pe):Ft,Pe==null)break e;He=f({},He,Pe);break e;case 2:De=!0}}Pe=H.callback,Pe!==null&&(l.flags|=64,Oe&&(l.flags|=8192),Oe=x.callbacks,Oe===null?x.callbacks=[Pe]:Oe.push(Pe))}else Oe={lane:Pe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ze===null?(Te=ze=Oe,he=He):ze=ze.next=Oe,L|=Pe;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;Oe=H,H=Oe.next,Oe.next=null,x.lastBaseUpdate=Oe,x.shared.pending=null}}while(!0);ze===null&&(he=He),x.baseState=he,x.firstBaseUpdate=Te,x.lastBaseUpdate=ze,_===null&&(x.shared.lanes=0),zc|=L,l.lanes=L,l.memoizedState=He}}function sn(l,u){if(typeof l!="function")throw Error(i(191,l));l.call(u)}function Ai(l,u){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)sn(d[l],u)}var jt=le(null),ct=le(0);function Ze(l,u){l=Pl,I(ct,l),I(jt,u),Pl=l|u.baseLanes}function ti(){I(ct,Pl),I(jt,jt.current)}function Ut(){Pl=ct.current,O(jt),O(ct)}var Qt=0,ht=null,Wt=null,dn=null,qn=!1,bi=!1,yi=!1,ai=0,tn=0,fn=null,li=0;function Tt(){throw Error(i(321))}function ji(l,u){if(u===null)return!1;for(var d=0;d<u.length&&d<l.length;d++)if(!si(l[d],u[d]))return!1;return!0}function ar(l,u,d,g,x,_){return Qt=_,ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Q.H=l===null||l.memoizedState===null?P5:M5,yi=!1,_=d(g,x),yi=!1,bi&&(_=Es(u,d,g,x)),ci(l),_}function ci(l){Q.H=ip;var u=Wt!==null&&Wt.next!==null;if(Qt=0,dn=Wt=ht=null,qn=!1,tn=0,fn=null,u)throw Error(i(300));l===null||ms||(l=l.dependencies,l!==null&&Zh(l)&&(ms=!0))}function Es(l,u,d,g){ht=l;var x=0;do{if(bi&&(fn=null),tn=0,bi=!1,25<=x)throw Error(i(301));if(x+=1,dn=Wt=null,l.updateQueue!=null){var _=l.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=HN,_=u(d,g)}while(bi);return _}function Tn(){var l=Q.H,u=l.useState()[0];return u=typeof u.then=="function"?ns(u):u,l=l.useState()[0],(Wt!==null?Wt.memoizedState:null)!==l&&(ht.flags|=1024),u}function vi(){var l=ai!==0;return ai=0,l}function Ts(l,u,d){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~d}function ts(l){if(qn){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}qn=!1}Qt=0,dn=Wt=ht=null,bi=!1,tn=ai=0,fn=null}function Fn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?ht.memoizedState=dn=l:dn=dn.next=l,dn}function pn(){if(Wt===null){var l=ht.alternate;l=l!==null?l.memoizedState:null}else l=Wt.next;var u=dn===null?ht.memoizedState:dn.next;if(u!==null)dn=u,Wt=l;else{if(l===null)throw ht.alternate===null?Error(i(467)):Error(i(310));Wt=l,l={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},dn===null?ht.memoizedState=dn=l:dn=dn.next=l}return dn}function gs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(l){var u=tn;return tn+=1,fn===null&&(fn=[]),l=Ee(fn,l,u),u=ht,(dn===null?u.memoizedState:dn.next)===null&&(u=u.alternate,Q.H=u===null||u.memoizedState===null?P5:M5),l}function Cn(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ns(l);if(l.$$typeof===U)return Ri(l)}throw Error(i(438,String(l)))}function Ps(l){var u=null,d=ht.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var g=ht.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=gs(),ht.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(l),g=0;g<l;g++)d[g]=W;return u.index++,d}function Fi(l,u){return typeof u=="function"?u(l):u}function vo(l){var u=pn();return zr(u,Wt,l)}function zr(l,u,d){var g=l.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var x=l.baseQueue,_=g.pending;if(_!==null){if(x!==null){var L=x.next;x.next=_.next,_.next=L}u.baseQueue=x=_,g.pending=null}if(_=l.baseState,x===null)l.memoizedState=_;else{u=x.next;var H=L=null,he=null,Te=u,ze=!1;do{var He=Te.lane&-536870913;if(He!==Te.lane?(bn&He)===He:(Qt&He)===He){var Pe=Te.revertLane;if(Pe===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),He===_l&&(ze=!0);else if((Qt&Pe)===Pe){Te=Te.next,Pe===_l&&(ze=!0);continue}else He={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(H=he=He,L=_):he=he.next=He,ht.lanes|=Pe,zc|=Pe;He=Te.action,yi&&d(_,He),_=Te.hasEagerState?Te.eagerState:d(_,He)}else Pe={lane:He,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(H=he=Pe,L=_):he=he.next=Pe,ht.lanes|=He,zc|=He;Te=Te.next}while(Te!==null&&Te!==u);if(he===null?L=_:he.next=H,!si(_,l.memoizedState)&&(ms=!0,ze&&(d=Yo,d!==null)))throw d;l.memoizedState=_,l.baseState=L,l.baseQueue=he,g.lastRenderedState=_}return x===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function Bi(l){var u=pn(),d=u.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var g=d.dispatch,x=d.pending,_=u.memoizedState;if(x!==null){d.pending=null;var L=x=x.next;do _=l(_,L.action),L=L.next;while(L!==x);si(_,u.memoizedState)||(ms=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),d.lastRenderedState=_}return[_,g]}function Du(l,u,d){var g=ht,x=pn(),_=xn;if(_){if(d===void 0)throw Error(i(407));d=d()}else d=u();var L=!si((Wt||x).memoizedState,d);L&&(x.memoizedState=d,ms=!0),x=x.queue;var H=Pc.bind(null,g,x,l);if(Lc(2048,8,H,[l]),x.getSnapshot!==u||L||dn!==null&&dn.memoizedState.tag&1){if(g.flags|=2048,Jo(9,Iu(),ju.bind(null,g,x,d,u),null),Xn===null)throw Error(i(349));_||(Qt&124)!==0||td(g,u,d)}return d}function td(l,u,d){l.flags|=16384,l={getSnapshot:u,value:d},u=ht.updateQueue,u===null?(u=gs(),ht.updateQueue=u,u.stores=[l]):(d=u.stores,d===null?u.stores=[l]:d.push(l))}function ju(l,u,d,g){u.value=d,u.getSnapshot=g,Gm(u)&&$m(l)}function Pc(l,u,d){return d(function(){Gm(u)&&$m(l)})}function Gm(l){var u=l.getSnapshot;l=l.value;try{var d=u();return!si(l,d)}catch{return!0}}function $m(l){var u=pl(l,2);u!==null&&Gr(u,l,2)}function Fu(l){var u=Fn();if(typeof l=="function"){var d=l;if(l=d(),yi){kt(!0);try{d()}finally{kt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:l},u}function Xo(l,u,d,g){return l.baseState=d,zr(l,Wt,typeof g=="function"?g:Fi)}function U1(l,u,d,g,x){if(np(l))throw Error(i(485));if(l=u.action,l!==null){var _={payload:x,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};Q.T!==null?d(!0):_.isTransition=!1,g(_),d=u.pending,d===null?(_.next=u.pending=_,Km(u,_)):(_.next=d.next,u.pending=d.next=_)}}function Km(l,u){var d=u.action,g=u.payload,x=l.state;if(u.isTransition){var _=Q.T,L={};Q.T=L;try{var H=d(x,g),he=Q.S;he!==null&&he(L,H),Ym(l,u,H)}catch(Te){Mc(l,u,Te)}finally{Q.T=_}}else try{_=d(x,g),Ym(l,u,_)}catch(Te){Mc(l,u,Te)}}function Ym(l,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Sf(l,u,g)},function(g){return Mc(l,u,g)}):Sf(l,u,d)}function Sf(l,u,d){u.status="fulfilled",u.value=d,kf(u),l.state=d,u=l.pending,u!==null&&(d=u.next,d===u?l.pending=null:(d=d.next,u.next=d,Km(l,d)))}function Mc(l,u,d){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=d,kf(u),u=u.next;while(u!==g)}l.action=null}function kf(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Af(l,u){return u}function Bu(l,u){if(xn){var d=Xn.formState;if(d!==null){e:{var g=ht;if(xn){if(oi){t:{for(var x=oi,_=mo;x.nodeType!==8;){if(!_){x=null;break t}if(x=ta(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){oi=ta(x.nextSibling),g=x.data==="F!";break e}}wl(g)}g=!1}g&&(u=d[0])}}return d=Fn(),d.memoizedState=d.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:u},d.queue=g,d=N5.bind(null,ht,g),g.dispatch=d,g=Fu(!1),_=q1.bind(null,ht,!1,g.queue),g=Fn(),x={state:u,dispatch:null,action:l,pending:null},g.queue=x,d=U1.bind(null,ht,x,_,d),x.dispatch=d,g.memoizedState=l,[u,d,!1]}function nd(l){var u=pn();return Oc(u,Wt,l)}function Oc(l,u,d){if(u=zr(l,u,Af)[0],l=vo(Fi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=ns(u)}catch(L){throw L===z?G:L}else g=u;u=pn();var x=u.queue,_=x.dispatch;return d!==u.memoizedState&&(ht.flags|=2048,Jo(9,Iu(),Xm.bind(null,x,d),null)),[g,_,l]}function Xm(l,u){l.action=u}function Jm(l){var u=pn(),d=Wt;if(d!==null)return Oc(u,d,l);pn(),u=u.memoizedState,d=pn();var g=d.queue.dispatch;return d.memoizedState=l,[u,g,!1]}function Jo(l,u,d,g){return l={tag:l,create:d,deps:g,inst:u,next:null},u=ht.updateQueue,u===null&&(u=gs(),ht.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=l.next=l:(g=d.next,d.next=l,l.next=g,u.lastEffect=l),l}function Iu(){return{destroy:void 0,resource:void 0}}function id(){return pn().memoizedState}function Vr(l,u,d,g){var x=Fn();g=g===void 0?null:g,ht.flags|=l,x.memoizedState=Jo(1|u,Iu(),d,g)}function Lc(l,u,d,g){var x=pn();g=g===void 0?null:g;var _=x.memoizedState.inst;Wt!==null&&g!==null&&ji(g,Wt.memoizedState.deps)?x.memoizedState=Jo(u,_,d,g):(ht.flags|=l,x.memoizedState=Jo(1|u,_,d,g))}function Cf(l,u){Vr(8390656,8,l,u)}function Qm(l,u){Lc(2048,8,l,u)}function Nf(l,u){return Lc(4,2,l,u)}function Sl(l,u){return Lc(4,4,l,u)}function Zm(l,u){if(typeof u=="function"){l=l();var d=u(l);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Ef(l,u,d){d=d!=null?d.concat([l]):null,Lc(4,4,Zm.bind(null,u,l),d)}function Tf(){}function Pf(l,u){var d=pn();u=u===void 0?null:u;var g=d.memoizedState;return u!==null&&ji(u,g[1])?g[0]:(d.memoizedState=[l,u],l)}function ep(l,u){var d=pn();u=u===void 0?null:u;var g=d.memoizedState;if(u!==null&&ji(u,g[1]))return g[0];if(g=l(),yi){kt(!0);try{l()}finally{kt(!1)}}return d.memoizedState=[g,u],g}function kl(l,u,d){return d===void 0||(Qt&1073741824)!==0?l.memoizedState=u:(l.memoizedState=d,l=Sx(),ht.lanes|=l,zc|=l,d)}function sd(l,u,d,g){return si(d,u)?d:jt.current!==null?(l=kl(l,d,g),si(l,u)||(ms=!0),l):(Qt&42)===0?(ms=!0,l.memoizedState=d):(l=Sx(),ht.lanes|=l,zc|=l,u)}function zu(l,u,d,g,x){var _=ae.p;ae.p=_!==0&&8>_?_:8;var L=Q.T,H={};Q.T=H,q1(l,!1,u,d);try{var he=x(),Te=Q.S;if(Te!==null&&Te(H,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var ze=Wm(he,g);Rf(l,u,ze,Wr(l))}else Rf(l,u,g,Wr(l))}catch(He){Rf(l,u,{then:function(){},status:"rejected",reason:He},Wr())}finally{ae.p=_,Q.T=L}}function Qo(){}function xo(l,u,d,g){if(l.tag!==5)throw Error(i(476));var x=Zo(l).queue;zu(l,x,u,ue,d===null?Qo:function(){return Vu(l),d(g)})}function Zo(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ue},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:d},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function Vu(l){var u=Zo(l).next.queue;Rf(l,u,{},Wr())}function Uu(){return Ri(Qf)}function Mf(){return pn().memoizedState}function tp(){return pn().memoizedState}function Of(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var d=Wr();l=je(d);var g=$e(u,l,d);g!==null&&(Gr(g,u,d),qe(g,u,d)),u={cache:wf()},l.payload=u;return}u=u.return}}function Lf(l,u,d){var g=Wr();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},np(l)?E5(u,d):(d=$h(l,u,d,g),d!==null&&(Gr(d,l,g),T5(d,u,g)))}function N5(l,u,d){var g=Wr();Rf(l,u,d,g)}function Rf(l,u,d,g){var x={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(np(l))E5(u,x);else{var _=l.alternate;if(l.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var L=u.lastRenderedState,H=_(L,d);if(x.hasEagerState=!0,x.eagerState=H,si(H,L))return Eu(l,u,x,0),Xn===null&&Nu(),!1}catch{}finally{}if(d=$h(l,u,x,g),d!==null)return Gr(d,l,g),T5(d,u,g),!0}return!1}function q1(l,u,d,g){if(g={lane:2,revertLane:w2(),action:g,hasEagerState:!1,eagerState:null,next:null},np(l)){if(u)throw Error(i(479))}else u=$h(l,d,g,2),u!==null&&Gr(u,l,2)}function np(l){var u=l.alternate;return l===ht||u!==null&&u===ht}function E5(l,u){bi=qn=!0;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}function T5(l,u,d){if((d&4194048)!==0){var g=u.lanes;g&=l.pendingLanes,d|=g,u.lanes=d,ma(l,d)}}var ip={readContext:Ri,use:Cn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},P5={readContext:Ri,use:Cn,useCallback:function(l,u){return Fn().memoizedState=[l,u===void 0?null:u],l},useContext:Ri,useEffect:Cf,useImperativeHandle:function(l,u,d){d=d!=null?d.concat([l]):null,Vr(4194308,4,Zm.bind(null,u,l),d)},useLayoutEffect:function(l,u){return Vr(4194308,4,l,u)},useInsertionEffect:function(l,u){Vr(4,2,l,u)},useMemo:function(l,u){var d=Fn();u=u===void 0?null:u;var g=l();if(yi){kt(!0);try{l()}finally{kt(!1)}}return d.memoizedState=[g,u],g},useReducer:function(l,u,d){var g=Fn();if(d!==void 0){var x=d(u);if(yi){kt(!0);try{d(u)}finally{kt(!1)}}}else x=u;return g.memoizedState=g.baseState=x,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:x},g.queue=l,l=l.dispatch=Lf.bind(null,ht,l),[g.memoizedState,l]},useRef:function(l){var u=Fn();return l={current:l},u.memoizedState=l},useState:function(l){l=Fu(l);var u=l.queue,d=N5.bind(null,ht,u);return u.dispatch=d,[l.memoizedState,d]},useDebugValue:Tf,useDeferredValue:function(l,u){var d=Fn();return kl(d,l,u)},useTransition:function(){var l=Fu(!1);return l=zu.bind(null,ht,l.queue,!0,!1),Fn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,d){var g=ht,x=Fn();if(xn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=u(),Xn===null)throw Error(i(349));(bn&124)!==0||td(g,u,d)}x.memoizedState=d;var _={value:d,getSnapshot:u};return x.queue=_,Cf(Pc.bind(null,g,_,l),[l]),g.flags|=2048,Jo(9,Iu(),ju.bind(null,g,_,d,u),null),d},useId:function(){var l=Fn(),u=Xn.identifierPrefix;if(xn){var d=Go,g=Wo;d=(g&~(1<<32-et(g)-1)).toString(32)+d,u=""+u+"R"+d,d=ai++,0<d&&(u+="H"+d.toString(32)),u+=""}else d=li++,u=""+u+"r"+d.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:Uu,useFormState:Bu,useActionState:Bu,useOptimistic:function(l){var u=Fn();u.memoizedState=u.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=q1.bind(null,ht,!0,d),d.dispatch=u,[l,u]},useMemoCache:Ps,useCacheRefresh:function(){return Fn().memoizedState=Of.bind(null,ht)}},M5={readContext:Ri,use:Cn,useCallback:Pf,useContext:Ri,useEffect:Qm,useImperativeHandle:Ef,useInsertionEffect:Nf,useLayoutEffect:Sl,useMemo:ep,useReducer:vo,useRef:id,useState:function(){return vo(Fi)},useDebugValue:Tf,useDeferredValue:function(l,u){var d=pn();return sd(d,Wt.memoizedState,l,u)},useTransition:function(){var l=vo(Fi)[0],u=pn().memoizedState;return[typeof l=="boolean"?l:ns(l),u]},useSyncExternalStore:Du,useId:Mf,useHostTransitionStatus:Uu,useFormState:nd,useActionState:nd,useOptimistic:function(l,u){var d=pn();return Xo(d,Wt,l,u)},useMemoCache:Ps,useCacheRefresh:tp},HN={readContext:Ri,use:Cn,useCallback:Pf,useContext:Ri,useEffect:Qm,useImperativeHandle:Ef,useInsertionEffect:Nf,useLayoutEffect:Sl,useMemo:ep,useReducer:Bi,useRef:id,useState:function(){return Bi(Fi)},useDebugValue:Tf,useDeferredValue:function(l,u){var d=pn();return Wt===null?kl(d,l,u):sd(d,Wt.memoizedState,l,u)},useTransition:function(){var l=Bi(Fi)[0],u=pn().memoizedState;return[typeof l=="boolean"?l:ns(l),u]},useSyncExternalStore:Du,useId:Mf,useHostTransitionStatus:Uu,useFormState:Jm,useActionState:Jm,useOptimistic:function(l,u){var d=pn();return Wt!==null?Xo(d,Wt,l,u):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:tp},rd=null,Df=0;function sp(l){var u=Df;return Df+=1,rd===null&&(rd=[]),Ee(rd,l,u)}function jf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function rp(l,u){throw u.$$typeof===p?Error(i(525)):(l=Object.prototype.toString.call(u),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function O5(l){var u=l._init;return u(l._payload)}function L5(l){function u(_e,be){if(l){var Ce=_e.deletions;Ce===null?(_e.deletions=[be],_e.flags|=16):Ce.push(be)}}function d(_e,be){if(!l)return null;for(;be!==null;)u(_e,be),be=be.sibling;return null}function g(_e){for(var be=new Map;_e!==null;)_e.key!==null?be.set(_e.key,_e):be.set(_e.index,_e),_e=_e.sibling;return be}function x(_e,be){return _e=go(_e,be),_e.index=0,_e.sibling=null,_e}function _(_e,be,Ce){return _e.index=Ce,l?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<be?(_e.flags|=67108866,be):Ce):(_e.flags|=67108866,be)):(_e.flags|=1048576,be)}function L(_e){return l&&_e.alternate===null&&(_e.flags|=67108866),_e}function H(_e,be,Ce,Ve){return be===null||be.tag!==6?(be=Yh(Ce,_e.mode,Ve),be.return=_e,be):(be=x(be,Ce),be.return=_e,be)}function he(_e,be,Ce,Ve){var ft=Ce.type;return ft===k?ze(_e,be,Ce.props.children,Ve,Ce.key):be!==null&&(be.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===M&&O5(ft)===be.type)?(be=x(be,Ce.props),jf(be,Ce),be.return=_e,be):(be=yl(Ce.type,Ce.key,Ce.props,null,_e.mode,Ve),jf(be,Ce),be.return=_e,be)}function Te(_e,be,Ce,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ce.containerInfo||be.stateNode.implementation!==Ce.implementation?(be=Pu(Ce,_e.mode,Ve),be.return=_e,be):(be=x(be,Ce.children||[]),be.return=_e,be)}function ze(_e,be,Ce,Ve,ft){return be===null||be.tag!==7?(be=qo(Ce,_e.mode,Ve,ft),be.return=_e,be):(be=x(be,Ce),be.return=_e,be)}function He(_e,be,Ce){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Yh(""+be,_e.mode,Ce),be.return=_e,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Ce=yl(be.type,be.key,be.props,null,_e.mode,Ce),jf(Ce,be),Ce.return=_e,Ce;case y:return be=Pu(be,_e.mode,Ce),be.return=_e,be;case M:var Ve=be._init;return be=Ve(be._payload),He(_e,be,Ce)}if(pe(be)||B(be))return be=qo(be,_e.mode,Ce,null),be.return=_e,be;if(typeof be.then=="function")return He(_e,sp(be),Ce);if(be.$$typeof===U)return He(_e,Ra(_e,be),Ce);rp(_e,be)}return null}function Pe(_e,be,Ce,Ve){var ft=be!==null?be.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ft!==null?null:H(_e,be,""+Ce,Ve);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:return Ce.key===ft?he(_e,be,Ce,Ve):null;case y:return Ce.key===ft?Te(_e,be,Ce,Ve):null;case M:return ft=Ce._init,Ce=ft(Ce._payload),Pe(_e,be,Ce,Ve)}if(pe(Ce)||B(Ce))return ft!==null?null:ze(_e,be,Ce,Ve,null);if(typeof Ce.then=="function")return Pe(_e,be,sp(Ce),Ve);if(Ce.$$typeof===U)return Pe(_e,be,Ra(_e,Ce),Ve);rp(_e,Ce)}return null}function Oe(_e,be,Ce,Ve,ft){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return _e=_e.get(Ce)||null,H(be,_e,""+Ve,ft);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return _e=_e.get(Ve.key===null?Ce:Ve.key)||null,he(be,_e,Ve,ft);case y:return _e=_e.get(Ve.key===null?Ce:Ve.key)||null,Te(be,_e,Ve,ft);case M:var rn=Ve._init;return Ve=rn(Ve._payload),Oe(_e,be,Ce,Ve,ft)}if(pe(Ve)||B(Ve))return _e=_e.get(Ce)||null,ze(be,_e,Ve,ft,null);if(typeof Ve.then=="function")return Oe(_e,be,Ce,sp(Ve),ft);if(Ve.$$typeof===U)return Oe(_e,be,Ce,Ra(be,Ve),ft);rp(be,Ve)}return null}function Ft(_e,be,Ce,Ve){for(var ft=null,rn=null,St=be,Mt=be=0,bs=null;St!==null&&Mt<Ce.length;Mt++){St.index>Mt?(bs=St,St=null):bs=St.sibling;var _n=Pe(_e,St,Ce[Mt],Ve);if(_n===null){St===null&&(St=bs);break}l&&St&&_n.alternate===null&&u(_e,St),be=_(_n,be,Mt),rn===null?ft=_n:rn.sibling=_n,rn=_n,St=bs}if(Mt===Ce.length)return d(_e,St),xn&&xl(_e,Mt),ft;if(St===null){for(;Mt<Ce.length;Mt++)St=He(_e,Ce[Mt],Ve),St!==null&&(be=_(St,be,Mt),rn===null?ft=St:rn.sibling=St,rn=St);return xn&&xl(_e,Mt),ft}for(St=g(St);Mt<Ce.length;Mt++)bs=Oe(St,_e,Mt,Ce[Mt],Ve),bs!==null&&(l&&bs.alternate!==null&&St.delete(bs.key===null?Mt:bs.key),be=_(bs,be,Mt),rn===null?ft=bs:rn.sibling=bs,rn=bs);return l&&St.forEach(function(Yc){return u(_e,Yc)}),xn&&xl(_e,Mt),ft}function Pt(_e,be,Ce,Ve){if(Ce==null)throw Error(i(151));for(var ft=null,rn=null,St=be,Mt=be=0,bs=null,_n=Ce.next();St!==null&&!_n.done;Mt++,_n=Ce.next()){St.index>Mt?(bs=St,St=null):bs=St.sibling;var Yc=Pe(_e,St,_n.value,Ve);if(Yc===null){St===null&&(St=bs);break}l&&St&&Yc.alternate===null&&u(_e,St),be=_(Yc,be,Mt),rn===null?ft=Yc:rn.sibling=Yc,rn=Yc,St=bs}if(_n.done)return d(_e,St),xn&&xl(_e,Mt),ft;if(St===null){for(;!_n.done;Mt++,_n=Ce.next())_n=He(_e,_n.value,Ve),_n!==null&&(be=_(_n,be,Mt),rn===null?ft=_n:rn.sibling=_n,rn=_n);return xn&&xl(_e,Mt),ft}for(St=g(St);!_n.done;Mt++,_n=Ce.next())_n=Oe(St,_e,Mt,_n.value,Ve),_n!==null&&(l&&_n.alternate!==null&&St.delete(_n.key===null?Mt:_n.key),be=_(_n,be,Mt),rn===null?ft=_n:rn.sibling=_n,rn=_n);return l&&St.forEach(function(WE){return u(_e,WE)}),xn&&xl(_e,Mt),ft}function In(_e,be,Ce,Ve){if(typeof Ce=="object"&&Ce!==null&&Ce.type===k&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:e:{for(var ft=Ce.key;be!==null;){if(be.key===ft){if(ft=Ce.type,ft===k){if(be.tag===7){d(_e,be.sibling),Ve=x(be,Ce.props.children),Ve.return=_e,_e=Ve;break e}}else if(be.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===M&&O5(ft)===be.type){d(_e,be.sibling),Ve=x(be,Ce.props),jf(Ve,Ce),Ve.return=_e,_e=Ve;break e}d(_e,be);break}else u(_e,be);be=be.sibling}Ce.type===k?(Ve=qo(Ce.props.children,_e.mode,Ve,Ce.key),Ve.return=_e,_e=Ve):(Ve=yl(Ce.type,Ce.key,Ce.props,null,_e.mode,Ve),jf(Ve,Ce),Ve.return=_e,_e=Ve)}return L(_e);case y:e:{for(ft=Ce.key;be!==null;){if(be.key===ft)if(be.tag===4&&be.stateNode.containerInfo===Ce.containerInfo&&be.stateNode.implementation===Ce.implementation){d(_e,be.sibling),Ve=x(be,Ce.children||[]),Ve.return=_e,_e=Ve;break e}else{d(_e,be);break}else u(_e,be);be=be.sibling}Ve=Pu(Ce,_e.mode,Ve),Ve.return=_e,_e=Ve}return L(_e);case M:return ft=Ce._init,Ce=ft(Ce._payload),In(_e,be,Ce,Ve)}if(pe(Ce))return Ft(_e,be,Ce,Ve);if(B(Ce)){if(ft=B(Ce),typeof ft!="function")throw Error(i(150));return Ce=ft.call(Ce),Pt(_e,be,Ce,Ve)}if(typeof Ce.then=="function")return In(_e,be,sp(Ce),Ve);if(Ce.$$typeof===U)return In(_e,be,Ra(_e,Ce),Ve);rp(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,be!==null&&be.tag===6?(d(_e,be.sibling),Ve=x(be,Ce),Ve.return=_e,_e=Ve):(d(_e,be),Ve=Yh(Ce,_e.mode,Ve),Ve.return=_e,_e=Ve),L(_e)):d(_e,be)}return function(_e,be,Ce,Ve){try{Df=0;var ft=In(_e,be,Ce,Ve);return rd=null,ft}catch(St){if(St===z||St===G)throw St;var rn=fs(29,St,null,_e.mode);return rn.lanes=Ve,rn.return=_e,rn}finally{}}}var od=L5(!0),R5=L5(!1),wo=le(null),Da=null;function Rc(l){var u=l.alternate;I(is,is.current&1),I(wo,l),Da===null&&(u===null||jt.current!==null||u.memoizedState!==null)&&(Da=l)}function D5(l){if(l.tag===22){if(I(is,is.current),I(wo,l),Da===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Da=l)}}else Dc()}function Dc(){I(is,is.current),I(wo,wo.current)}function Al(l){O(wo),Da===l&&(Da=null),O(is)}var is=le(0);function op(l){for(var u=l;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||L2(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function H1(l,u,d,g){u=l.memoizedState,d=d(g,u),d=d==null?u:f({},u,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var W1={enqueueSetState:function(l,u,d){l=l._reactInternals;var g=Wr(),x=je(g);x.payload=u,d!=null&&(x.callback=d),u=$e(l,x,g),u!==null&&(Gr(u,l,g),qe(u,l,g))},enqueueReplaceState:function(l,u,d){l=l._reactInternals;var g=Wr(),x=je(g);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=$e(l,x,g),u!==null&&(Gr(u,l,g),qe(u,l,g))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var d=Wr(),g=je(d);g.tag=2,u!=null&&(g.callback=u),u=$e(l,g,d),u!==null&&(Gr(u,l,d),qe(u,l,d))}};function j5(l,u,d,g,x,_,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,_,L):u.prototype&&u.prototype.isPureReactComponent?!Fs(d,g)||!Fs(x,_):!0}function F5(l,u,d,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==l&&W1.enqueueReplaceState(u,u.state,null)}function qu(l,u){var d=u;if("ref"in u){d={};for(var g in u)g!=="ref"&&(d[g]=u[g])}if(l=l.defaultProps){d===u&&(d=f({},d));for(var x in l)d[x]===void 0&&(d[x]=l[x])}return d}var ap=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function B5(l){ap(l)}function I5(l){console.error(l)}function z5(l){ap(l)}function lp(l,u){try{var d=l.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function V5(l,u,d){try{var g=l.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function G1(l,u,d){return d=je(d),d.tag=3,d.payload={element:null},d.callback=function(){lp(l,u)},d}function U5(l){return l=je(l),l.tag=3,l}function q5(l,u,d,g){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var _=g.value;l.payload=function(){return x(_)},l.callback=function(){V5(u,d,g)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(l.callback=function(){V5(u,d,g),typeof x!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function WN(l,u,d,g,x){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=d.alternate,u!==null&&Tc(u,d,x,!0),d=wo.current,d!==null){switch(d.tag){case 13:return Da===null?p2():d.alternate===null&&Ci===0&&(Ci=3),d.flags&=-257,d.flags|=65536,d.lanes=x,g===X?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([g]):u.add(g),y2(l,g,x)),!1;case 22:return d.flags|=65536,g===X?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([g]):d.add(g)),y2(l,g,x)),!1}throw Error(i(435,d.tag))}return y2(l,g,x),p2(),!1}if(xn)return u=wo.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==xf&&(l=Error(i(422),{cause:g}),Ec(ir(l,d)))):(g!==xf&&(u=Error(i(423),{cause:g}),Ec(ir(u,d))),l=l.current.alternate,l.flags|=65536,x&=-x,l.lanes|=x,g=ir(g,d),x=G1(l.stateNode,g,x),vt(l,x),Ci!==4&&(Ci=2)),!1;var _=Error(i(520),{cause:g});if(_=ir(_,d),qf===null?qf=[_]:qf.push(_),Ci!==4&&(Ci=2),u===null)return!0;g=ir(g,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,l=x&-x,d.lanes|=l,l=G1(d.stateNode,g,l),vt(d,l),!1;case 1:if(u=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vc===null||!Vc.has(_))))return d.flags|=65536,x&=-x,d.lanes|=x,x=U5(x),q5(x,l,d,g),vt(d,x),!1}d=d.return}while(d!==null);return!1}var H5=Error(i(461)),ms=!1;function Ms(l,u,d,g){u.child=l===null?R5(u,null,d,g):od(u,l.child,d,g)}function W5(l,u,d,g,x){d=d.render;var _=u.ref;if("ref"in g){var L={};for(var H in g)H!=="ref"&&(L[H]=g[H])}else L=g;return yo(u),g=ar(l,u,d,L,_,x),H=vi(),l!==null&&!ms?(Ts(l,u,x),Cl(l,u,x)):(xn&&H&&Mu(u),u.flags|=1,Ms(l,u,g,x),u.child)}function G5(l,u,d,g,x){if(l===null){var _=d.type;return typeof _=="function"&&!Cc(_)&&_.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=_,$5(l,u,_,g,x)):(l=yl(d.type,null,g,u,u.mode,x),l.ref=u.ref,l.return=u,u.child=l)}if(_=l.child,!e2(l,x)){var L=_.memoizedProps;if(d=d.compare,d=d!==null?d:Fs,d(L,g)&&l.ref===u.ref)return Cl(l,u,x)}return u.flags|=1,l=go(_,g),l.ref=u.ref,l.return=u,u.child=l}function $5(l,u,d,g,x){if(l!==null){var _=l.memoizedProps;if(Fs(_,g)&&l.ref===u.ref)if(ms=!1,u.pendingProps=g=_,e2(l,x))(l.flags&131072)!==0&&(ms=!0);else return u.lanes=l.lanes,Cl(l,u,x)}return $1(l,u,d,g,x)}function K5(l,u,d){var g=u.pendingProps,x=g.children,_=l!==null?l.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=_!==null?_.baseLanes|d:d,l!==null){for(x=u.child=l.child,_=0;x!==null;)_=_|x.lanes|x.childLanes,x=x.sibling;u.childLanes=_&~g}else u.childLanes=0,u.child=null;return Y5(l,u,g,d)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&T(u,_!==null?_.cachePool:null),_!==null?Ze(u,_):ti(),D5(u);else return u.lanes=u.childLanes=536870912,Y5(l,u,_!==null?_.baseLanes|d:d,d)}else _!==null?(T(u,_.cachePool),Ze(u,_),Dc(),u.memoizedState=null):(l!==null&&T(u,null),ti(),Dc());return Ms(l,u,x,d),u.child}function Y5(l,u,d,g){var x=C();return x=x===null?null:{parent:Di._currentValue,pool:x},u.memoizedState={baseLanes:d,cachePool:x},l!==null&&T(u,null),ti(),D5(u),l!==null&&Tc(l,u,g,!0),null}function cp(l,u){var d=u.ref;if(d===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(l===null||l.ref!==d)&&(u.flags|=4194816)}}function $1(l,u,d,g,x){return yo(u),d=ar(l,u,d,g,void 0,x),g=vi(),l!==null&&!ms?(Ts(l,u,x),Cl(l,u,x)):(xn&&g&&Mu(u),u.flags|=1,Ms(l,u,d,x),u.child)}function X5(l,u,d,g,x,_){return yo(u),u.updateQueue=null,d=Es(u,g,d,x),ci(l),g=vi(),l!==null&&!ms?(Ts(l,u,_),Cl(l,u,_)):(xn&&g&&Mu(u),u.flags|=1,Ms(l,u,d,_),u.child)}function J5(l,u,d,g,x){if(yo(u),u.stateNode===null){var _=Yi,L=d.contextType;typeof L=="object"&&L!==null&&(_=Ri(L)),_=new d(g,_),u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=W1,u.stateNode=_,_._reactInternals=u,_=u.stateNode,_.props=g,_.state=u.memoizedState,_.refs={},Ne(u),L=d.contextType,_.context=typeof L=="object"&&L!==null?Ri(L):Yi,_.state=u.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(H1(u,d,L,g),_.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&W1.enqueueReplaceState(_,_.state,null),at(u,g,_,x),Vt(),_.state=u.memoizedState),typeof _.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(l===null){_=u.stateNode;var H=u.memoizedProps,he=qu(d,H);_.props=he;var Te=_.context,ze=d.contextType;L=Yi,typeof ze=="object"&&ze!==null&&(L=Ri(ze));var He=d.getDerivedStateFromProps;ze=typeof He=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=u.pendingProps!==H,ze||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||Te!==L)&&F5(u,_,g,L),De=!1;var Pe=u.memoizedState;_.state=Pe,at(u,g,_,x),Vt(),Te=u.memoizedState,H||Pe!==Te||De?(typeof He=="function"&&(H1(u,d,He,g),Te=u.memoizedState),(he=De||j5(u,d,he,g,Pe,Te,L))?(ze||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(u.flags|=4194308)):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=Te),_.props=g,_.state=Te,_.context=L,g=he):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{_=u.stateNode,Fe(l,u),L=u.memoizedProps,ze=qu(d,L),_.props=ze,He=u.pendingProps,Pe=_.context,Te=d.contextType,he=Yi,typeof Te=="object"&&Te!==null&&(he=Ri(Te)),H=d.getDerivedStateFromProps,(Te=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==He||Pe!==he)&&F5(u,_,g,he),De=!1,Pe=u.memoizedState,_.state=Pe,at(u,g,_,x),Vt();var Oe=u.memoizedState;L!==He||Pe!==Oe||De||l!==null&&l.dependencies!==null&&Zh(l.dependencies)?(typeof H=="function"&&(H1(u,d,H,g),Oe=u.memoizedState),(ze=De||j5(u,d,ze,g,Pe,Oe,he)||l!==null&&l.dependencies!==null&&Zh(l.dependencies))?(Te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Oe,he),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Oe,he)),typeof _.componentDidUpdate=="function"&&(u.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===l.memoizedProps&&Pe===l.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&Pe===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Oe),_.props=g,_.state=Oe,_.context=he,g=ze):(typeof _.componentDidUpdate!="function"||L===l.memoizedProps&&Pe===l.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&Pe===l.memoizedState||(u.flags|=1024),g=!1)}return _=g,cp(l,u),g=(u.flags&128)!==0,_||g?(_=u.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:_.render(),u.flags|=1,l!==null&&g?(u.child=od(u,l.child,null,x),u.child=od(u,null,d,x)):Ms(l,u,d,x),u.memoizedState=_.state,l=u.child):l=Cl(l,u,x),l}function Q5(l,u,d,g){return or(),u.flags|=256,Ms(l,u,d,g),u.child}var K1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y1(l){return{baseLanes:l,cachePool:F()}}function X1(l,u,d){return l=l!==null?l.childLanes&~d:0,u&&(l|=_o),l}function Z5(l,u,d){var g=u.pendingProps,x=!1,_=(u.flags&128)!==0,L;if((L=_)||(L=l!==null&&l.memoizedState===null?!1:(is.current&2)!==0),L&&(x=!0,u.flags&=-129),L=(u.flags&32)!==0,u.flags&=-33,l===null){if(xn){if(x?Rc(u):Dc(),xn){var H=oi,he;if(he=H){e:{for(he=H,H=mo;he.nodeType!==8;){if(!H){H=null;break e}if(he=ta(he.nextSibling),he===null){H=null;break e}}H=he}H!==null?(u.memoizedState={dehydrated:H,treeContext:vl!==null?{id:Wo,overflow:Go}:null,retryLane:536870912,hydrationErrors:null},he=fs(18,null,null,0),he.stateNode=H,he.return=u,u.child=he,Li=u,oi=null,he=!0):he=!1}he||wl(u)}if(H=u.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return L2(H)?u.lanes=32:u.lanes=536870912,null;Al(u)}return H=g.children,g=g.fallback,x?(Dc(),x=u.mode,H=up({mode:"hidden",children:H},x),g=qo(g,x,d,null),H.return=u,g.return=u,H.sibling=g,u.child=H,x=u.child,x.memoizedState=Y1(d),x.childLanes=X1(l,L,d),u.memoizedState=K1,g):(Rc(u),J1(u,H))}if(he=l.memoizedState,he!==null&&(H=he.dehydrated,H!==null)){if(_)u.flags&256?(Rc(u),u.flags&=-257,u=Q1(l,u,d)):u.memoizedState!==null?(Dc(),u.child=l.child,u.flags|=128,u=null):(Dc(),x=g.fallback,H=u.mode,g=up({mode:"visible",children:g.children},H),x=qo(x,H,d,null),x.flags|=2,g.return=u,x.return=u,g.sibling=x,u.child=g,od(u,l.child,null,d),g=u.child,g.memoizedState=Y1(d),g.childLanes=X1(l,L,d),u.memoizedState=K1,u=x);else if(Rc(u),L2(H)){if(L=H.nextSibling&&H.nextSibling.dataset,L)var Te=L.dgst;L=Te,g=Error(i(419)),g.stack="",g.digest=L,Ec({value:g,source:null,stack:null}),u=Q1(l,u,d)}else if(ms||Tc(l,u,d,!1),L=(d&l.childLanes)!==0,ms||L){if(L=Xn,L!==null&&(g=d&-d,g=(g&42)!==0?1:Gi(g),g=(g&(L.suspendedLanes|d))!==0?0:g,g!==0&&g!==he.retryLane))throw he.retryLane=g,pl(l,g),Gr(L,l,g),H5;H.data==="$?"||p2(),u=Q1(l,u,d)}else H.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=he.treeContext,oi=ta(H.nextSibling),Li=u,xn=!0,Oa=null,mo=!1,l!==null&&(xr[rr++]=Wo,xr[rr++]=Go,xr[rr++]=vl,Wo=l.id,Go=l.overflow,vl=u),u=J1(u,g.children),u.flags|=4096);return u}return x?(Dc(),x=g.fallback,H=u.mode,he=l.child,Te=he.sibling,g=go(he,{mode:"hidden",children:g.children}),g.subtreeFlags=he.subtreeFlags&65011712,Te!==null?x=go(Te,x):(x=qo(x,H,d,null),x.flags|=2),x.return=u,g.return=u,g.sibling=x,u.child=g,g=x,x=u.child,H=l.child.memoizedState,H===null?H=Y1(d):(he=H.cachePool,he!==null?(Te=Di._currentValue,he=he.parent!==Te?{parent:Te,pool:Te}:he):he=F(),H={baseLanes:H.baseLanes|d,cachePool:he}),x.memoizedState=H,x.childLanes=X1(l,L,d),u.memoizedState=K1,g):(Rc(u),d=l.child,l=d.sibling,d=go(d,{mode:"visible",children:g.children}),d.return=u,d.sibling=null,l!==null&&(L=u.deletions,L===null?(u.deletions=[l],u.flags|=16):L.push(l)),u.child=d,u.memoizedState=null,d)}function J1(l,u){return u=up({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function up(l,u){return l=fs(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Q1(l,u,d){return od(u,l.child,null,d),l=J1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function ex(l,u,d){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),Jh(l.return,u,d)}function Z1(l,u,d,g,x){var _=l.memoizedState;_===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=x)}function tx(l,u,d){var g=u.pendingProps,x=g.revealOrder,_=g.tail;if(Ms(l,u,g.children,d),g=is.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ex(l,d,u);else if(l.tag===19)ex(l,d,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(I(is,g),x){case"forwards":for(d=u.child,x=null;d!==null;)l=d.alternate,l!==null&&op(l)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),Z1(u,!1,x,d,_);break;case"backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(l=x.alternate,l!==null&&op(l)===null){u.child=x;break}l=x.sibling,x.sibling=d,d=x,x=l}Z1(u,!0,d,null,_);break;case"together":Z1(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Cl(l,u,d){if(l!==null&&(u.dependencies=l.dependencies),zc|=u.lanes,(d&u.childLanes)===0)if(l!==null){if(Tc(l,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(i(153));if(u.child!==null){for(l=u.child,d=go(l,l.pendingProps),u.child=d,d.return=u;l.sibling!==null;)l=l.sibling,d=d.sibling=go(l,l.pendingProps),d.return=u;d.sibling=null}return u.child}function e2(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Zh(l)))}function GN(l,u,d){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),La(u,Di,l.memoizedState.cache),or();break;case 27:case 5:Le(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:La(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Rc(u),u.flags|=128,null):(d&u.child.childLanes)!==0?Z5(l,u,d):(Rc(u),l=Cl(l,u,d),l!==null?l.sibling:null);Rc(u);break;case 19:var x=(l.flags&128)!==0;if(g=(d&u.childLanes)!==0,g||(Tc(l,u,d,!1),g=(d&u.childLanes)!==0),x){if(g)return tx(l,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),I(is,is.current),g)break;return null;case 22:case 23:return u.lanes=0,K5(l,u,d);case 24:La(u,Di,l.memoizedState.cache)}return Cl(l,u,d)}function nx(l,u,d){if(l!==null)if(l.memoizedProps!==u.pendingProps)ms=!0;else{if(!e2(l,d)&&(u.flags&128)===0)return ms=!1,GN(l,u,d);ms=(l.flags&131072)!==0}else ms=!1,xn&&(u.flags&1048576)!==0&&zm(u,Xh,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var g=u.elementType,x=g._init;if(g=x(g._payload),u.type=g,typeof g=="function")Cc(g)?(l=qu(g,l),u.tag=1,u=J5(null,u,g,l,d)):(u.tag=0,u=$1(null,u,g,l,d));else{if(g!=null){if(x=g.$$typeof,x===V){u.tag=11,u=W5(null,u,g,l,d);break e}else if(x===ee){u.tag=14,u=G5(null,u,g,l,d);break e}}throw u=oe(g)||g,Error(i(306,u,""))}}return u;case 0:return $1(l,u,u.type,u.pendingProps,d);case 1:return g=u.type,x=qu(g,u.pendingProps),J5(l,u,g,x,d);case 3:e:{if(ye(u,u.stateNode.containerInfo),l===null)throw Error(i(387));g=u.pendingProps;var _=u.memoizedState;x=_.element,Fe(l,u),at(u,g,null,d);var L=u.memoizedState;if(g=L.cache,La(u,Di,g),g!==_.cache&&Qh(u,[Di],d,!0),Vt(),g=L.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:L.cache},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){u=Q5(l,u,g,d);break e}else if(g!==x){x=ir(Error(i(424)),u),Ec(x),u=Q5(l,u,g,d);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(oi=ta(l.firstChild),Li=u,xn=!0,Oa=null,mo=!0,d=R5(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(or(),g===x){u=Cl(l,u,d);break e}Ms(l,u,g,d)}u=u.child}return u;case 26:return cp(l,u),l===null?(d=ow(u.type,null,u.pendingProps,null))?u.memoizedState=d:xn||(d=u.type,l=u.pendingProps,g=kp(ce.current).createElement(d),g[$n]=u,g[Vn]=l,Ls(g,d,l),Yn(g),u.stateNode=g):u.memoizedState=ow(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Le(u),l===null&&xn&&(g=u.stateNode=iw(u.type,u.pendingProps,ce.current),Li=u,mo=!0,x=oi,Hc(u.type)?(R2=x,oi=ta(g.firstChild)):oi=x),Ms(l,u,u.pendingProps.children,d),cp(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&xn&&((x=g=oi)&&(g=xE(g,u.type,u.pendingProps,mo),g!==null?(u.stateNode=g,Li=u,oi=ta(g.firstChild),mo=!1,x=!0):x=!1),x||wl(u)),Le(u),x=u.type,_=u.pendingProps,L=l!==null?l.memoizedProps:null,g=_.children,P2(x,_)?g=null:L!==null&&P2(x,L)&&(u.flags|=32),u.memoizedState!==null&&(x=ar(l,u,Tn,null,null,d),Qf._currentValue=x),cp(l,u),Ms(l,u,g,d),u.child;case 6:return l===null&&xn&&((l=d=oi)&&(d=wE(d,u.pendingProps,mo),d!==null?(u.stateNode=d,Li=u,oi=null,l=!0):l=!1),l||wl(u)),null;case 13:return Z5(l,u,d);case 4:return ye(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=od(u,null,g,d):Ms(l,u,g,d),u.child;case 11:return W5(l,u,u.type,u.pendingProps,d);case 7:return Ms(l,u,u.pendingProps,d),u.child;case 8:return Ms(l,u,u.pendingProps.children,d),u.child;case 12:return Ms(l,u,u.pendingProps.children,d),u.child;case 10:return g=u.pendingProps,La(u,u.type,g.value),Ms(l,u,g.children,d),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,yo(u),x=Ri(x),g=g(x),u.flags|=1,Ms(l,u,g,d),u.child;case 14:return G5(l,u,u.type,u.pendingProps,d);case 15:return $5(l,u,u.type,u.pendingProps,d);case 19:return tx(l,u,d);case 31:return g=u.pendingProps,d=u.mode,g={mode:g.mode,children:g.children},l===null?(d=up(g,d),d.ref=u.ref,u.child=d,d.return=u,u=d):(d=go(l.child,g),d.ref=u.ref,u.child=d,d.return=u,u=d),u;case 22:return K5(l,u,d);case 24:return yo(u),g=Ri(Di),l===null?(x=C(),x===null&&(x=Xn,_=wf(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=d),x=_),u.memoizedState={parent:g,cache:x},Ne(u),La(u,Di,x)):((l.lanes&d)!==0&&(Fe(l,u),at(u,null,null,d),Vt()),x=l.memoizedState,_=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),La(u,Di,g)):(g=_.cache,La(u,Di,g),g!==x.cache&&Qh(u,[Di],d,!0))),Ms(l,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Nl(l){l.flags|=4}function ix(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!hw(u)){if(u=wo.current,u!==null&&((bn&4194048)===bn?Da!==null:(bn&62914560)!==bn&&(bn&536870912)===0||u!==Da))throw Z=X,q;l.flags|=8192}}function hp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Ht():536870912,l.lanes|=u,ud|=u)}function Ff(l,u){if(!xn)switch(l.tailMode){case"hidden":u=l.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function xi(l){var u=l.alternate!==null&&l.alternate.child===l.child,d=0,g=0;if(u)for(var x=l.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=g,l.childLanes=d,u}function $N(l,u,d){var g=u.pendingProps;switch(Ou(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(u),null;case 1:return xi(u),null;case 3:return d=u.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),bo(Di),ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(Ns(u)?Nl(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Um())),xi(u),null;case 26:return d=u.memoizedState,l===null?(Nl(u),d!==null?(xi(u),ix(u,d)):(xi(u),u.flags&=-16777217)):d?d!==l.memoizedState?(Nl(u),xi(u),ix(u,d)):(xi(u),u.flags&=-16777217):(l.memoizedProps!==g&&Nl(u),xi(u),u.flags&=-16777217),null;case 27:Re(u),d=ce.current;var x=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==g&&Nl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return xi(u),null}l=K.current,Ns(u)?Vm(u):(l=iw(x,g,d),u.stateNode=l,Nl(u))}return xi(u),null;case 5:if(Re(u),d=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==g&&Nl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return xi(u),null}if(l=K.current,Ns(u))Vm(u);else{switch(x=kp(ce.current),l){case 1:l=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:l=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":l=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":l=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":l=x.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?l.multiple=!0:g.size&&(l.size=g.size);break;default:l=typeof g.is=="string"?x.createElement(d,{is:g.is}):x.createElement(d)}}l[$n]=u,l[Vn]=g;e:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break e;for(;x.sibling===null;){if(x.return===null||x.return===u)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=l;e:switch(Ls(l,d,g),d){case"button":case"input":case"select":case"textarea":l=!!g.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Nl(u)}}return xi(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==g&&Nl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(l=ce.current,Ns(u)){if(l=u.stateNode,d=u.memoizedProps,g=null,x=Li,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}l[$n]=u,l=!!(l.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||Xx(l.nodeValue,d)),l||wl(u)}else l=kp(l).createTextNode(g),l[$n]=u,u.stateNode=l}return xi(u),null;case 13:if(g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(x=Ns(u),g!==null&&g.dehydrated!==null){if(l===null){if(!x)throw Error(i(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[$n]=u}else or(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xi(u),x=!1}else x=Um(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(Al(u),u):(Al(u),null)}if(Al(u),(u.flags&128)!==0)return u.lanes=d,u;if(d=g!==null,l=l!==null&&l.memoizedState!==null,d){g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var _=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==x&&(g.flags|=2048)}return d!==l&&d&&(u.child.flags|=8192),hp(u,u.updateQueue),xi(u),null;case 4:return ke(),l===null&&A2(u.stateNode.containerInfo),xi(u),null;case 10:return bo(u.type),xi(u),null;case 19:if(O(is),x=u.memoizedState,x===null)return xi(u),null;if(g=(u.flags&128)!==0,_=x.rendering,_===null)if(g)Ff(x,!1);else{if(Ci!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(_=op(l),_!==null){for(u.flags|=128,Ff(x,!1),l=_.updateQueue,u.updateQueue=l,hp(u,l),u.subtreeFlags=0,l=d,d=u.child;d!==null;)Tu(d,l),d=d.sibling;return I(is,is.current&1|2),u.child}l=l.sibling}x.tail!==null&&mt()>gp&&(u.flags|=128,g=!0,Ff(x,!1),u.lanes=4194304)}else{if(!g)if(l=op(_),l!==null){if(u.flags|=128,g=!0,l=l.updateQueue,u.updateQueue=l,hp(u,l),Ff(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!xn)return xi(u),null}else 2*mt()-x.renderingStartTime>gp&&d!==536870912&&(u.flags|=128,g=!0,Ff(x,!1),u.lanes=4194304);x.isBackwards?(_.sibling=u.child,u.child=_):(l=x.last,l!==null?l.sibling=_:u.child=_,x.last=_)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=mt(),u.sibling=null,l=is.current,I(is,g?l&1|2:l&1),u):(xi(u),null);case 22:case 23:return Al(u),Ut(),g=u.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(d&536870912)!==0&&(u.flags&128)===0&&(xi(u),u.subtreeFlags&6&&(u.flags|=8192)):xi(u),d=u.updateQueue,d!==null&&hp(u,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048),l!==null&&O(w),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),bo(Di),xi(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function KN(l,u){switch(Ou(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return bo(Di),ke(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Re(u),null;case 13:if(Al(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(i(340));or()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return O(is),null;case 4:return ke(),null;case 10:return bo(u.type),null;case 22:case 23:return Al(u),Ut(),l!==null&&O(w),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return bo(Di),null;case 25:return null;default:return null}}function sx(l,u){switch(Ou(u),u.tag){case 3:bo(Di),ke();break;case 26:case 27:case 5:Re(u);break;case 4:ke();break;case 13:Al(u);break;case 19:O(is);break;case 10:bo(u.type);break;case 22:case 23:Al(u),Ut(),l!==null&&O(w);break;case 24:bo(Di)}}function Bf(l,u){try{var d=u.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&l)===l){g=void 0;var _=d.create,L=d.inst;g=_(),L.destroy=g}d=d.next}while(d!==x)}}catch(H){Hn(u,u.return,H)}}function jc(l,u,d){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var _=x.next;g=_;do{if((g.tag&l)===l){var L=g.inst,H=L.destroy;if(H!==void 0){L.destroy=void 0,x=u;var he=d,Te=H;try{Te()}catch(ze){Hn(x,he,ze)}}}g=g.next}while(g!==_)}}catch(ze){Hn(u,u.return,ze)}}function rx(l){var u=l.updateQueue;if(u!==null){var d=l.stateNode;try{Ai(u,d)}catch(g){Hn(l,l.return,g)}}}function ox(l,u,d){d.props=qu(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(g){Hn(l,u,g)}}function If(l,u){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof d=="function"?l.refCleanup=d(g):d.current=g}}catch(x){Hn(l,u,x)}}function ja(l,u){var d=l.ref,g=l.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(x){Hn(l,u,x)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Hn(l,u,x)}else d.current=null}function ax(l){var u=l.type,d=l.memoizedProps,g=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(x){Hn(l,l.return,x)}}function t2(l,u,d){try{var g=l.stateNode;mE(g,l.type,d,u),g[Vn]=u}catch(x){Hn(l,l.return,x)}}function lx(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Hc(l.type)||l.tag===4}function n2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||lx(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Hc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function i2(l,u,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(l),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Sp));else if(g!==4&&(g===27&&Hc(l.type)&&(d=l.stateNode,u=null),l=l.child,l!==null))for(i2(l,u,d),l=l.sibling;l!==null;)i2(l,u,d),l=l.sibling}function dp(l,u,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?d.insertBefore(l,u):d.appendChild(l);else if(g!==4&&(g===27&&Hc(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(dp(l,u,d),l=l.sibling;l!==null;)dp(l,u,d),l=l.sibling}function cx(l){var u=l.stateNode,d=l.memoizedProps;try{for(var g=l.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);Ls(u,g,d),u[$n]=l,u[Vn]=d}catch(_){Hn(l,l.return,_)}}var El=!1,Ii=!1,s2=!1,ux=typeof WeakSet=="function"?WeakSet:Set,ps=null;function YN(l,u){if(l=l.containerInfo,E2=Pp,l=Sc(l),ho(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var L=0,H=-1,he=-1,Te=0,ze=0,He=l,Pe=null;t:for(;;){for(var Oe;He!==d||x!==0&&He.nodeType!==3||(H=L+x),He!==_||g!==0&&He.nodeType!==3||(he=L+g),He.nodeType===3&&(L+=He.nodeValue.length),(Oe=He.firstChild)!==null;)Pe=He,He=Oe;for(;;){if(He===l)break t;if(Pe===d&&++Te===x&&(H=L),Pe===_&&++ze===g&&(he=L),(Oe=He.nextSibling)!==null)break;He=Pe,Pe=He.parentNode}He=Oe}d=H===-1||he===-1?null:{start:H,end:he}}else d=null}d=d||{start:0,end:0}}else d=null;for(T2={focusedElem:l,selectionRange:d},Pp=!1,ps=u;ps!==null;)if(u=ps,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,ps=l;else for(;ps!==null;){switch(u=ps,_=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&_!==null){l=void 0,d=u,x=_.memoizedProps,_=_.memoizedState,g=d.stateNode;try{var Ft=qu(d.type,x,d.elementType===d.type);l=g.getSnapshotBeforeUpdate(Ft,_),g.__reactInternalSnapshotBeforeUpdate=l}catch(Pt){Hn(d,d.return,Pt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,d=l.nodeType,d===9)O2(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":O2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=u.sibling,l!==null){l.return=u.return,ps=l;break}ps=u.return}}function hx(l,u,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Fc(l,d),g&4&&Bf(5,d);break;case 1:if(Fc(l,d),g&4)if(l=d.stateNode,u===null)try{l.componentDidMount()}catch(L){Hn(d,d.return,L)}else{var x=qu(d.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(x,u,l.__reactInternalSnapshotBeforeUpdate)}catch(L){Hn(d,d.return,L)}}g&64&&rx(d),g&512&&If(d,d.return);break;case 3:if(Fc(l,d),g&64&&(l=d.updateQueue,l!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Ai(l,u)}catch(L){Hn(d,d.return,L)}}break;case 27:u===null&&g&4&&cx(d);case 26:case 5:Fc(l,d),u===null&&g&4&&ax(d),g&512&&If(d,d.return);break;case 12:Fc(l,d);break;case 13:Fc(l,d),g&4&&gx(l,d),g&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=sE.bind(null,d),_E(l,d))));break;case 22:if(g=d.memoizedState!==null||El,!g){u=u!==null&&u.memoizedState!==null||Ii,x=El;var _=Ii;El=g,(Ii=u)&&!_?Bc(l,d,(d.subtreeFlags&8772)!==0):Fc(l,d),El=x,Ii=_}break;case 30:break;default:Fc(l,d)}}function dx(l){var u=l.alternate;u!==null&&(l.alternate=null,dx(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Xs(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ui=null,wr=!1;function Tl(l,u,d){for(d=d.child;d!==null;)fx(l,u,d),d=d.sibling}function fx(l,u,d){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(rt,d)}catch{}switch(d.tag){case 26:Ii||ja(d,u),Tl(l,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ii||ja(d,u);var g=ui,x=wr;Hc(d.type)&&(ui=d.stateNode,wr=!1),Tl(l,u,d),Kf(d.stateNode),ui=g,wr=x;break;case 5:Ii||ja(d,u);case 6:if(g=ui,x=wr,ui=null,Tl(l,u,d),ui=g,wr=x,ui!==null)if(wr)try{(ui.nodeType===9?ui.body:ui.nodeName==="HTML"?ui.ownerDocument.body:ui).removeChild(d.stateNode)}catch(_){Hn(d,u,_)}else try{ui.removeChild(d.stateNode)}catch(_){Hn(d,u,_)}break;case 18:ui!==null&&(wr?(l=ui,tw(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),ng(l)):tw(ui,d.stateNode));break;case 4:g=ui,x=wr,ui=d.stateNode.containerInfo,wr=!0,Tl(l,u,d),ui=g,wr=x;break;case 0:case 11:case 14:case 15:Ii||jc(2,d,u),Ii||jc(4,d,u),Tl(l,u,d);break;case 1:Ii||(ja(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"&&ox(d,u,g)),Tl(l,u,d);break;case 21:Tl(l,u,d);break;case 22:Ii=(g=Ii)||d.memoizedState!==null,Tl(l,u,d),Ii=g;break;default:Tl(l,u,d)}}function gx(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ng(l)}catch(d){Hn(u,u.return,d)}}function XN(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new ux),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new ux),u;default:throw Error(i(435,l.tag))}}function r2(l,u){var d=XN(l);u.forEach(function(g){var x=rE.bind(null,l,g);d.has(g)||(d.add(g),g.then(x,x))})}function Ur(l,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g],_=l,L=u,H=L;e:for(;H!==null;){switch(H.tag){case 27:if(Hc(H.type)){ui=H.stateNode,wr=!1;break e}break;case 5:ui=H.stateNode,wr=!1;break e;case 3:case 4:ui=H.stateNode.containerInfo,wr=!0;break e}H=H.return}if(ui===null)throw Error(i(160));fx(_,L,x),ui=null,wr=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)mx(u,l),u=u.sibling}var ea=null;function mx(l,u){var d=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ur(u,l),qr(l),g&4&&(jc(3,l,l.return),Bf(3,l),jc(5,l,l.return));break;case 1:Ur(u,l),qr(l),g&512&&(Ii||d===null||ja(d,d.return)),g&64&&El&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var x=ea;if(Ur(u,l),qr(l),g&512&&(Ii||d===null||ja(d,d.return)),g&4){var _=d!==null?d.memoizedState:null;if(g=l.memoizedState,d===null)if(g===null)if(l.stateNode===null){e:{g=l.type,d=l.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":_=x.getElementsByTagName("title")[0],(!_||_[dr]||_[$n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(g),x.head.insertBefore(_,x.querySelector("head > title"))),Ls(_,g,d),_[$n]=l,Yn(_),g=_;break e;case"link":var L=cw("link","href",x).get(g+(d.href||""));if(L){for(var H=0;H<L.length;H++)if(_=L[H],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(H,1);break t}}_=x.createElement(g),Ls(_,g,d),x.head.appendChild(_);break;case"meta":if(L=cw("meta","content",x).get(g+(d.content||""))){for(H=0;H<L.length;H++)if(_=L[H],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(H,1);break t}}_=x.createElement(g),Ls(_,g,d),x.head.appendChild(_);break;default:throw Error(i(468,g))}_[$n]=l,Yn(_),g=_}l.stateNode=g}else uw(x,l.type,l.stateNode);else l.stateNode=lw(x,g,l.memoizedProps);else _!==g?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,g===null?uw(x,l.type,l.stateNode):lw(x,g,l.memoizedProps)):g===null&&l.stateNode!==null&&t2(l,l.memoizedProps,d.memoizedProps)}break;case 27:Ur(u,l),qr(l),g&512&&(Ii||d===null||ja(d,d.return)),d!==null&&g&4&&t2(l,l.memoizedProps,d.memoizedProps);break;case 5:if(Ur(u,l),qr(l),g&512&&(Ii||d===null||ja(d,d.return)),l.flags&32){x=l.stateNode;try{Po(x,"")}catch(Oe){Hn(l,l.return,Oe)}}g&4&&l.stateNode!=null&&(x=l.memoizedProps,t2(l,x,d!==null?d.memoizedProps:x)),g&1024&&(s2=!0);break;case 6:if(Ur(u,l),qr(l),g&4){if(l.stateNode===null)throw Error(i(162));g=l.memoizedProps,d=l.stateNode;try{d.nodeValue=g}catch(Oe){Hn(l,l.return,Oe)}}break;case 3:if(Np=null,x=ea,ea=Ap(u.containerInfo),Ur(u,l),ea=x,qr(l),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ng(u.containerInfo)}catch(Oe){Hn(l,l.return,Oe)}s2&&(s2=!1,px(l));break;case 4:g=ea,ea=Ap(l.stateNode.containerInfo),Ur(u,l),qr(l),ea=g;break;case 12:Ur(u,l),qr(l);break;case 13:Ur(u,l),qr(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(h2=mt()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,r2(l,g)));break;case 22:x=l.memoizedState!==null;var he=d!==null&&d.memoizedState!==null,Te=El,ze=Ii;if(El=Te||x,Ii=ze||he,Ur(u,l),Ii=ze,El=Te,qr(l),g&8192)e:for(u=l.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(d===null||he||El||Ii||Hu(l)),d=null,u=l;;){if(u.tag===5||u.tag===26){if(d===null){he=d=u;try{if(_=he.stateNode,x)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{H=he.stateNode;var He=he.memoizedProps.style,Pe=He!=null&&He.hasOwnProperty("display")?He.display:null;H.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Oe){Hn(he,he.return,Oe)}}}else if(u.tag===6){if(d===null){he=u;try{he.stateNode.nodeValue=x?"":he.memoizedProps}catch(Oe){Hn(he,he.return,Oe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=l.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,r2(l,d))));break;case 19:Ur(u,l),qr(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,r2(l,g)));break;case 30:break;case 21:break;default:Ur(u,l),qr(l)}}function qr(l){var u=l.flags;if(u&2){try{for(var d,g=l.return;g!==null;){if(lx(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var x=d.stateNode,_=n2(l);dp(l,_,x);break;case 5:var L=d.stateNode;d.flags&32&&(Po(L,""),d.flags&=-33);var H=n2(l);dp(l,H,L);break;case 3:case 4:var he=d.stateNode.containerInfo,Te=n2(l);i2(l,Te,he);break;default:throw Error(i(161))}}catch(ze){Hn(l,l.return,ze)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function px(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;px(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Fc(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)hx(l,u.alternate,u),u=u.sibling}function Hu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:jc(4,u,u.return),Hu(u);break;case 1:ja(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&ox(u,u.return,d),Hu(u);break;case 27:Kf(u.stateNode);case 26:case 5:ja(u,u.return),Hu(u);break;case 22:u.memoizedState===null&&Hu(u);break;case 30:Hu(u);break;default:Hu(u)}l=l.sibling}}function Bc(l,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=l,_=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:Bc(x,_,d),Bf(4,_);break;case 1:if(Bc(x,_,d),g=_,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Te){Hn(g,g.return,Te)}if(g=_,x=g.updateQueue,x!==null){var H=g.stateNode;try{var he=x.shared.hiddenCallbacks;if(he!==null)for(x.shared.hiddenCallbacks=null,x=0;x<he.length;x++)sn(he[x],H)}catch(Te){Hn(g,g.return,Te)}}d&&L&64&&rx(_),If(_,_.return);break;case 27:cx(_);case 26:case 5:Bc(x,_,d),d&&g===null&&L&4&&ax(_),If(_,_.return);break;case 12:Bc(x,_,d);break;case 13:Bc(x,_,d),d&&L&4&&gx(x,_);break;case 22:_.memoizedState===null&&Bc(x,_,d),If(_,_.return);break;case 30:break;default:Bc(x,_,d)}u=u.sibling}}function o2(l,u){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&Lu(d))}function a2(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Lu(l))}function Fa(l,u,d,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)bx(l,u,d,g),u=u.sibling}function bx(l,u,d,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Fa(l,u,d,g),x&2048&&Bf(9,u);break;case 1:Fa(l,u,d,g);break;case 3:Fa(l,u,d,g),x&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Lu(l)));break;case 12:if(x&2048){Fa(l,u,d,g),l=u.stateNode;try{var _=u.memoizedProps,L=_.id,H=_.onPostCommit;typeof H=="function"&&H(L,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(he){Hn(u,u.return,he)}}else Fa(l,u,d,g);break;case 13:Fa(l,u,d,g);break;case 23:break;case 22:_=u.stateNode,L=u.alternate,u.memoizedState!==null?_._visibility&2?Fa(l,u,d,g):zf(l,u):_._visibility&2?Fa(l,u,d,g):(_._visibility|=2,ad(l,u,d,g,(u.subtreeFlags&10256)!==0)),x&2048&&o2(L,u);break;case 24:Fa(l,u,d,g),x&2048&&a2(u.alternate,u);break;default:Fa(l,u,d,g)}}function ad(l,u,d,g,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var _=l,L=u,H=d,he=g,Te=L.flags;switch(L.tag){case 0:case 11:case 15:ad(_,L,H,he,x),Bf(8,L);break;case 23:break;case 22:var ze=L.stateNode;L.memoizedState!==null?ze._visibility&2?ad(_,L,H,he,x):zf(_,L):(ze._visibility|=2,ad(_,L,H,he,x)),x&&Te&2048&&o2(L.alternate,L);break;case 24:ad(_,L,H,he,x),x&&Te&2048&&a2(L.alternate,L);break;default:ad(_,L,H,he,x)}u=u.sibling}}function zf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=l,g=u,x=g.flags;switch(g.tag){case 22:zf(d,g),x&2048&&o2(g.alternate,g);break;case 24:zf(d,g),x&2048&&a2(g.alternate,g);break;default:zf(d,g)}u=u.sibling}}var Vf=8192;function ld(l){if(l.subtreeFlags&Vf)for(l=l.child;l!==null;)yx(l),l=l.sibling}function yx(l){switch(l.tag){case 26:ld(l),l.flags&Vf&&l.memoizedState!==null&&DE(ea,l.memoizedState,l.memoizedProps);break;case 5:ld(l);break;case 3:case 4:var u=ea;ea=Ap(l.stateNode.containerInfo),ld(l),ea=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Vf,Vf=16777216,ld(l),Vf=u):ld(l));break;default:ld(l)}}function vx(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Uf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];ps=g,wx(g,l)}vx(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xx(l),l=l.sibling}function xx(l){switch(l.tag){case 0:case 11:case 15:Uf(l),l.flags&2048&&jc(9,l,l.return);break;case 3:Uf(l);break;case 12:Uf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,fp(l)):Uf(l);break;default:Uf(l)}}function fp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var g=u[d];ps=g,wx(g,l)}vx(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:jc(8,u,u.return),fp(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,fp(u));break;default:fp(u)}l=l.sibling}}function wx(l,u){for(;ps!==null;){var d=ps;switch(d.tag){case 0:case 11:case 15:jc(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Lu(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,ps=g;else e:for(d=l;ps!==null;){g=ps;var x=g.sibling,_=g.return;if(dx(g),g===d){ps=null;break e}if(x!==null){x.return=_,ps=x;break e}ps=_}}}var JN={getCacheForType:function(l){var u=Ri(Di),d=u.data.get(l);return d===void 0&&(d=l(),u.data.set(l,d)),d}},QN=typeof WeakMap=="function"?WeakMap:Map,Pn=0,Xn=null,ln=null,bn=0,Mn=0,Hr=null,Ic=!1,cd=!1,l2=!1,Pl=0,Ci=0,zc=0,Wu=0,c2=0,_o=0,ud=0,qf=null,_r=null,u2=!1,h2=0,gp=1/0,mp=null,Vc=null,Os=0,Uc=null,hd=null,dd=0,d2=0,f2=null,_x=null,Hf=0,g2=null;function Wr(){if((Pn&2)!==0&&bn!==0)return bn&-bn;if(Q.T!==null){var l=_l;return l!==0?l:w2()}return Pr()}function Sx(){_o===0&&(_o=(bn&536870912)===0||xn?At():536870912);var l=wo.current;return l!==null&&(l.flags|=32),_o}function Gr(l,u,d){(l===Xn&&(Mn===2||Mn===9)||l.cancelPendingCommit!==null)&&(fd(l,0),qc(l,bn,_o,!1)),Kt(l,d),((Pn&2)===0||l!==Xn)&&(l===Xn&&((Pn&2)===0&&(Wu|=d),Ci===4&&qc(l,bn,_o,!1)),Ba(l))}function kx(l,u,d){if((Pn&6)!==0)throw Error(i(327));var g=!d&&(u&124)===0&&(u&l.expiredLanes)===0||wt(l,u),x=g?tE(l,u):b2(l,u,!0),_=g;do{if(x===0){cd&&!g&&qc(l,u,0,!1);break}else{if(d=l.current.alternate,_&&!ZN(d)){x=b2(l,u,!1),_=!1;continue}if(x===2){if(_=u,l.errorRecoveryDisabledLanes&_)var L=0;else L=l.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){u=L;e:{var H=l;x=qf;var he=H.current.memoizedState.isDehydrated;if(he&&(fd(H,L).flags|=256),L=b2(H,L,!1),L!==2){if(l2&&!he){H.errorRecoveryDisabledLanes|=_,Wu|=_,x=4;break e}_=_r,_r=x,_!==null&&(_r===null?_r=_:_r.push.apply(_r,_))}x=L}if(_=!1,x!==2)continue}}if(x===1){fd(l,0),qc(l,u,0,!0);break}e:{switch(g=l,_=x,_){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:qc(g,u,_o,!Ic);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(x=h2+300-mt(),10<x)){if(qc(g,u,_o,!Ic),En(g,0,!0)!==0)break e;g.timeoutHandle=Zx(Ax.bind(null,g,d,_r,mp,u2,u,_o,Wu,ud,Ic,_,2,-0,0),x);break e}Ax(g,d,_r,mp,u2,u,_o,Wu,ud,Ic,_,0,-0,0)}}break}while(!0);Ba(l)}function Ax(l,u,d,g,x,_,L,H,he,Te,ze,He,Pe,Oe){if(l.timeoutHandle=-1,He=u.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(Jf={stylesheets:null,count:0,unsuspend:RE},yx(u),He=jE(),He!==null)){l.cancelPendingCommit=He(Ox.bind(null,l,u,_,d,g,x,L,H,he,ze,1,Pe,Oe)),qc(l,_,L,!Te);return}Ox(l,u,_,d,g,x,L,H,he)}function ZN(l){for(var u=l;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var x=d[g],_=x.getSnapshot;x=x.value;try{if(!si(_(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function qc(l,u,d,g){u&=~c2,u&=~Wu,l.suspendedLanes|=u,l.pingedLanes&=~u,g&&(l.warmLanes|=u),g=l.expirationTimes;for(var x=u;0<x;){var _=31-et(x),L=1<<_;g[_]=-1,x&=~L}d!==0&&vn(l,d,u)}function pp(){return(Pn&6)===0?(Wf(0),!1):!0}function m2(){if(ln!==null){if(Mn===0)var l=ln.return;else l=ln,Ko=Xi=null,ts(l),rd=null,Df=0,l=ln;for(;l!==null;)sx(l.alternate,l),l=l.return;ln=null}}function fd(l,u){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,bE(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),m2(),Xn=l,ln=d=go(l.current,null),bn=u,Mn=0,Hr=null,Ic=!1,cd=wt(l,u),l2=!1,ud=_o=c2=Wu=zc=Ci=0,_r=qf=null,u2=!1,(u&8)!==0&&(u|=u&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=u;0<g;){var x=31-et(g),_=1<<x;u|=l[x],g&=~_}return Pl=u,Nu(),d}function Cx(l,u){ht=null,Q.H=ip,u===z||u===G?(u=ve(),Mn=3):u===q?(u=ve(),Mn=4):Mn=u===H5?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Hr=u,ln===null&&(Ci=1,lp(l,ir(u,l.current)))}function Nx(){var l=Q.H;return Q.H=ip,l===null?ip:l}function Ex(){var l=Q.A;return Q.A=JN,l}function p2(){Ci=4,Ic||(bn&4194048)!==bn&&wo.current!==null||(cd=!0),(zc&134217727)===0&&(Wu&134217727)===0||Xn===null||qc(Xn,bn,_o,!1)}function b2(l,u,d){var g=Pn;Pn|=2;var x=Nx(),_=Ex();(Xn!==l||bn!==u)&&(mp=null,fd(l,u)),u=!1;var L=Ci;e:do try{if(Mn!==0&&ln!==null){var H=ln,he=Hr;switch(Mn){case 8:m2(),L=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(u=!0);var Te=Mn;if(Mn=0,Hr=null,gd(l,H,he,Te),d&&cd){L=0;break e}break;default:Te=Mn,Mn=0,Hr=null,gd(l,H,he,Te)}}eE(),L=Ci;break}catch(ze){Cx(l,ze)}while(!0);return u&&l.shellSuspendCounter++,Ko=Xi=null,Pn=g,Q.H=x,Q.A=_,ln===null&&(Xn=null,bn=0,Nu()),L}function eE(){for(;ln!==null;)Tx(ln)}function tE(l,u){var d=Pn;Pn|=2;var g=Nx(),x=Ex();Xn!==l||bn!==u?(mp=null,gp=mt()+500,fd(l,u)):cd=wt(l,u);e:do try{if(Mn!==0&&ln!==null){u=ln;var _=Hr;t:switch(Mn){case 1:Mn=0,Hr=null,gd(l,u,_,1);break;case 2:case 9:if(te(_)){Mn=0,Hr=null,Px(u);break}u=function(){Mn!==2&&Mn!==9||Xn!==l||(Mn=7),Ba(l)},_.then(u,u);break e;case 3:Mn=7;break e;case 4:Mn=5;break e;case 7:te(_)?(Mn=0,Hr=null,Px(u)):(Mn=0,Hr=null,gd(l,u,_,7));break;case 5:var L=null;switch(ln.tag){case 26:L=ln.memoizedState;case 5:case 27:var H=ln;if(!L||hw(L)){Mn=0,Hr=null;var he=H.sibling;if(he!==null)ln=he;else{var Te=H.return;Te!==null?(ln=Te,bp(Te)):ln=null}break t}}Mn=0,Hr=null,gd(l,u,_,5);break;case 6:Mn=0,Hr=null,gd(l,u,_,6);break;case 8:m2(),Ci=6;break e;default:throw Error(i(462))}}nE();break}catch(ze){Cx(l,ze)}while(!0);return Ko=Xi=null,Q.H=g,Q.A=x,Pn=d,ln!==null?0:(Xn=null,bn=0,Nu(),Ci)}function nE(){for(;ln!==null&&!Y();)Tx(ln)}function Tx(l){var u=nx(l.alternate,l,Pl);l.memoizedProps=l.pendingProps,u===null?bp(l):ln=u}function Px(l){var u=l,d=u.alternate;switch(u.tag){case 15:case 0:u=X5(d,u,u.pendingProps,u.type,void 0,bn);break;case 11:u=X5(d,u,u.pendingProps,u.type.render,u.ref,bn);break;case 5:ts(u);default:sx(d,u),u=ln=Tu(u,Pl),u=nx(d,u,Pl)}l.memoizedProps=l.pendingProps,u===null?bp(l):ln=u}function gd(l,u,d,g){Ko=Xi=null,ts(u),rd=null,Df=0;var x=u.return;try{if(WN(l,x,u,d,bn)){Ci=1,lp(l,ir(d,l.current)),ln=null;return}}catch(_){if(x!==null)throw ln=x,_;Ci=1,lp(l,ir(d,l.current)),ln=null;return}u.flags&32768?(xn||g===1?l=!0:cd||(bn&536870912)!==0?l=!1:(Ic=l=!0,(g===2||g===9||g===3||g===6)&&(g=wo.current,g!==null&&g.tag===13&&(g.flags|=16384))),Mx(u,l)):bp(u)}function bp(l){var u=l;do{if((u.flags&32768)!==0){Mx(u,Ic);return}l=u.return;var d=$N(u.alternate,u,Pl);if(d!==null){ln=d;return}if(u=u.sibling,u!==null){ln=u;return}ln=u=l}while(u!==null);Ci===0&&(Ci=5)}function Mx(l,u){do{var d=KN(l.alternate,l);if(d!==null){d.flags&=32767,ln=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(l=l.sibling,l!==null)){ln=l;return}ln=l=d}while(l!==null);Ci=6,ln=null}function Ox(l,u,d,g,x,_,L,H,he){l.cancelPendingCommit=null;do yp();while(Os!==0);if((Pn&6)!==0)throw Error(i(327));if(u!==null){if(u===l.current)throw Error(i(177));if(_=u.lanes|u.childLanes,_|=Gh,Ct(l,d,_,L,H,he),l===Xn&&(ln=Xn=null,bn=0),hd=u,Uc=l,dd=d,d2=_,f2=x,_x=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,oE(tt,function(){return Fx(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Q.T,Q.T=null,x=ae.p,ae.p=2,L=Pn,Pn|=4;try{YN(l,u,d)}finally{Pn=L,ae.p=x,Q.T=g}}Os=1,Lx(),Rx(),Dx()}}function Lx(){if(Os===1){Os=0;var l=Uc,u=hd,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var g=ae.p;ae.p=2;var x=Pn;Pn|=4;try{mx(u,l);var _=T2,L=Sc(l.containerInfo),H=_.focusedElem,he=_.selectionRange;if(L!==H&&H&&H.ownerDocument&&_c(H.ownerDocument.documentElement,H)){if(he!==null&&ho(H)){var Te=he.start,ze=he.end;if(ze===void 0&&(ze=Te),"selectionStart"in H)H.selectionStart=Te,H.selectionEnd=Math.min(ze,H.value.length);else{var He=H.ownerDocument||document,Pe=He&&He.defaultView||window;if(Pe.getSelection){var Oe=Pe.getSelection(),Ft=H.textContent.length,Pt=Math.min(he.start,Ft),In=he.end===void 0?Pt:Math.min(he.end,Ft);!Oe.extend&&Pt>In&&(L=In,In=Pt,Pt=L);var _e=wc(H,Pt),be=wc(H,In);if(_e&&be&&(Oe.rangeCount!==1||Oe.anchorNode!==_e.node||Oe.anchorOffset!==_e.offset||Oe.focusNode!==be.node||Oe.focusOffset!==be.offset)){var Ce=He.createRange();Ce.setStart(_e.node,_e.offset),Oe.removeAllRanges(),Pt>In?(Oe.addRange(Ce),Oe.extend(be.node,be.offset)):(Ce.setEnd(be.node,be.offset),Oe.addRange(Ce))}}}}for(He=[],Oe=H;Oe=Oe.parentNode;)Oe.nodeType===1&&He.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<He.length;H++){var Ve=He[H];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Pp=!!E2,T2=E2=null}finally{Pn=x,ae.p=g,Q.T=d}}l.current=u,Os=2}}function Rx(){if(Os===2){Os=0;var l=Uc,u=hd,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var g=ae.p;ae.p=2;var x=Pn;Pn|=4;try{hx(l,u.alternate,u)}finally{Pn=x,ae.p=g,Q.T=d}}Os=3}}function Dx(){if(Os===4||Os===3){Os=0,Ue();var l=Uc,u=hd,d=dd,g=_x;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Os=5:(Os=0,hd=Uc=null,jx(l,l.pendingLanes));var x=l.pendingLanes;if(x===0&&(Vc=null),Tr(d),u=u.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(rt,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Q.T,x=ae.p,ae.p=2,Q.T=null;try{for(var _=l.onRecoverableError,L=0;L<g.length;L++){var H=g[L];_(H.value,{componentStack:H.stack})}}finally{Q.T=u,ae.p=x}}(dd&3)!==0&&yp(),Ba(l),x=l.pendingLanes,(d&4194090)!==0&&(x&42)!==0?l===g2?Hf++:(Hf=0,g2=l):Hf=0,Wf(0)}}function jx(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Lu(u)))}function yp(l){return Lx(),Rx(),Dx(),Fx()}function Fx(){if(Os!==5)return!1;var l=Uc,u=d2;d2=0;var d=Tr(dd),g=Q.T,x=ae.p;try{ae.p=32>d?32:d,Q.T=null,d=f2,f2=null;var _=Uc,L=dd;if(Os=0,hd=Uc=null,dd=0,(Pn&6)!==0)throw Error(i(331));var H=Pn;if(Pn|=4,xx(_.current),bx(_,_.current,L,d),Pn=H,Wf(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(rt,_)}catch{}return!0}finally{ae.p=x,Q.T=g,jx(l,u)}}function Bx(l,u,d){u=ir(d,u),u=G1(l.stateNode,u,2),l=$e(l,u,2),l!==null&&(Kt(l,2),Ba(l))}function Hn(l,u,d){if(l.tag===3)Bx(l,l,d);else for(;u!==null;){if(u.tag===3){Bx(u,l,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Vc===null||!Vc.has(g))){l=ir(d,l),d=U5(2),g=$e(u,d,2),g!==null&&(q5(d,g,u,l),Kt(g,2),Ba(g));break}}u=u.return}}function y2(l,u,d){var g=l.pingCache;if(g===null){g=l.pingCache=new QN;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(d)||(l2=!0,x.add(d),l=iE.bind(null,l,u,d),u.then(l,l))}function iE(l,u,d){var g=l.pingCache;g!==null&&g.delete(u),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,Xn===l&&(bn&d)===d&&(Ci===4||Ci===3&&(bn&62914560)===bn&&300>mt()-h2?(Pn&2)===0&&fd(l,0):c2|=d,ud===bn&&(ud=0)),Ba(l)}function Ix(l,u){u===0&&(u=Ht()),l=pl(l,u),l!==null&&(Kt(l,u),Ba(l))}function sE(l){var u=l.memoizedState,d=0;u!==null&&(d=u.retryLane),Ix(l,d)}function rE(l,u){var d=0;switch(l.tag){case 13:var g=l.stateNode,x=l.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),Ix(l,d)}function oE(l,u){return Ye(l,u)}var vp=null,md=null,v2=!1,xp=!1,x2=!1,Gu=0;function Ba(l){l!==md&&l.next===null&&(md===null?vp=md=l:md=md.next=l),xp=!0,v2||(v2=!0,lE())}function Wf(l,u){if(!x2&&xp){x2=!0;do for(var d=!1,g=vp;g!==null;){if(l!==0){var x=g.pendingLanes;if(x===0)var _=0;else{var L=g.suspendedLanes,H=g.pingedLanes;_=(1<<31-et(42|l)+1)-1,_&=x&~(L&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,qx(g,_))}else _=bn,_=En(g,g===Xn?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||wt(g,_)||(d=!0,qx(g,_));g=g.next}while(d);x2=!1}}function aE(){zx()}function zx(){xp=v2=!1;var l=0;Gu!==0&&(pE()&&(l=Gu),Gu=0);for(var u=mt(),d=null,g=vp;g!==null;){var x=g.next,_=Vx(g,u);_===0?(g.next=null,d===null?vp=x:d.next=x,x===null&&(md=d)):(d=g,(l!==0||(_&3)!==0)&&(xp=!0)),g=x}Wf(l)}function Vx(l,u){for(var d=l.suspendedLanes,g=l.pingedLanes,x=l.expirationTimes,_=l.pendingLanes&-62914561;0<_;){var L=31-et(_),H=1<<L,he=x[L];he===-1?((H&d)===0||(H&g)!==0)&&(x[L]=Rn(H,u)):he<=u&&(l.expiredLanes|=H),_&=~H}if(u=Xn,d=bn,d=En(l,l===u?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,d===0||l===u&&(Mn===2||Mn===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&Qe(g),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||wt(l,d)){if(u=d&-d,u===l.callbackPriority)return u;switch(g!==null&&Qe(g),Tr(d)){case 2:case 8:d=pt;break;case 32:d=tt;break;case 268435456:d=bt;break;default:d=tt}return g=Ux.bind(null,l),d=Ye(d,g),l.callbackPriority=u,l.callbackNode=d,u}return g!==null&&g!==null&&Qe(g),l.callbackPriority=2,l.callbackNode=null,2}function Ux(l,u){if(Os!==0&&Os!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(yp()&&l.callbackNode!==d)return null;var g=bn;return g=En(l,l===Xn?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(kx(l,g,u),Vx(l,mt()),l.callbackNode!=null&&l.callbackNode===d?Ux.bind(null,l):null)}function qx(l,u){if(yp())return null;kx(l,u,!0)}function lE(){yE(function(){(Pn&6)!==0?Ye(Be,aE):zx()})}function w2(){return Gu===0&&(Gu=At()),Gu}function Hx(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:al(""+l)}function Wx(l,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,l.id&&d.setAttribute("form",l.id),u.parentNode.insertBefore(d,u),l=new FormData(l),d.parentNode.removeChild(d),l}function cE(l,u,d,g,x){if(u==="submit"&&d&&d.stateNode===x){var _=Hx((x[Vn]||null).action),L=g.submitter;L&&(u=(u=L[Vn]||null)?Hx(u.formAction):L.getAttribute("formAction"),u!==null&&(_=u,L=null));var H=new xa("action","action",null,g,x);l.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Gu!==0){var he=L?Wx(x,L):new FormData(x);xo(d,{pending:!0,data:he,method:x.method,action:_},null,he)}}else typeof _=="function"&&(H.preventDefault(),he=L?Wx(x,L):new FormData(x),xo(d,{pending:!0,data:he,method:x.method,action:_},_,he))},currentTarget:x}]})}}for(var _2=0;_2<Wh.length;_2++){var S2=Wh[_2],uE=S2.toLowerCase(),hE=S2[0].toUpperCase()+S2.slice(1);yr(uE,"on"+hE)}yr(fo,"onAnimationEnd"),yr(kc,"onAnimationIteration"),yr(gl,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(Hh,"onTransitionRun"),yr(Bm,"onTransitionStart"),yr(Im,"onTransitionCancel"),yr(yf,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function Gx(l,u){u=(u&4)!==0;for(var d=0;d<l.length;d++){var g=l[d],x=g.event;g=g.listeners;e:{var _=void 0;if(u)for(var L=g.length-1;0<=L;L--){var H=g[L],he=H.instance,Te=H.currentTarget;if(H=H.listener,he!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=Te;try{_(x)}catch(ze){ap(ze)}x.currentTarget=null,_=he}else for(L=0;L<g.length;L++){if(H=g[L],he=H.instance,Te=H.currentTarget,H=H.listener,he!==_&&x.isPropagationStopped())break e;_=H,x.currentTarget=Te;try{_(x)}catch(ze){ap(ze)}x.currentTarget=null,_=he}}}}function cn(l,u){var d=u[Kn];d===void 0&&(d=u[Kn]=new Set);var g=l+"__bubble";d.has(g)||($x(u,l,2,!1),d.add(g))}function k2(l,u,d){var g=0;u&&(g|=4),$x(d,l,g,u)}var wp="_reactListening"+Math.random().toString(36).slice(2);function A2(l){if(!l[wp]){l[wp]=!0,Mr.forEach(function(d){d!=="selectionchange"&&(dE.has(d)||k2(d,!1,l),k2(d,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[wp]||(u[wp]=!0,k2("selectionchange",!1,u))}}function $x(l,u,d,g){switch(bw(u)){case 2:var x=IE;break;case 8:x=zE;break;default:x=I2}d=x.bind(null,u,d,l),x=void 0,!jr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?l.addEventListener(u,d,{capture:!0,passive:x}):l.addEventListener(u,d,!0):x!==void 0?l.addEventListener(u,d,{passive:x}):l.addEventListener(u,d,!1)}function C2(l,u,d,g,x){var _=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var H=g.stateNode.containerInfo;if(H===x)break;if(L===4)for(L=g.return;L!==null;){var he=L.tag;if((he===3||he===4)&&L.stateNode.containerInfo===x)return;L=L.return}for(;H!==null;){if(L=_s(H),L===null)return;if(he=L.tag,he===5||he===6||he===26||he===27){g=_=L;continue e}H=H.parentNode}}g=g.return}Bh(function(){var Te=_,ze=_u(d),He=[];e:{var Pe=vf.get(l);if(Pe!==void 0){var Oe=xa,Ft=l;switch(l){case"keypress":if(ro(d)===0)break e;case"keydown":case"keyup":Oe=Dt;break;case"focusin":Ft="focus",Oe=Br;break;case"focusout":Ft="blur",Oe=Br;break;case"beforeblur":case"afterblur":Oe=Br;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Si;break;case fo:case kc:case gl:Oe=ul;break;case yf:Oe=Oi;break;case"scroll":case"scrollend":Oe=Oo;break;case"wheel":Oe=es;break;case"copy":case"cut":case"paste":Oe=S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=hn;break;case"toggle":case"beforetoggle":Oe=Ir}var Pt=(u&4)!==0,In=!Pt&&(l==="scroll"||l==="scrollend"),_e=Pt?Pe!==null?Pe+"Capture":null:Pe;Pt=[];for(var be=Te,Ce;be!==null;){var Ve=be;if(Ce=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ce===null||_e===null||(Ve=ll(be,_e),Ve!=null&&Pt.push($f(be,Ve,Ce))),In)break;be=be.return}0<Pt.length&&(Pe=new Oe(Pe,Ft,null,d,ze),He.push({event:Pe,listeners:Pt}))}}if((u&7)===0){e:{if(Pe=l==="mouseover"||l==="pointerover",Oe=l==="mouseout"||l==="pointerout",Pe&&d!==Zs&&(Ft=d.relatedTarget||d.fromElement)&&(_s(Ft)||Ft[Ji]))break e;if((Oe||Pe)&&(Pe=ze.window===ze?ze:(Pe=ze.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Oe?(Ft=d.relatedTarget||d.toElement,Oe=Te,Ft=Ft?_s(Ft):null,Ft!==null&&(In=r(Ft),Pt=Ft.tag,Ft!==In||Pt!==5&&Pt!==27&&Pt!==6)&&(Ft=null)):(Oe=null,Ft=Te),Oe!==Ft)){if(Pt=bc,Ve="onMouseLeave",_e="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(Pt=hn,Ve="onPointerLeave",_e="onPointerEnter",be="pointer"),In=Oe==null?Pe:Ss(Oe),Ce=Ft==null?Pe:Ss(Ft),Pe=new Pt(Ve,be+"leave",Oe,d,ze),Pe.target=In,Pe.relatedTarget=Ce,Ve=null,_s(ze)===Te&&(Pt=new Pt(_e,be+"enter",Ft,d,ze),Pt.target=Ce,Pt.relatedTarget=In,Ve=Pt),In=Ve,Oe&&Ft)t:{for(Pt=Oe,_e=Ft,be=0,Ce=Pt;Ce;Ce=pd(Ce))be++;for(Ce=0,Ve=_e;Ve;Ve=pd(Ve))Ce++;for(;0<be-Ce;)Pt=pd(Pt),be--;for(;0<Ce-be;)_e=pd(_e),Ce--;for(;be--;){if(Pt===_e||_e!==null&&Pt===_e.alternate)break t;Pt=pd(Pt),_e=pd(_e)}Pt=null}else Pt=null;Oe!==null&&Kx(He,Pe,Oe,Pt,!1),Ft!==null&&In!==null&&Kx(He,In,Ft,Pt,!0)}}e:{if(Pe=Te?Ss(Te):window,Oe=Pe.nodeName&&Pe.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Pe.type==="file")var ft=yc;else if(co(Pe))if(Bo)ft=pi;else{ft=Cu;var rn=Ta}else Oe=Pe.nodeName,!Oe||Oe.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Te&&xu(Te.elementType)&&(ft=yc):ft=vc;if(ft&&(ft=ft(l,Te))){dl(He,ft,d,ze);break e}rn&&rn(l,Pe,Te),l==="focusout"&&Te&&Pe.type==="number"&&Te.memoizedProps.value!=null&&yu(Pe,"number",Pe.value)}switch(rn=Te?Ss(Te):window,l){case"focusin":(co(rn)||rn.contentEditable==="true")&&(tr=rn,Vo=Te,br=null);break;case"focusout":br=Vo=tr=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,nr(He,d,ze);break;case"selectionchange":if(Pa)break;case"keydown":case"keyup":nr(He,d,ze)}var St;if(hl)e:{switch(l){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else pr?Ki(l,d)&&(Mt="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(Mt="onCompositionStart");Mt&&(ka&&d.locale!=="ko"&&(pr||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&pr&&(St=mc()):(so=ze,Su="value"in so?so.value:so.textContent,pr=!0)),rn=_p(Te,Mt),0<rn.length&&(Mt=new ne(Mt,l,null,d,ze),He.push({event:Mt,listeners:rn}),St?Mt.data=St:(St=Ca(d),St!==null&&(Mt.data=St)))),(St=Sa?ku(l,d):Au(l,d))&&(Mt=_p(Te,"onBeforeInput"),0<Mt.length&&(rn=new ne("onBeforeInput","beforeinput",null,d,ze),He.push({event:rn,listeners:Mt}),rn.data=St)),cE(He,l,Te,d,ze)}Gx(He,u)})}function $f(l,u,d){return{instance:l,listener:u,currentTarget:d}}function _p(l,u){for(var d=u+"Capture",g=[];l!==null;){var x=l,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=ll(l,d),x!=null&&g.unshift($f(l,x,_)),x=ll(l,u),x!=null&&g.push($f(l,x,_))),l.tag===3)return g;l=l.return}return[]}function pd(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Kx(l,u,d,g,x){for(var _=u._reactName,L=[];d!==null&&d!==g;){var H=d,he=H.alternate,Te=H.stateNode;if(H=H.tag,he!==null&&he===g)break;H!==5&&H!==26&&H!==27||Te===null||(he=Te,x?(Te=ll(d,_),Te!=null&&L.unshift($f(d,Te,he))):x||(Te=ll(d,_),Te!=null&&L.push($f(d,Te,he)))),d=d.return}L.length!==0&&l.push({event:u,listeners:L})}var fE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function Yx(l){return(typeof l=="string"?l:""+l).replace(fE,`
`).replace(gE,"")}function Xx(l,u){return u=Yx(u),Yx(l)===u}function Sp(){}function Bn(l,u,d,g,x,_){switch(d){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Po(l,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Po(l,""+g);break;case"className":ks(l,"class",g);break;case"tabIndex":ks(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(l,d,g);break;case"style":jh(l,g,_);break;case"data":if(u!=="object"){ks(l,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||d!=="href")){l.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(d);break}g=al(""+g),l.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(u!=="input"&&Bn(l,u,"name",x.name,x,null),Bn(l,u,"formEncType",x.formEncType,x,null),Bn(l,u,"formMethod",x.formMethod,x,null),Bn(l,u,"formTarget",x.formTarget,x,null)):(Bn(l,u,"encType",x.encType,x,null),Bn(l,u,"method",x.method,x,null),Bn(l,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(d);break}g=al(""+g),l.setAttribute(d,g);break;case"onClick":g!=null&&(l.onclick=Sp);break;case"onScroll":g!=null&&cn("scroll",l);break;case"onScrollEnd":g!=null&&cn("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(i(60));l.innerHTML=d}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}d=al(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,""+g):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":g===!0?l.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,g):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(d,g):l.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(d):l.setAttribute(d,g);break;case"popover":cn("beforetoggle",l),cn("toggle",l),il(l,"popover",g);break;case"xlinkActuate":Js(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Js(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Js(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Js(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Js(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Js(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Js(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Js(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Js(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":il(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=bf.get(d)||d,il(l,d,g))}}function N2(l,u,d,g,x,_){switch(d){case"style":jh(l,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(x.children!=null)throw Error(i(60));l.innerHTML=d}}break;case"children":typeof g=="string"?Po(l,g):(typeof g=="number"||typeof g=="bigint")&&Po(l,""+g);break;case"onScroll":g!=null&&cn("scroll",l);break;case"onScrollEnd":g!=null&&cn("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),_=l[Vn]||null,_=_!=null?_[d]:null,typeof _=="function"&&l.removeEventListener(u,_,x),typeof g=="function")){typeof _!="function"&&_!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(u,g,x);break e}d in l?l[d]=g:g===!0?l.setAttribute(d,""):il(l,d,g)}}}function Ls(l,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cn("error",l),cn("load",l);var g=!1,x=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var L=d[_];if(L!=null)switch(_){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Bn(l,u,_,L,d,null)}}x&&Bn(l,u,"srcSet",d.srcSet,d,null),g&&Bn(l,u,"src",d.src,d,null);return;case"input":cn("invalid",l);var H=_=L=x=null,he=null,Te=null;for(g in d)if(d.hasOwnProperty(g)){var ze=d[g];if(ze!=null)switch(g){case"name":x=ze;break;case"type":L=ze;break;case"checked":he=ze;break;case"defaultChecked":Te=ze;break;case"value":_=ze;break;case"defaultValue":H=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,u));break;default:Bn(l,u,g,ze,d,null)}}bu(l,_,H,he,Te,L,x,!1),Qs(l);return;case"select":cn("invalid",l),g=L=_=null;for(x in d)if(d.hasOwnProperty(x)&&(H=d[x],H!=null))switch(x){case"value":_=H;break;case"defaultValue":L=H;break;case"multiple":g=H;default:Bn(l,u,x,H,d,null)}u=_,d=L,l.multiple=!!g,u!=null?ya(l,!!g,u,!1):d!=null&&ya(l,!!g,d,!0);return;case"textarea":cn("invalid",l),_=x=g=null;for(L in d)if(d.hasOwnProperty(L)&&(H=d[L],H!=null))switch(L){case"value":g=H;break;case"defaultValue":x=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:Bn(l,u,L,H,d,null)}vu(l,g,x,_),Qs(l);return;case"option":for(he in d)if(d.hasOwnProperty(he)&&(g=d[he],g!=null))switch(he){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Bn(l,u,he,g,d,null)}return;case"dialog":cn("beforetoggle",l),cn("toggle",l),cn("cancel",l),cn("close",l);break;case"iframe":case"object":cn("load",l);break;case"video":case"audio":for(g=0;g<Gf.length;g++)cn(Gf[g],l);break;case"image":cn("error",l),cn("load",l);break;case"details":cn("toggle",l);break;case"embed":case"source":case"link":cn("error",l),cn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in d)if(d.hasOwnProperty(Te)&&(g=d[Te],g!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:Bn(l,u,Te,g,d,null)}return;default:if(xu(u)){for(ze in d)d.hasOwnProperty(ze)&&(g=d[ze],g!==void 0&&N2(l,u,ze,g,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(g=d[H],g!=null&&Bn(l,u,H,g,d,null))}function mE(l,u,d,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,L=null,H=null,he=null,Te=null,ze=null;for(Oe in d){var He=d[Oe];if(d.hasOwnProperty(Oe)&&He!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":he=He;default:g.hasOwnProperty(Oe)||Bn(l,u,Oe,null,g,He)}}for(var Pe in g){var Oe=g[Pe];if(He=d[Pe],g.hasOwnProperty(Pe)&&(Oe!=null||He!=null))switch(Pe){case"type":_=Oe;break;case"name":x=Oe;break;case"checked":Te=Oe;break;case"defaultChecked":ze=Oe;break;case"value":L=Oe;break;case"defaultValue":H=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,u));break;default:Oe!==He&&Bn(l,u,Pe,Oe,g,He)}}Lr(l,L,H,he,Te,ze,_,x);return;case"select":Oe=L=H=Pe=null;for(_ in d)if(he=d[_],d.hasOwnProperty(_)&&he!=null)switch(_){case"value":break;case"multiple":Oe=he;default:g.hasOwnProperty(_)||Bn(l,u,_,null,g,he)}for(x in g)if(_=g[x],he=d[x],g.hasOwnProperty(x)&&(_!=null||he!=null))switch(x){case"value":Pe=_;break;case"defaultValue":H=_;break;case"multiple":L=_;default:_!==he&&Bn(l,u,x,_,g,he)}u=H,d=L,g=Oe,Pe!=null?ya(l,!!d,Pe,!1):!!g!=!!d&&(u!=null?ya(l,!!d,u,!0):ya(l,!!d,d?[]:"",!1));return;case"textarea":Oe=Pe=null;for(H in d)if(x=d[H],d.hasOwnProperty(H)&&x!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Bn(l,u,H,null,g,x)}for(L in g)if(x=g[L],_=d[L],g.hasOwnProperty(L)&&(x!=null||_!=null))switch(L){case"value":Pe=x;break;case"defaultValue":Oe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==_&&Bn(l,u,L,x,g,_)}Rr(l,Pe,Oe);return;case"option":for(var Ft in d)if(Pe=d[Ft],d.hasOwnProperty(Ft)&&Pe!=null&&!g.hasOwnProperty(Ft))switch(Ft){case"selected":l.selected=!1;break;default:Bn(l,u,Ft,null,g,Pe)}for(he in g)if(Pe=g[he],Oe=d[he],g.hasOwnProperty(he)&&Pe!==Oe&&(Pe!=null||Oe!=null))switch(he){case"selected":l.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:Bn(l,u,he,Pe,g,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in d)Pe=d[Pt],d.hasOwnProperty(Pt)&&Pe!=null&&!g.hasOwnProperty(Pt)&&Bn(l,u,Pt,null,g,Pe);for(Te in g)if(Pe=g[Te],Oe=d[Te],g.hasOwnProperty(Te)&&Pe!==Oe&&(Pe!=null||Oe!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(i(137,u));break;default:Bn(l,u,Te,Pe,g,Oe)}return;default:if(xu(u)){for(var In in d)Pe=d[In],d.hasOwnProperty(In)&&Pe!==void 0&&!g.hasOwnProperty(In)&&N2(l,u,In,void 0,g,Pe);for(ze in g)Pe=g[ze],Oe=d[ze],!g.hasOwnProperty(ze)||Pe===Oe||Pe===void 0&&Oe===void 0||N2(l,u,ze,Pe,g,Oe);return}}for(var _e in d)Pe=d[_e],d.hasOwnProperty(_e)&&Pe!=null&&!g.hasOwnProperty(_e)&&Bn(l,u,_e,null,g,Pe);for(He in g)Pe=g[He],Oe=d[He],!g.hasOwnProperty(He)||Pe===Oe||Pe==null&&Oe==null||Bn(l,u,He,Pe,g,Oe)}var E2=null,T2=null;function kp(l){return l.nodeType===9?l:l.ownerDocument}function Jx(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qx(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function P2(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var M2=null;function pE(){var l=window.event;return l&&l.type==="popstate"?l===M2?!1:(M2=l,!0):(M2=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(l){return ew.resolve(null).then(l).catch(vE)}:Zx;function vE(l){setTimeout(function(){throw l})}function Hc(l){return l==="head"}function tw(l,u){var d=u,g=0,x=0;do{var _=d.nextSibling;if(l.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(0<g&&8>g){d=g;var L=l.ownerDocument;if(d&1&&Kf(L.documentElement),d&2&&Kf(L.body),d&4)for(d=L.head,Kf(d),L=d.firstChild;L;){var H=L.nextSibling,he=L.nodeName;L[dr]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=H}}if(x===0){l.removeChild(_),ng(u);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:g=d.charCodeAt(0)-48;else g=0;d=_}while(d);ng(u)}function O2(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":O2(d),Xs(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function xE(l,u,d,g){for(;l.nodeType===1;){var x=d;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[dr])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(_=l.getAttribute("rel"),_==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(_!==x.rel||l.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||l.getAttribute("title")!==(x.title==null?null:x.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(_=l.getAttribute("src"),(_!==(x.src==null?null:x.src)||l.getAttribute("type")!==(x.type==null?null:x.type)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&l.getAttribute("name")===_)return l}else return l;if(l=ta(l.nextSibling),l===null)break}return null}function wE(l,u,d){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=ta(l.nextSibling),l===null))return null;return l}function L2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function _E(l,u){var d=l.ownerDocument;if(l.data!=="$?"||d.readyState==="complete")u();else{var g=function(){u(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function ta(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var R2=null;function nw(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return l;u--}else d==="/$"&&u++}l=l.previousSibling}return null}function iw(l,u,d){switch(u=kp(d),l){case"html":if(l=u.documentElement,!l)throw Error(i(452));return l;case"head":if(l=u.head,!l)throw Error(i(453));return l;case"body":if(l=u.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Kf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Xs(l)}var So=new Map,sw=new Set;function Ap(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ml=ae.d;ae.d={f:SE,r:kE,D:AE,C:CE,L:NE,m:EE,X:PE,S:TE,M:ME};function SE(){var l=Ml.f(),u=pp();return l||u}function kE(l){var u=cs(l);u!==null&&u.tag===5&&u.type==="form"?Vu(u):Ml.r(l)}var bd=typeof document>"u"?null:document;function rw(l,u,d){var g=bd;if(g&&typeof u=="string"&&u){var x=wn(u);x='link[rel="'+l+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),sw.has(x)||(sw.add(x),l={rel:l,crossOrigin:d,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),Ls(u,"link",l),Yn(u),g.head.appendChild(u)))}}function AE(l){Ml.D(l),rw("dns-prefetch",l,null)}function CE(l,u){Ml.C(l,u),rw("preconnect",l,u)}function NE(l,u,d){Ml.L(l,u,d);var g=bd;if(g&&l&&u){var x='link[rel="preload"][as="'+wn(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+wn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+wn(d.imageSizes)+'"]')):x+='[href="'+wn(l)+'"]';var _=x;switch(u){case"style":_=yd(l);break;case"script":_=vd(l)}So.has(_)||(l=f({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:l,as:u},d),So.set(_,l),g.querySelector(x)!==null||u==="style"&&g.querySelector(Yf(_))||u==="script"&&g.querySelector(Xf(_))||(u=g.createElement("link"),Ls(u,"link",l),Yn(u),g.head.appendChild(u)))}}function EE(l,u){Ml.m(l,u);var d=bd;if(d&&l){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+wn(g)+'"][href="'+wn(l)+'"]',_=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=vd(l)}if(!So.has(_)&&(l=f({rel:"modulepreload",href:l},u),So.set(_,l),d.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Xf(_)))return}g=d.createElement("link"),Ls(g,"link",l),Yn(g),d.head.appendChild(g)}}}function TE(l,u,d){Ml.S(l,u,d);var g=bd;if(g&&l){var x=Zi(g).hoistableStyles,_=yd(l);u=u||"default";var L=x.get(_);if(!L){var H={loading:0,preload:null};if(L=g.querySelector(Yf(_)))H.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},d),(d=So.get(_))&&D2(l,d);var he=L=g.createElement("link");Yn(he),Ls(he,"link",l),he._p=new Promise(function(Te,ze){he.onload=Te,he.onerror=ze}),he.addEventListener("load",function(){H.loading|=1}),he.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Cp(L,u,g)}L={type:"stylesheet",instance:L,count:1,state:H},x.set(_,L)}}}function PE(l,u){Ml.X(l,u);var d=bd;if(d&&l){var g=Zi(d).hoistableScripts,x=vd(l),_=g.get(x);_||(_=d.querySelector(Xf(x)),_||(l=f({src:l,async:!0},u),(u=So.get(x))&&j2(l,u),_=d.createElement("script"),Yn(_),Ls(_,"link",l),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function ME(l,u){Ml.M(l,u);var d=bd;if(d&&l){var g=Zi(d).hoistableScripts,x=vd(l),_=g.get(x);_||(_=d.querySelector(Xf(x)),_||(l=f({src:l,async:!0,type:"module"},u),(u=So.get(x))&&j2(l,u),_=d.createElement("script"),Yn(_),Ls(_,"link",l),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(x,_))}}function ow(l,u,d,g){var x=(x=ce.current)?Ap(x):null;if(!x)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=yd(d.href),d=Zi(x).hoistableStyles,g=d.get(u),g||(g={type:"style",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=yd(d.href);var _=Zi(x).hoistableStyles,L=_.get(l);if(L||(x=x.ownerDocument||x,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(l,L),(_=x.querySelector(Yf(l)))&&!_._p&&(L.instance=_,L.state.loading=5),So.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},So.set(l,d),_||OE(x,l,d,L.state))),u&&g===null)throw Error(i(528,""));return L}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=vd(d),d=Zi(x).hoistableScripts,g=d.get(u),g||(g={type:"script",instance:null,count:0,state:null},d.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function yd(l){return'href="'+wn(l)+'"'}function Yf(l){return'link[rel="stylesheet"]['+l+"]"}function aw(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function OE(l,u,d,g){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=l.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Ls(u,"link",d),Yn(u),l.head.appendChild(u))}function vd(l){return'[src="'+wn(l)+'"]'}function Xf(l){return"script[async]"+l}function lw(l,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var g=l.querySelector('style[data-href~="'+wn(d.href)+'"]');if(g)return u.instance=g,Yn(g),g;var x=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),Yn(g),Ls(g,"style",x),Cp(g,d.precedence,l),u.instance=g;case"stylesheet":x=yd(d.href);var _=l.querySelector(Yf(x));if(_)return u.state.loading|=4,u.instance=_,Yn(_),_;g=aw(d),(x=So.get(x))&&D2(g,x),_=(l.ownerDocument||l).createElement("link"),Yn(_);var L=_;return L._p=new Promise(function(H,he){L.onload=H,L.onerror=he}),Ls(_,"link",g),u.state.loading|=4,Cp(_,d.precedence,l),u.instance=_;case"script":return _=vd(d.src),(x=l.querySelector(Xf(_)))?(u.instance=x,Yn(x),x):(g=d,(x=So.get(_))&&(g=f({},d),j2(g,x)),l=l.ownerDocument||l,x=l.createElement("script"),Yn(x),Ls(x,"link",g),l.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Cp(g,d.precedence,l));return u.instance}function Cp(l,u,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,_=x,L=0;L<g.length;L++){var H=g[L];if(H.dataset.precedence===u)_=H;else if(_!==x)break}_?_.parentNode.insertBefore(l,_.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(l,u.firstChild))}function D2(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function j2(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Np=null;function cw(l,u,d){if(Np===null){var g=new Map,x=Np=new Map;x.set(d,g)}else x=Np,g=x.get(d),g||(g=new Map,x.set(d,g));if(g.has(l))return g;for(g.set(l,null),d=d.getElementsByTagName(l),x=0;x<d.length;x++){var _=d[x];if(!(_[dr]||_[$n]||l==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(u)||"";L=l+L;var H=g.get(L);H?H.push(_):g.set(L,[_])}}return g}function uw(l,u,d){l=l.ownerDocument||l,l.head.insertBefore(d,u==="title"?l.querySelector("head > title"):null)}function LE(l,u,d){if(d===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function hw(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Jf=null;function RE(){}function DE(l,u,d){if(Jf===null)throw Error(i(475));var g=Jf;if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=yd(d.href),_=l.querySelector(Yf(x));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(g.count++,g=Ep.bind(g),l.then(g,g)),u.state.loading|=4,u.instance=_,Yn(_);return}_=l.ownerDocument||l,d=aw(d),(x=So.get(x))&&D2(d,x),_=_.createElement("link"),Yn(_);var L=_;L._p=new Promise(function(H,he){L.onload=H,L.onerror=he}),Ls(_,"link",d),u.instance=_}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=Ep.bind(g),l.addEventListener("load",u),l.addEventListener("error",u))}}function jE(){if(Jf===null)throw Error(i(475));var l=Jf;return l.stylesheets&&l.count===0&&F2(l,l.stylesheets),0<l.count?function(u){var d=setTimeout(function(){if(l.stylesheets&&F2(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(d)}}:null}function Ep(){if(this.count--,this.count===0){if(this.stylesheets)F2(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Tp=null;function F2(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Tp=new Map,u.forEach(FE,l),Tp=null,Ep.call(l))}function FE(l,u){if(!(u.state.loading&4)){var d=Tp.get(l);if(d)var g=d.get(null);else{d=new Map,Tp.set(l,d);for(var x=l.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var L=x[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),g=L)}g&&d.set(null,g)}x=u.instance,L=x.getAttribute("data-precedence"),_=d.get(L)||g,_===g&&d.set(null,x),d.set(L,x),this.count++,g=Ep.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),_?_.parentNode.insertBefore(x,_.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(x,l.firstChild)),u.state.loading|=4}}var Qf={$$typeof:U,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function BE(l,u,d,g,x,_,L,H){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function dw(l,u,d,g,x,_,L,H,he,Te,ze,He){return l=new BE(l,u,d,L,H,he,Te,He),u=1,_===!0&&(u|=24),_=fs(3,null,null,u),l.current=_,_.stateNode=l,u=wf(),u.refCount++,l.pooledCache=u,u.refCount++,_.memoizedState={element:g,isDehydrated:d,cache:u},Ne(_),l}function fw(l){return l?(l=Yi,l):Yi}function gw(l,u,d,g,x,_){x=fw(x),g.context===null?g.context=x:g.pendingContext=x,g=je(u),g.payload={element:d},_=_===void 0?null:_,_!==null&&(g.callback=_),d=$e(l,g,u),d!==null&&(Gr(d,l,u),qe(d,l,u))}function mw(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<u?d:u}}function B2(l,u){mw(l,u),(l=l.alternate)&&mw(l,u)}function pw(l){if(l.tag===13){var u=pl(l,67108864);u!==null&&Gr(u,l,67108864),B2(l,67108864)}}var Pp=!0;function IE(l,u,d,g){var x=Q.T;Q.T=null;var _=ae.p;try{ae.p=2,I2(l,u,d,g)}finally{ae.p=_,Q.T=x}}function zE(l,u,d,g){var x=Q.T;Q.T=null;var _=ae.p;try{ae.p=8,I2(l,u,d,g)}finally{ae.p=_,Q.T=x}}function I2(l,u,d,g){if(Pp){var x=z2(g);if(x===null)C2(l,u,g,Mp,d),yw(l,g);else if(UE(x,l,u,d,g))g.stopPropagation();else if(yw(l,g),u&4&&-1<VE.indexOf(l)){for(;x!==null;){var _=cs(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=zt(_.pendingLanes);if(L!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;L;){var he=1<<31-et(L);H.entanglements[1]|=he,L&=~he}Ba(_),(Pn&6)===0&&(gp=mt()+500,Wf(0))}}break;case 13:H=pl(_,2),H!==null&&Gr(H,_,2),pp(),B2(_,2)}if(_=z2(g),_===null&&C2(l,u,g,Mp,d),_===x)break;x=_}x!==null&&g.stopPropagation()}else C2(l,u,g,null,d)}}function z2(l){return l=_u(l),V2(l)}var Mp=null;function V2(l){if(Mp=null,l=_s(l),l!==null){var u=r(l);if(u===null)l=null;else{var d=u.tag;if(d===13){if(l=o(u),l!==null)return l;l=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Mp=l,null}function bw(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Be:return 2;case pt:return 8;case tt:case ut:return 32;case bt:return 268435456;default:return 32}default:return 32}}var U2=!1,Wc=null,Gc=null,$c=null,Zf=new Map,eg=new Map,Kc=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yw(l,u){switch(l){case"focusin":case"focusout":Wc=null;break;case"dragenter":case"dragleave":Gc=null;break;case"mouseover":case"mouseout":$c=null;break;case"pointerover":case"pointerout":Zf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":eg.delete(u.pointerId)}}function tg(l,u,d,g,x,_){return l===null||l.nativeEvent!==_?(l={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},u!==null&&(u=cs(u),u!==null&&pw(u)),l):(l.eventSystemFlags|=g,u=l.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),l)}function UE(l,u,d,g,x){switch(u){case"focusin":return Wc=tg(Wc,l,u,d,g,x),!0;case"dragenter":return Gc=tg(Gc,l,u,d,g,x),!0;case"mouseover":return $c=tg($c,l,u,d,g,x),!0;case"pointerover":var _=x.pointerId;return Zf.set(_,tg(Zf.get(_)||null,l,u,d,g,x)),!0;case"gotpointercapture":return _=x.pointerId,eg.set(_,tg(eg.get(_)||null,l,u,d,g,x)),!0}return!1}function vw(l){var u=_s(l.target);if(u!==null){var d=r(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){l.blockedOn=u,Nt(l.priority,function(){if(d.tag===13){var g=Wr();g=Gi(g);var x=pl(d,g);x!==null&&Gr(x,d,g),B2(d,g)}});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Op(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var d=z2(l.nativeEvent);if(d===null){d=l.nativeEvent;var g=new d.constructor(d.type,d);Zs=g,d.target.dispatchEvent(g),Zs=null}else return u=cs(d),u!==null&&pw(u),l.blockedOn=d,!1;u.shift()}return!0}function xw(l,u,d){Op(l)&&d.delete(u)}function qE(){U2=!1,Wc!==null&&Op(Wc)&&(Wc=null),Gc!==null&&Op(Gc)&&(Gc=null),$c!==null&&Op($c)&&($c=null),Zf.forEach(xw),eg.forEach(xw)}function Lp(l,u){l.blockedOn===u&&(l.blockedOn=null,U2||(U2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qE)))}var Rp=null;function ww(l){Rp!==l&&(Rp=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rp===l&&(Rp=null);for(var u=0;u<l.length;u+=3){var d=l[u],g=l[u+1],x=l[u+2];if(typeof g!="function"){if(V2(g||d)===null)continue;break}var _=cs(d);_!==null&&(l.splice(u,3),u-=3,xo(_,{pending:!0,data:x,method:d.method,action:g},g,x))}}))}function ng(l){function u(he){return Lp(he,l)}Wc!==null&&Lp(Wc,l),Gc!==null&&Lp(Gc,l),$c!==null&&Lp($c,l),Zf.forEach(u),eg.forEach(u);for(var d=0;d<Kc.length;d++){var g=Kc[d];g.blockedOn===l&&(g.blockedOn=null)}for(;0<Kc.length&&(d=Kc[0],d.blockedOn===null);)vw(d),d.blockedOn===null&&Kc.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var x=d[g],_=d[g+1],L=x[Vn]||null;if(typeof _=="function")L||ww(d);else if(L){var H=null;if(_&&_.hasAttribute("formAction")){if(x=_,L=_[Vn]||null)H=L.formAction;else if(V2(x)!==null)continue}else H=L.action;typeof H=="function"?d[g+1]=H:(d.splice(g,3),g-=3),ww(d)}}}function q2(l){this._internalRoot=l}Dp.prototype.render=q2.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(i(409));var d=u.current,g=Wr();gw(d,g,l,u,null,null)},Dp.prototype.unmount=q2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;gw(l.current,2,null,l,null,null),pp(),u[Ji]=null}};function Dp(l){this._internalRoot=l}Dp.prototype.unstable_scheduleHydration=function(l){if(l){var u=Pr();l={blockedOn:null,target:l,priority:u};for(var d=0;d<Kc.length&&u!==0&&u<Kc[d].priority;d++);Kc.splice(d,0,l),d===0&&vw(l)}};var _w=e.version;if(_w!=="19.1.1")throw Error(i(527,_w,"19.1.1"));ae.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=c(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var HE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{rt=jp.inject(HE),dt=jp}catch{}}return sg.createRoot=function(l,u){if(!s(l))throw Error(i(299));var d=!1,g="",x=B5,_=I5,L=z5,H=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks)),u=dw(l,1,!1,null,null,d,g,x,_,L,H,null),l[Ji]=u.current,A2(l),new q2(u)},sg.hydrateRoot=function(l,u,d){if(!s(l))throw Error(i(299));var g=!1,x="",_=B5,L=I5,H=z5,he=null,Te=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(he=d.unstable_transitionCallbacks),d.formState!==void 0&&(Te=d.formState)),u=dw(l,1,!0,u,d??null,g,x,_,L,H,he,Te),u.context=fw(null),d=u.current,g=Wr(),g=Gi(g),x=je(g),x.callback=null,$e(d,x,g),d=g,u.current.lanes=d,Kt(u,d),Ba(u),l[Ji]=u.current,A2(l),new Dp(u)},sg.version="19.1.1",sg}var Ow;function e7(){if(Ow)return G2.exports;Ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),G2.exports=ZE(),G2.exports}var t7=e7();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lw="popstate";function n7(n={}){function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return gy("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Yg(s)}return s7(e,t,null,n)}function _i(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Za(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i7(){return Math.random().toString(36).substring(2,10)}function Rw(n,e){return{usr:n.state,key:n.key,idx:e}}function gy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lf(e):e,state:t,key:e&&e.key||i||i7()}}function Yg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function s7(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",c=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let N=f(),E=N==null?null:N-h;h=N,c&&c({action:a,location:A.location,delta:E})}function v(N,E){a="PUSH";let D=gy(A.location,N,E);h=f()+1;let U=Rw(D,h),V=A.createHref(D);try{o.pushState(U,"",V)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(V)}r&&c&&c({action:a,location:A.location,delta:1})}function y(N,E){a="REPLACE";let D=gy(A.location,N,E);h=f();let U=Rw(D,h),V=A.createHref(D);o.replaceState(U,"",V),r&&c&&c({action:a,location:A.location,delta:0})}function k(N){return r7(N)}let A={get action(){return a},get location(){return n(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lw,p),c=N,()=>{s.removeEventListener(Lw,p),c=null}},createHref(N){return e(s,N)},createURL:k,encodeLocation(N){let E=k(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(N){return o.go(N)}};return A}function r7(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_i(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yg(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function US(n,e,t="/"){return o7(n,e,t,!1)}function o7(n,e,t,i){let s=typeof e=="string"?lf(e):e,r=Ql(s.pathname||"/",t);if(r==null)return null;let o=qS(n);a7(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let h=y7(r);a=p7(o[c],h,i)}return a}function qS(n,e=[],t=[],i="",s=!1){let r=(o,a,c=s,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&c)return;_i(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=Kl([i,f.relativePath]),v=t.concat(f);o.children&&o.children.length>0&&(_i(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qS(o.children,e,v,p,c)),!(o.path==null&&!o.index)&&e.push({path:p,score:g7(p,o.index),routesMeta:v})};return n.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))r(o,a);else for(let c of HS(o.path))r(o,a,!0,c)}),e}function HS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=HS(i.join("/")),a=[];return a.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function a7(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:m7(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var l7=/^:[\w-]+$/,c7=3,u7=2,h7=1,d7=10,f7=-2,Dw=n=>n==="*";function g7(n,e){let t=n.split("/"),i=t.length;return t.some(Dw)&&(i+=f7),e&&(i+=u7),t.filter(s=>!Dw(s)).reduce((s,r)=>s+(l7.test(r)?c7:r===""?h7:d7),i)}function m7(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function p7(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let c=i[a],h=a===i.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=L0({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),v=c.route;if(!p&&h&&t&&!i[i.length-1].route.index&&(p=L0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Kl([r,p.pathname]),pathnameBase:_7(Kl([r,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(r=Kl([r,p.pathnameBase]))}return o}function L0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=b7(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},v)=>{if(f==="*"){let k=a[v]||"";o=r.slice(0,r.length-k.length).replace(/(.)\/+$/,"$1")}const y=a[v];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:o,pattern:n}}function b7(n,e=!1,t=!0){Za(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(i.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function y7(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Za(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ql(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function v7(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?lf(n):n;return{pathname:t?t.startsWith("/")?t:x7(t,e):e,search:S7(i),hash:k7(s)}}function x7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function X2(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w7(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WS(n){let e=w7(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function GS(n,e,t,i=!1){let s;typeof n=="string"?s=lf(n):(s={...n},_i(!s.pathname||!s.pathname.includes("?"),X2("?","pathname","search",s)),_i(!s.pathname||!s.pathname.includes("#"),X2("#","pathname","hash",s)),_i(!s.search||!s.search.includes("#"),X2("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!i&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}a=p>=0?e[p]:"/"}let c=v7(s,a),h=o&&o!=="/"&&o.endsWith("/"),f=(r||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var Kl=n=>n.join("/").replace(/\/\/+/g,"/"),_7=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),S7=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,k7=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function A7(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $S=["POST","PUT","PATCH","DELETE"];new Set($S);var C7=["GET",...$S];new Set(C7);var cf=we.createContext(null);cf.displayName="DataRouter";var u1=we.createContext(null);u1.displayName="DataRouterState";we.createContext(!1);var KS=we.createContext({isTransitioning:!1});KS.displayName="ViewTransition";var N7=we.createContext(new Map);N7.displayName="Fetchers";var E7=we.createContext(null);E7.displayName="Await";var tl=we.createContext(null);tl.displayName="Navigation";var km=we.createContext(null);km.displayName="Location";var ua=we.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var ov=we.createContext(null);ov.displayName="RouteError";function T7(n,{relative:e}={}){_i(Am(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=we.useContext(tl),{hash:s,pathname:r,search:o}=Cm(n,{relative:e}),a=r;return t!=="/"&&(a=r==="/"?t:Kl([t,r])),i.createHref({pathname:a,search:o,hash:s})}function Am(){return we.useContext(km)!=null}function wh(){return _i(Am(),"useLocation() may be used only in the context of a <Router> component."),we.useContext(km).location}var YS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XS(n){we.useContext(tl).static||we.useLayoutEffect(n)}function uf(){let{isDataRoute:n}=we.useContext(ua);return n?H7():P7()}function P7(){_i(Am(),"useNavigate() may be used only in the context of a <Router> component.");let n=we.useContext(cf),{basename:e,navigator:t}=we.useContext(tl),{matches:i}=we.useContext(ua),{pathname:s}=wh(),r=JSON.stringify(WS(i)),o=we.useRef(!1);return XS(()=>{o.current=!0}),we.useCallback((c,h={})=>{if(Za(o.current,YS),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=GS(c,JSON.parse(r),s,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Kl([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,r,s,n])}var M7=we.createContext(null);function O7(n){let e=we.useContext(ua).outlet;return e&&we.createElement(M7.Provider,{value:n},e)}function JS(){let{matches:n}=we.useContext(ua),e=n[n.length-1];return e?e.params:{}}function Cm(n,{relative:e}={}){let{matches:t}=we.useContext(ua),{pathname:i}=wh(),s=JSON.stringify(WS(t));return we.useMemo(()=>GS(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function L7(n,e){return QS(n,e)}function QS(n,e,t,i,s){_i(Am(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=we.useContext(tl),{matches:o}=we.useContext(ua),a=o[o.length-1],c=a?a.params:{},h=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let D=p&&p.path||"";ZS(h,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=wh(),y;if(e){let D=typeof e=="string"?lf(e):e;_i(f==="/"||D.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),y=D}else y=v;let k=y.pathname||"/",A=k;if(f!=="/"){let D=f.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=US(n,{pathname:A});Za(p||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Za(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=B7(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:Kl([f,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:Kl([f,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,t,i,s);return e&&E?we.createElement(km.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function R7(){let n=q7(),e=A7(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=we.createElement(we.Fragment,null,we.createElement("p",null," Hey developer "),we.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",we.createElement("code",{style:r},"ErrorBoundary")," or"," ",we.createElement("code",{style:r},"errorElement")," prop on your route.")),we.createElement(we.Fragment,null,we.createElement("h2",null,"Unexpected Application Error!"),we.createElement("h3",{style:{fontStyle:"italic"}},e),t?we.createElement("pre",{style:s},t):null,o)}var D7=we.createElement(R7,null),j7=class extends we.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?we.createElement(ua.Provider,{value:this.props.routeContext},we.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F7({routeContext:n,match:e,children:t}){let i=we.useContext(cf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),we.createElement(ua.Provider,{value:n},t)}function B7(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);_i(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let a=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:v}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,f,p)=>{let v,y=!1,k=null,A=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,k=f.route.errorElement||D7,a&&(c<0&&p===0?(ZS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,A=null):c===p&&(y=!0,A=f.route.hydrateFallbackElement||null)));let N=e.concat(r.slice(0,p+1)),E=()=>{let D;return v?D=k:y?D=A:f.route.Component?D=we.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=h,we.createElement(F7,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:t!=null},children:D})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?we.createElement(j7,{location:t.location,revalidation:t.revalidation,component:k,error:v,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:i}):E()},null)}function av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I7(n){let e=we.useContext(cf);return _i(e,av(n)),e}function z7(n){let e=we.useContext(u1);return _i(e,av(n)),e}function V7(n){let e=we.useContext(ua);return _i(e,av(n)),e}function lv(n){let e=V7(n),t=e.matches[e.matches.length-1];return _i(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function U7(){return lv("useRouteId")}function q7(){let n=we.useContext(ov),e=z7("useRouteError"),t=lv("useRouteError");return n!==void 0?n:e.errors?.[t]}function H7(){let{router:n}=I7("useNavigate"),e=lv("useNavigate"),t=we.useRef(!1);return XS(()=>{t.current=!0}),we.useCallback(async(s,r={})=>{Za(t.current,YS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var jw={};function ZS(n,e,t){!e&&!jw[n]&&(jw[n]=!0,Za(!1,t))}we.memo(W7);function W7({routes:n,future:e,state:t,unstable_onError:i}){return QS(n,void 0,t,i,e)}function G7(n){return O7(n.context)}function Ni(n){_i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $7({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){_i(!Am(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=we.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=lf(t));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:v="default"}=t,y=we.useMemo(()=>{let k=Ql(c,o);return k==null?null:{location:{pathname:k,search:h,hash:f,state:p,key:v},navigationType:i}},[o,c,h,f,p,v,i]);return Za(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:we.createElement(tl.Provider,{value:a},we.createElement(km.Provider,{children:e,value:y}))}function K7({children:n,location:e}){return L7(my(n),e)}function my(n,e=[]){let t=[];return we.Children.forEach(n,(i,s)=>{if(!we.isValidElement(i))return;let r=[...e,s];if(i.type===we.Fragment){t.push.apply(t,my(i.props.children,r));return}_i(i.type===Ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_i(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=my(i.props.children,r)),t.push(o)}),t}var g0="get",m0="application/x-www-form-urlencoded";function h1(n){return n!=null&&typeof n.tagName=="string"}function Y7(n){return h1(n)&&n.tagName.toLowerCase()==="button"}function X7(n){return h1(n)&&n.tagName.toLowerCase()==="form"}function J7(n){return h1(n)&&n.tagName.toLowerCase()==="input"}function Q7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z7(n,e){return n.button===0&&(!e||e==="_self")&&!Q7(n)}var Fp=null;function eT(){if(Fp===null)try{new FormData(document.createElement("form"),0),Fp=!1}catch{Fp=!0}return Fp}var tT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function J2(n){return n!=null&&!tT.has(n)?(Za(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${m0}"`),null):n}function nT(n,e){let t,i,s,r,o;if(X7(n)){let a=n.getAttribute("action");i=a?Ql(a,e):null,t=n.getAttribute("method")||g0,s=J2(n.getAttribute("enctype"))||m0,r=new FormData(n)}else if(Y7(n)||J7(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(i=c?Ql(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||g0,s=J2(n.getAttribute("formenctype"))||J2(a.getAttribute("enctype"))||m0,r=new FormData(a,n),!eT()){let{name:h,type:f,value:p}=n;if(f==="image"){let v=h?`${h}.`:"";r.append(`${v}x`,"0"),r.append(`${v}y`,"0")}else h&&r.append(h,p)}}else{if(h1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=g0,i=null,s=m0,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iT(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ql(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function sT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oT(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await sT(r,t);return o.links?o.links():[]}return[]}));return uT(i.flat(1).filter(rT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Fw(n,e,t,i,s,r){let o=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,a=(c,h)=>t[h].pathname!==c.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==c.params["*"];return r==="assets"?e.filter((c,h)=>o(c,h)||a(c,h)):r==="data"?e.filter((c,h)=>{let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,h)||a(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aT(n,e,{includeHydrateFallback:t}={}){return lT(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function lT(n){return[...new Set(n)]}function cT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function uT(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(cT(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}function ek(){let n=we.useContext(cf);return cv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hT(){let n=we.useContext(u1);return cv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uv=we.createContext(void 0);uv.displayName="FrameworkContext";function tk(){let n=we.useContext(uv);return cv(n,"You must render this element inside a <HydratedRouter> element"),n}function dT(n,e){let t=we.useContext(uv),[i,s]=we.useState(!1),[r,o]=we.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,v=we.useRef(null);we.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let A=E=>{E.forEach(D=>{o(D.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[n]),we.useEffect(()=>{if(i){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[i]);let y=()=>{s(!0)},k=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,v,{}]:[r,v,{onFocus:rg(a,y),onBlur:rg(c,k),onMouseEnter:rg(h,y),onMouseLeave:rg(f,k),onTouchStart:rg(p,y)}]:[!1,v,{}]}function rg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fT({page:n,...e}){let{router:t}=ek(),i=we.useMemo(()=>US(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?we.createElement(mT,{page:n,matches:i,...e}):null}function gT(n){let{manifest:e,routeModules:t}=tk(),[i,s]=we.useState([]);return we.useEffect(()=>{let r=!1;return oT(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function mT({page:n,matches:e,...t}){let i=wh(),{manifest:s,routeModules:r}=tk(),{basename:o}=ek(),{loaderData:a,matches:c}=hT(),h=we.useMemo(()=>Fw(n,e,c,s,i,"data"),[n,e,c,s,i]),f=we.useMemo(()=>Fw(n,e,c,s,i,"assets"),[n,e,c,s,i]),p=we.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,A=!1;if(e.forEach(E=>{let D=s.routes[E.route.id];!D||!D.hasLoader||(!h.some(U=>U.route.id===E.route.id)&&E.route.id in a&&r[E.route.id]?.shouldRevalidate||D.hasClientLoader?A=!0:k.add(E.route.id))}),k.size===0)return[];let N=iT(n,o,"data");return A&&k.size>0&&N.searchParams.set("_routes",e.filter(E=>k.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[o,a,i,s,h,e,n,r]),v=we.useMemo(()=>aT(f,s),[f,s]),y=gT(f);return we.createElement(we.Fragment,null,p.map(k=>we.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),v.map(k=>we.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),y.map(({key:k,link:A})=>we.createElement("link",{key:k,nonce:t.nonce,...A})))}function pT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nk&&(window.__reactRouterVersion="7.8.2")}catch{}function bT({basename:n,children:e,window:t}){let i=we.useRef();i.current==null&&(i.current=n7({window:t,v5Compat:!0}));let s=i.current,[r,o]=we.useState({action:s.action,location:s.location}),a=we.useCallback(c=>{we.startTransition(()=>o(c))},[o]);return we.useLayoutEffect(()=>s.listen(a),[s,a]),we.createElement($7,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fh=we.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:c,to:h,preventScrollReset:f,viewTransition:p,...v},y){let{basename:k}=we.useContext(tl),A=typeof h=="string"&&ik.test(h),N,E=!1;if(typeof h=="string"&&A&&(N=h,nk))try{let P=new URL(window.location.href),W=h.startsWith("//")?new URL(P.protocol+h):new URL(h),R=Ql(W.pathname,k);W.origin===P.origin&&R!=null?h=R+W.search+W.hash:E=!0}catch{Za(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=T7(h,{relative:s}),[U,V,J]=dT(i,v),se=xT(h,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:p});function ee(P){e&&e(P),P.defaultPrevented||se(P)}let M=we.createElement("a",{...v,...J,href:N||D,onClick:E||r?e:ee,ref:pT(y,V),target:c,"data-discover":!A&&t==="render"?"true":void 0});return U&&!A?we.createElement(we.Fragment,null,M,we.createElement(fT,{page:D})):M});fh.displayName="Link";var sk=we.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:c,...h},f){let p=Cm(o,{relative:h.relative}),v=wh(),y=we.useContext(u1),{navigator:k,basename:A}=we.useContext(tl),N=y!=null&&AT(p)&&a===!0,E=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,D=v.pathname,U=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(D=D.toLowerCase(),U=U?U.toLowerCase():null,E=E.toLowerCase()),U&&A&&(U=Ql(U,A)||U);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let J=D===E||!s&&D.startsWith(E)&&D.charAt(V)==="/",se=U!=null&&(U===E||!s&&U.startsWith(E)&&U.charAt(E.length)==="/"),ee={isActive:J,isPending:se,isTransitioning:N},M=J?e:void 0,P;typeof i=="function"?P=i(ee):P=[i,J?"active":null,se?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let W=typeof r=="function"?r(ee):r;return we.createElement(fh,{...h,"aria-current":M,className:P,ref:f,style:W,to:o,viewTransition:a},typeof c=="function"?c(ee):c)});sk.displayName="NavLink";var yT=we.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=g0,action:a,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:p,...v},y)=>{let k=ST(),A=kT(a,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&ik.test(a),D=U=>{if(c&&c(U),U.defaultPrevented)return;U.preventDefault();let V=U.nativeEvent.submitter,J=V?.getAttribute("formmethod")||o;k(V||U.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:s,state:r,relative:h,preventScrollReset:f,viewTransition:p})};return we.createElement("form",{ref:y,method:N,action:A,onSubmit:i?c:D,...v,"data-discover":!E&&n==="render"?"true":void 0})});yT.displayName="Form";function vT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(n){let e=we.useContext(cf);return _i(e,vT(n)),e}function xT(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=uf(),c=wh(),h=Cm(n,{relative:r});return we.useCallback(f=>{if(Z7(f,e)){f.preventDefault();let p=t!==void 0?t:Yg(c)===Yg(h);a(n,{replace:p,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[c,a,h,t,i,e,n,s,r,o])}var wT=0,_T=()=>`__${String(++wT)}__`;function ST(){let{router:n}=rk("useSubmit"),{basename:e}=we.useContext(tl),t=U7();return we.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:c,body:h}=nT(i,e);if(s.navigate===!1){let f=s.fetcherKey||_T();await n.fetch(f,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function kT(n,{relative:e}={}){let{basename:t}=we.useContext(tl),i=we.useContext(ua);_i(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Cm(n||".",{relative:e})},o=wh();if(n==null){r.search=o.search;let a=new URLSearchParams(r.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();r.search=f?`?${f}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Kl([t,r.pathname])),Yg(r)}function AT(n,{relative:e}={}){let t=we.useContext(KS);_i(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rk("useViewTransitionState"),s=Cm(n,{relative:e});if(!t.isTransitioning)return!1;let r=Ql(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Ql(t.nextLocation.pathname,i)||t.nextLocation.pathname;return L0(s.pathname,o)!=null||L0(s.pathname,r)!=null}var ok={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bw=Rs.createContext&&Rs.createContext(ok),CT=["attr","size","title"];function NT(n,e){if(n==null)return{};var t=ET(n,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ET(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function R0(){return R0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},R0.apply(this,arguments)}function Iw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function D0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iw(Object(t),!0).forEach(function(i){TT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TT(n,e,t){return e=PT(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PT(n){var e=MT(n,"string");return typeof e=="symbol"?e:e+""}function MT(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ak(n){return n&&n.map((e,t)=>Rs.createElement(e.tag,D0({key:t},e.attr),ak(e.child)))}function yt(n){return e=>Rs.createElement(OT,R0({attr:D0({},n.attr)},e),ak(n.child))}function OT(n){var e=t=>{var{attr:i,size:s,title:r}=n,o=NT(n,CT),a=s||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),Rs.createElement("svg",R0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:c,style:D0(D0({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Rs.createElement("title",null,r),n.children)};return Bw!==void 0?Rs.createElement(Bw.Consumer,null,t=>e(t)):e(ok)}function lk(n){return yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(n)}function LT(n){return yt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11H13V13H5V16L0 12L5 8V11ZM3.99927 18H6.70835C8.11862 19.2447 9.97111 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.97111 4 8.11862 4.75527 6.70835 6H3.99927C5.82368 3.57111 8.72836 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C8.72836 22 5.82368 20.4289 3.99927 18Z"},child:[]}]})(n)}const RT="/assets/logo-CJiQiY46.svg";function DT(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-5h2v5zm4 0h-2v-3h2v3zm0-5h-2v-2h2v2zm4 5h-2V7h2v10z"},child:[]}]})(n)}function jT(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm15 0h-2v3h-3v2h3v3h2v-3h3v-2h-3z"},child:[]}]})(n)}function ck(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(n)}function FT(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(n)}function uk(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"},child:[]}]})(n)}function BT(n){return yt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},child:[]}]})(n)}function hk(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function zw(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function IT(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function d1(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function zT(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function el(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function VT(n){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function UT(n){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function qT(n){return yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function Xg(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function HT(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function WT(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function GT(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function $T(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function KT(n){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(n)}function p0(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function dk(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function py(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function YT(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function b0(n){return yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function XT(n){return yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function JT(n){return yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function QT(n){return yt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function ZT(n){return yt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function Vw(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(n)}function eP(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function by(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(n)}function tP(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function Uw(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(n)}function fk(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function nP(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(n)}function iP(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function gk(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function mk(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function sP(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function j0(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function qw(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function rP(n){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(n)}function oP(n){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(n)}function aP(n){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(n)}function lP(n){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function pk(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function Jg(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function cP(n){return yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Pg(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Hw(n){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function Yl(n){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Qd(n){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function bk(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M144 208c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(n)}function uP(n){return yt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(n)}const hP=[{name:"Dashboard",path:"/",icon:m.jsx(jT,{})},{name:"Users",path:"/users",icon:m.jsx(Qd,{})},{name:"User Management",path:"/user-management",icon:m.jsx(Qd,{})},{name:"Questionnaires",path:"/questionnaires",icon:m.jsx(qT,{})},{name:"Content Management",path:"/content-management",icon:m.jsx(IT,{})},{name:"Analytics",path:"/analytics",icon:m.jsx(DT,{})},{name:"Quotes",path:"/quotes",icon:m.jsx(mk,{})},{name:"Feedback",path:"/feedback",icon:m.jsx(bk,{})},{name:"Discussions",path:"/discussion",icon:m.jsx(GT,{})},{name:"Subscriptions",path:"/subscriptions",icon:m.jsx(uk,{})},{name:"Notifications",path:"/notifications",icon:m.jsx(BT,{})},{name:"Payments",path:"/payment",icon:m.jsx(ck,{})},{name:"Content",path:"/content",icon:m.jsx(uP,{})},{name:"Access Control",path:"/access-control",icon:m.jsx(j0,{})},{name:"Admin Logs",path:"/admin-logs",icon:m.jsx(eP,{})},{name:"Settings",path:"/settings",icon:m.jsx(FT,{})}],dP=()=>{const[n,e]=we.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"px-4 sm:px-8 pt-2 lg:hidden",children:m.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 p-2 my-4 text-sm bg-primary rounded-lg cursor-pointer",children:[m.jsx("span",{className:"sr-only",children:"Open sidebar"}),m.jsx("svg",{className:"w-6 h-6",fill:"white",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]})}),m.jsx("aside",{className:`fixed top-0 left-0 z-40 w-64 h-screen bg-white border-r transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:block`,"aria-label":"Sidebar",children:m.jsxs("div",{className:"flex flex-col justify-between h-full px-4 py-5 overflow-y-auto scrollbar-hide",children:[m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end lg:hidden mb-4",children:m.jsx("button",{className:"text-black text-2xl cursor-pointer",onClick:()=>e(!1),children:m.jsx(lk,{})})}),m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx(fh,{to:"/",children:m.jsx("img",{src:RT,alt:"Kinnected Logo",className:"h-20"})})}),m.jsx("ul",{className:"space-y-3 text-sm",children:hP?.map(t=>m.jsx("li",{children:m.jsx(fP,{name:t.name,path:t.path,icon:t.icon,onClick:()=>e(!1)})},t.name))})]}),m.jsx("div",{className:"mt-6",children:m.jsxs(fh,{to:"/login",className:"flex items-center px-4 py-2 rounded-lg bg-primary/10 text-gray-700 hover:bg-primary/20",children:[m.jsx(LT,{className:"text-lg"}),m.jsx("span",{className:"ml-2",children:"Logout"})]})})]})})]})},fP=({name:n,path:e,icon:t,onClick:i})=>m.jsx("li",{onClick:i,children:m.jsxs(sk,{to:e,className:({isActive:s})=>s?"flex items-center py-2 px-5 rounded-lg bg-primary drop-shadow text-gray-50 font-semibold":"flex items-center py-2 px-5 text-gray-600 rounded-lg hover:bg-primary/10 drop-shadow hover:text-primary hover:font-medium outline-none",children:[t,m.jsx("span",{className:"flex-1 ml-3 whitespace-nowrap",children:n})]})}),gP=()=>m.jsxs("div",{children:[m.jsx(dP,{}),m.jsx("div",{className:"lg:ml-64",children:m.jsx(G7,{})})]});function mP(n){return yt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M220.07,176.94C214.41,167.2,206,139.73,206,104a78,78,0,1,0-156,0c0,35.74-8.42,63.2-14.08,72.94A14,14,0,0,0,48,198H90.48a38,38,0,0,0,75,0H208a14,14,0,0,0,12.06-21.06ZM128,218a26,26,0,0,1-25.29-20h50.58A26,26,0,0,1,128,218Zm81.71-33a1.9,1.9,0,0,1-1.7,1H48a1.9,1.9,0,0,1-1.7-1,2,2,0,0,1,0-2C53.87,170,62,139.69,62,104a66,66,0,1,1,132,0c0,35.68,8.14,65.95,15.71,79A2,2,0,0,1,209.71,185Z"},child:[]}]})(n)}function pP(n){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(n)}const nc=({header:n,link:e,arrow:t})=>{const[i,s]=we.useState(!1),[r,o]=we.useState(!1);return m.jsxs("div",{children:[m.jsx("div",{className:"bg-white",children:m.jsx("nav",{className:"text-gray-350",children:m.jsxs("div",{className:" flex flex-wrap items-center justify-between px-4 py-9 sm:p-8",children:[m.jsx("div",{className:"flex items-center drop-shadow-lg",children:m.jsx(fh,{to:e,children:m.jsxs("div",{className:"flex items-center gap-1",children:[t&&m.jsx(pP,{className:"w-5 h-5"}),m.jsx("span",{className:"self-center text-xl sm:text-2xl font-semibold whitespace-nowrap capitalize ",children:n})]})})}),m.jsx("div",{className:"relative",id:"navbar-default",children:m.jsxs("div",{className:"flex flex-row",children:[m.jsx("div",{onClick:()=>o(!0),className:"rounded-full drop-shadow-lg  flex justify-center items-center  mr-1 sm:mr-4 w-9 h-9",children:m.jsx(mP,{className:"w-6 h-6"})}),m.jsx("button",{type:"button",className:"flex text-sm rounded-full md:mr-0",onClick:()=>s(!i),children:m.jsxs("div",{className:"flex items-center text-sm drop-shadow-lg",children:[m.jsx("img",{className:"rounded-full drop sm:mr-2 w-9 h-9 object-cover",loading:"lazy",src:"https://images.pexels.com/photos/1499327/pexels-photo-1499327.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"profile"}),m.jsx("span",{className:"hidden sm:block",children:"Jane Doe"})]})})]})})]})})}),m.jsx("aside",{className:`fixed top-0 right-0 z-40 w-96 text-black bg-gradient-to-b from-gray-50 to-gray-100 h-screen ${r?"block":"hidden"}`,"aria-label":"Sidebar",children:m.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto space-y-3",children:[r&&m.jsx("button",{className:"float-right text-xl text-black",onClick:()=>o(!1),children:m.jsx(lk,{})}),m.jsx("div",{className:"pt-5",children:m.jsxs("div",{className:"rounded-md border px-4 py-1.5 space-y-1 bg-white shadow-md",children:[m.jsx("h1",{className:"font-semibold",children:"Title"}),m.jsx("p",{className:"text-xs font-medium text-gray-400",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, eligendi."})]})})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Nm(n){return n+.5|0}const eu=(n,e,t)=>Math.max(Math.min(n,t),e);function wg(n){return eu(Nm(n*2.55),0,255)}function su(n){return eu(Nm(n*255),0,255)}function Il(n){return eu(Nm(n/2.55)/100,0,1)}function Ww(n){return eu(Nm(n*100),0,100)}const ko={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yy=[..."0123456789ABCDEF"],bP=n=>yy[n&15],yP=n=>yy[(n&240)>>4]+yy[n&15],Bp=n=>(n&240)>>4===(n&15),vP=n=>Bp(n.r)&&Bp(n.g)&&Bp(n.b)&&Bp(n.a);function xP(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ko[n[1]]*17,g:255&ko[n[2]]*17,b:255&ko[n[3]]*17,a:e===5?ko[n[4]]*17:255}:(e===7||e===9)&&(t={r:ko[n[1]]<<4|ko[n[2]],g:ko[n[3]]<<4|ko[n[4]],b:ko[n[5]]<<4|ko[n[6]],a:e===9?ko[n[7]]<<4|ko[n[8]]:255})),t}const wP=(n,e)=>n<255?e(n):"";function _P(n){var e=vP(n)?bP:yP;return n?"#"+e(n.r)+e(n.g)+e(n.b)+wP(n.a,e):void 0}const SP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yk(n,e,t){const i=e*Math.min(t,1-t),s=(r,o=(r+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function kP(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function AP(n,e,t){const i=yk(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function CP(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function hv(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),o=Math.min(t,i,s),a=(r+o)/2;let c,h,f;return r!==o&&(f=r-o,h=a>.5?f/(2-r-o):f/(r+o),c=CP(t,i,s,f,r),c=c*60+.5),[c|0,h||0,a]}function dv(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(su)}function fv(n,e,t){return dv(yk,n,e,t)}function NP(n,e,t){return dv(AP,n,e,t)}function EP(n,e,t){return dv(kP,n,e,t)}function vk(n){return(n%360+360)%360}function TP(n){const e=SP.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?wg(+e[5]):su(+e[5]));const s=vk(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=NP(s,r,o):e[1]==="hsv"?i=EP(s,r,o):i=fv(s,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function PP(n,e){var t=hv(n);t[0]=vk(t[0]+e),t=fv(t),n.r=t[0],n.g=t[1],n.b=t[2]}function MP(n){if(!n)return;const e=hv(n),t=e[0],i=Ww(e[1]),s=Ww(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Il(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const Gw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$w={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OP(){const n={},e=Object.keys($w),t=Object.keys(Gw);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<t.length;s++)r=t[s],a=a.replace(r,Gw[r]);r=parseInt($w[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}let Ip;function LP(n){Ip||(Ip=OP(),Ip.transparent=[0,0,0,0]);const e=Ip[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function DP(n){const e=RP.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?wg(o):eu(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?wg(i):eu(i,0,255)),s=255&(e[4]?wg(s):eu(s,0,255)),r=255&(e[6]?wg(r):eu(r,0,255)),{r:i,g:s,b:r,a:t}}}function jP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Il(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Q2=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function FP(n,e,t){const i=xd(Il(n.r)),s=xd(Il(n.g)),r=xd(Il(n.b));return{r:su(Q2(i+t*(xd(Il(e.r))-i))),g:su(Q2(s+t*(xd(Il(e.g))-s))),b:su(Q2(r+t*(xd(Il(e.b))-r))),a:n.a+t*(e.a-n.a)}}function zp(n,e,t){if(n){let i=hv(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=fv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function xk(n,e){return n&&Object.assign(e||{},n)}function Kw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=su(n[3]))):(e=xk(n,{r:0,g:0,b:0,a:1}),e.a=su(e.a)),e}function BP(n){return n.charAt(0)==="r"?DP(n):TP(n)}class Qg{constructor(e){if(e instanceof Qg)return e;const t=typeof e;let i;t==="object"?i=Kw(e):t==="string"&&(i=xP(e)||LP(e)||BP(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=xk(this._rgb);return e&&(e.a=Il(e.a)),e}set rgb(e){this._rgb=Kw(e)}rgbString(){return this._valid?jP(this._rgb):void 0}hexString(){return this._valid?_P(this._rgb):void 0}hslString(){return this._valid?MP(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,c=i.a-s.a,h=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-h,i.r=255&h*i.r+r*s.r+.5,i.g=255&h*i.g+r*s.g+.5,i.b=255&h*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=FP(this._rgb,e._rgb,t)),this}clone(){return new Qg(this.rgb)}alpha(e){return this._rgb.a=su(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Nm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zp(this._rgb,2,e),this}darken(e){return zp(this._rgb,2,-e),this}saturate(e){return zp(this._rgb,1,e),this}desaturate(e){return zp(this._rgb,1,-e),this}rotate(e){return PP(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ol(){}const IP=(()=>{let n=0;return()=>n++})();function un(n){return n==null}function fi(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function gn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Kr(n,e){return Pi(n)?n:e}function Jt(n,e){return typeof n>"u"?e:n}const zP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,wk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Jn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function On(n,e,t,i){let s,r,o;if(fi(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(gn(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)e.call(t,n[o[s]],o[s])}function F0(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function B0(n){if(fi(n))return n.map(B0);if(gn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=B0(n[t[s]]);return e}return n}function _k(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function VP(n,e,t,i){if(!_k(n))return;const s=e[n],r=t[n];gn(s)&&gn(r)?Zg(s,r,i):e[n]=B0(r)}function Zg(n,e,t){const i=fi(e)?e:[e],s=i.length;if(!gn(n))return n;t=t||{};const r=t.merger||VP;let o;for(let a=0;a<s;++a){if(o=i[a],!gn(o))continue;const c=Object.keys(o);for(let h=0,f=c.length;h<f;++h)r(c[h],n,o,t)}return n}function Mg(n,e){return Zg(n,e,{merger:UP})}function UP(n,e,t){if(!_k(n))return;const i=e[n],s=t[n];gn(i)&&gn(s)?Mg(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=B0(s))}const Yw={"":n=>n,x:n=>n.x,y:n=>n.y};function qP(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function HP(n){const e=qP(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function ou(n,e){return(Yw[e]||(Yw[e]=HP(e)))(n)}function gv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const em=n=>typeof n<"u",au=n=>typeof n=="function",Xw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function WP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Sn=Math.PI,ii=2*Sn,GP=ii+Sn,I0=Number.POSITIVE_INFINITY,$P=Sn/180,Hi=Sn/2,$u=Sn/4,Jw=Sn*2/3,tu=Math.log10,Ya=Math.sign;function Og(n,e,t){return Math.abs(n-e)<t}function Qw(n){const e=Math.round(n);n=Og(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(tu(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function KP(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function YP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zd(n){return!YP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function XP(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Sk(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function oa(n){return n*(Sn/180)}function mv(n){return n*(180/Sn)}function Zw(n){if(!Pi(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function kk(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Sn&&(r+=ii),{angle:r,distance:s}}function vy(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function JP(n,e){return(n-e+GP)%ii-Sn}function $s(n){return(n%ii+ii)%ii}function tm(n,e,t,i){const s=$s(n),r=$s(e),o=$s(t),a=$s(r-s),c=$s(o-s),h=$s(s-r),f=$s(s-o);return s===r||s===o||i&&r===o||a>c&&h<f}function xs(n,e,t){return Math.max(e,Math.min(t,n))}function QP(n){return xs(n,-32768,32767)}function ql(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function pv(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const Hl=(n,e,t,i)=>pv(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),ZP=(n,e,t)=>pv(n,t,i=>n[i][e]>=t);function eM(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const Ak=["push","pop","shift","splice","unshift"];function tM(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ak.forEach(t=>{const i="_onData"+gv(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function e_(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Ak.forEach(r=>{delete n[r]}),delete n._chartjs)}function Ck(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Nk=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Ek(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,Nk.call(window,()=>{i=!1,n.apply(e,t)}))}}function nM(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const bv=n=>n==="start"?"left":n==="end"?"right":"center",Ws=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,iM=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Tk(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:o,vScale:a,_parsed:c}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=o.axis,{min:p,max:v,minDefined:y,maxDefined:k}=o.getUserBounds();if(y){if(s=Math.min(Hl(c,f,p).lo,t?i:Hl(e,f,o.getPixelForValue(p)).lo),h){const A=c.slice(0,s+1).reverse().findIndex(N=>!un(N[a.axis]));s-=Math.max(0,A)}s=xs(s,0,i-1)}if(k){let A=Math.max(Hl(c,o.axis,v,!0).hi+1,t?0:Hl(e,f,o.getPixelForValue(v),!0).hi+1);if(h){const N=c.slice(A-1).findIndex(E=>!un(E[a.axis]));A+=Math.max(0,N)}r=xs(A,s,i)-s}else r=i-s}return{start:s,count:r}}function Pk(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Vp=n=>n===0||n===1,t_=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ii/t)),n_=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ii/t)+1,Lg={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Hi)+1,easeOutSine:n=>Math.sin(n*Hi),easeInOutSine:n=>-.5*(Math.cos(Sn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Vp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Vp(n)?n:t_(n,.075,.3),easeOutElastic:n=>Vp(n)?n:n_(n,.075,.3),easeInOutElastic(n){return Vp(n)?n:n<.5?.5*t_(n*2,.1125,.45):.5+.5*n_(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Lg.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lg.easeInBounce(n*2)*.5:Lg.easeOutBounce(n*2-1)*.5+.5};function yv(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function i_(n){return yv(n)?n:new Qg(n)}function Z2(n){return yv(n)?n:new Qg(n).saturate(.5).darken(.1).hexString()}const sM=["x","y","borderWidth","radius","tension"],rM=["color","borderColor","backgroundColor"];function oM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:rM},numbers:{type:"number",properties:sM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const s_=new Map;function lM(n,e){e=e||{};const t=n+JSON.stringify(e);let i=s_.get(t);return i||(i=new Intl.NumberFormat(n,e),s_.set(t,i)),i}function Em(n,e,t){return lM(e,t).format(n)}const Mk={values(n){return fi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=cM(n,t)}const o=tu(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Em(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(tu(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?Mk.numeric.call(this,n,e,t):""}};function cM(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var f1={formatters:Mk};function uM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:f1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const gh=Object.create(null),xy=Object.create(null);function Rg(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function eb(n,e,t){return typeof e=="string"?Zg(Rg(n,e),t):Zg(Rg(n,""),e)}class hM{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Z2(s.backgroundColor),this.hoverBorderColor=(i,s)=>Z2(s.borderColor),this.hoverColor=(i,s)=>Z2(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return eb(this,e,t)}get(e){return Rg(this,e)}describe(e,t){return eb(xy,e,t)}override(e,t){return eb(gh,e,t)}route(e,t,i,s){const r=Rg(this,e),o=Rg(this,i),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[a],h=o[s];return gn(c)?Object.assign({},h,c):Jt(c,h)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}}var gi=new hM({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oM,aM,uM]);function dM(n){return!n||un(n.size)||un(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function z0(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function fM(n,e,t,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const a=t.length;let c,h,f,p,v;for(c=0;c<a;c++)if(p=t[c],p!=null&&!fi(p))o=z0(n,s,r,o,p);else if(fi(p))for(h=0,f=p.length;h<f;h++)v=p[h],v!=null&&!fi(v)&&(o=z0(n,s,r,o,v));n.restore();const y=r.length/2;if(y>t.length){for(c=0;c<y;c++)delete s[r[c]];r.splice(0,y)}return o}function Ku(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function r_(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function wy(n,e,t,i){Ok(n,e,t,i,null)}function Ok(n,e,t,i,s){let r,o,a,c,h,f,p,v;const y=e.pointStyle,k=e.rotation,A=e.radius;let N=(k||0)*$P;if(y&&typeof y=="object"&&(r=y.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(N),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),y){default:s?n.ellipse(t,i,s/2,A,0,0,ii):n.arc(t,i,A,0,ii),n.closePath();break;case"triangle":f=s?s/2:A,n.moveTo(t+Math.sin(N)*f,i-Math.cos(N)*A),N+=Jw,n.lineTo(t+Math.sin(N)*f,i-Math.cos(N)*A),N+=Jw,n.lineTo(t+Math.sin(N)*f,i-Math.cos(N)*A),n.closePath();break;case"rectRounded":h=A*.516,c=A-h,o=Math.cos(N+$u)*c,p=Math.cos(N+$u)*(s?s/2-h:c),a=Math.sin(N+$u)*c,v=Math.sin(N+$u)*(s?s/2-h:c),n.arc(t-p,i-a,h,N-Sn,N-Hi),n.arc(t+v,i-o,h,N-Hi,N),n.arc(t+p,i+a,h,N,N+Hi),n.arc(t-v,i+o,h,N+Hi,N+Sn),n.closePath();break;case"rect":if(!k){c=Math.SQRT1_2*A,f=s?s/2:c,n.rect(t-f,i-c,2*f,2*c);break}N+=$u;case"rectRot":p=Math.cos(N)*(s?s/2:A),o=Math.cos(N)*A,a=Math.sin(N)*A,v=Math.sin(N)*(s?s/2:A),n.moveTo(t-p,i-a),n.lineTo(t+v,i-o),n.lineTo(t+p,i+a),n.lineTo(t-v,i+o),n.closePath();break;case"crossRot":N+=$u;case"cross":p=Math.cos(N)*(s?s/2:A),o=Math.cos(N)*A,a=Math.sin(N)*A,v=Math.sin(N)*(s?s/2:A),n.moveTo(t-p,i-a),n.lineTo(t+p,i+a),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o);break;case"star":p=Math.cos(N)*(s?s/2:A),o=Math.cos(N)*A,a=Math.sin(N)*A,v=Math.sin(N)*(s?s/2:A),n.moveTo(t-p,i-a),n.lineTo(t+p,i+a),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o),N+=$u,p=Math.cos(N)*(s?s/2:A),o=Math.cos(N)*A,a=Math.sin(N)*A,v=Math.sin(N)*(s?s/2:A),n.moveTo(t-p,i-a),n.lineTo(t+p,i+a),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o);break;case"line":o=s?s/2:Math.cos(N)*A,a=Math.sin(N)*A,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(N)*(s?s/2:A),i+Math.sin(N)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Wl(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function g1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function m1(n){n.restore()}function gM(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function mM(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function pM(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),un(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bM(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=t-r.actualBoundingBoxAscent,h=t+r.actualBoundingBoxDescent,f=s.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,f),n.lineTo(a,f),n.stroke()}}function yM(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function mh(n,e,t,i,s,r={}){const o=fi(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,h;for(n.save(),n.font=s.string,pM(n,r),c=0;c<o.length;++c)h=o[c],r.backdrop&&yM(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),un(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(h,t,i,r.maxWidth)),n.fillText(h,t,i,r.maxWidth),bM(n,t,i,h,r),i+=Number(s.lineHeight);n.restore()}function nm(n,e){const{x:t,y:i,w:s,h:r,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Sn,Sn,!0),n.lineTo(t,i+r-o.bottomLeft),n.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Sn,Hi,!0),n.lineTo(t+s-o.bottomRight,i+r),n.arc(t+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Hi,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-Hi,!0),n.lineTo(t+o.topLeft,i)}const vM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wM(n,e){const t=(""+n).match(vM);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const _M=n=>+n||0;function vv(n,e){const t={},i=gn(e),s=i?Object.keys(e):e,r=gn(n)?i?o=>Jt(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=_M(r(o));return t}function Lk(n){return vv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ch(n){return vv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ys(n){const e=Lk(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rs(n,e){n=n||{},e=e||gi.font;let t=Jt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Jt(n.style,e.style);i&&!(""+i).match(xM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Jt(n.family,e.family),lineHeight:wM(Jt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Jt(n.weight,e.weight),string:""};return s.string=dM(s),s}function _g(n,e,t,i){let s,r,o;for(s=0,r=n.length;s<r;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function SM(n,e,t){const{min:i,max:s}=n,r=wk(e,(s-i)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function du(n,e){return Object.assign(Object.create(n),e)}function xv(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=Fk("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>xv([a,...n],e,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Dk(a,c,()=>MM(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return a_(a).includes(c)},ownKeys(a){return a_(a)},set(a,c,h){const f=a._storage||(a._storage=s());return a[c]=f[c]=h,delete a._keys,!0}})}function ef(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Rk(n,i),setContext:r=>ef(n,r,t,i),override:r=>ef(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return Dk(r,o,()=>AM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function Rk(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:au(t)?t:()=>t,isIndexable:au(i)?i:()=>i}}const kM=(n,e)=>n?n+gv(e):e,wv=(n,e)=>gn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Dk(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function AM(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[e];return au(a)&&o.isScriptable(e)&&(a=CM(e,a,n,t)),fi(a)&&a.length&&(a=NM(e,a,n,o.isIndexable)),wv(e,a)&&(a=ef(a,s,r&&r[e],o)),a}function CM(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(r,o||i);return a.delete(n),wv(n,c)&&(c=_v(s._scopes,s,n,c)),c}function NM(n,e,t,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(gn(e[0])){const c=e,h=s._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=_v(h,s,n,f);e.push(ef(p,r,o&&o[n],a))}}return e}function jk(n,e,t){return au(n)?n(e,t):n}const EM=(n,e)=>n===!0?e:typeof n=="string"?ou(e,n):void 0;function TM(n,e,t,i,s){for(const r of e){const o=EM(t,r);if(o){n.add(o);const a=jk(o._fallback,t,s);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function _v(n,e,t,i){const s=e._rootScopes,r=jk(e._fallback,t,i),o=[...n,...s],a=new Set;a.add(i);let c=o_(a,o,t,r||t,i);return c===null||typeof r<"u"&&r!==t&&(c=o_(a,o,r,c,i),c===null)?!1:xv(Array.from(a),[""],s,r,()=>PM(e,t,i))}function o_(n,e,t,i,s){for(;t;)t=TM(n,e,t,i,s);return t}function PM(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return fi(s)&&gn(t)?t:s||{}}function MM(n,e,t,i){let s;for(const r of e)if(s=Fk(kM(r,n),t),typeof s<"u")return wv(n,s)?_v(t,i,n,s):s}function Fk(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function a_(n){let e=n._keys;return e||(e=n._keys=OM(n._scopes)),e}function OM(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Bk(n,e,t,i){const{iScale:s}=n,{key:r="r"}=this._parsing,o=new Array(i);let a,c,h,f;for(a=0,c=i;a<c;++a)h=a+t,f=e[h],o[a]={r:s.parse(ou(f,r),h)};return o}const LM=Number.EPSILON||1e-14,tf=(n,e)=>e<n.length&&!n[e].skip&&n[e],Ik=n=>n==="x"?"y":"x";function RM(n,e,t,i){const s=n.skip?e:n,r=e,o=t.skip?e:t,a=vy(r,s),c=vy(o,r);let h=a/(a+c),f=c/(a+c);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const p=i*h,v=i*f;return{previous:{x:r.x-p*(o.x-s.x),y:r.y-p*(o.y-s.y)},next:{x:r.x+v*(o.x-s.x),y:r.y+v*(o.y-s.y)}}}function DM(n,e,t){const i=n.length;let s,r,o,a,c,h=tf(n,0);for(let f=0;f<i-1;++f)if(c=h,h=tf(n,f+1),!(!c||!h)){if(Og(e[f],0,LM)){t[f]=t[f+1]=0;continue}s=t[f]/e[f],r=t[f+1]/e[f],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[f]=s*o*e[f],t[f+1]=r*o*e[f])}}function jM(n,e,t="x"){const i=Ik(t),s=n.length;let r,o,a,c=tf(n,0);for(let h=0;h<s;++h){if(o=a,a=c,c=tf(n,h+1),!a)continue;const f=a[t],p=a[i];o&&(r=(f-o[t])/3,a[`cp1${t}`]=f-r,a[`cp1${i}`]=p-r*e[h]),c&&(r=(c[t]-f)/3,a[`cp2${t}`]=f+r,a[`cp2${i}`]=p+r*e[h])}}function FM(n,e="x"){const t=Ik(e),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,c,h=tf(n,0);for(o=0;o<i;++o)if(a=c,c=h,h=tf(n,o+1),!!c){if(h){const f=h[e]-c[e];s[o]=f!==0?(h[t]-c[t])/f:0}r[o]=a?h?Ya(s[o-1])!==Ya(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}DM(n,s,r),jM(n,r,e)}function Up(n,e,t){return Math.max(Math.min(n,t),e)}function BM(n,e){let t,i,s,r,o,a=Wl(n[0],e);for(t=0,i=n.length;t<i;++t)o=r,r=a,a=t<i-1&&Wl(n[t+1],e),r&&(s=n[t],o&&(s.cp1x=Up(s.cp1x,e.left,e.right),s.cp1y=Up(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Up(s.cp2x,e.left,e.right),s.cp2y=Up(s.cp2y,e.top,e.bottom)))}function IM(n,e,t,i,s){let r,o,a,c;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")FM(n,s);else{let h=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],c=RM(h,a,n[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,h=a}e.capBezierPoints&&BM(n,t)}function Sv(){return typeof window<"u"&&typeof document<"u"}function kv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function V0(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const p1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function zM(n,e){return p1(n).getPropertyValue(e)}const VM=["top","right","bottom","left"];function uh(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=VM[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const UM=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function qM(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let o=!1,a,c;if(UM(s,r,n.target))a=s,c=r;else{const h=e.getBoundingClientRect();a=i.clientX-h.left,c=i.clientY-h.top,o=!0}return{x:a,y:c,box:o}}function nh(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=p1(t),r=s.boxSizing==="border-box",o=uh(s,"padding"),a=uh(s,"border","width"),{x:c,y:h,box:f}=qM(n,t),p=o.left+(f&&a.left),v=o.top+(f&&a.top);let{width:y,height:k}=e;return r&&(y-=o.width+a.width,k-=o.height+a.height),{x:Math.round((c-p)/y*t.width/i),y:Math.round((h-v)/k*t.height/i)}}function HM(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&kv(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const o=r.getBoundingClientRect(),a=p1(r),c=uh(a,"border","width"),h=uh(a,"padding");e=o.width-h.width-c.width,t=o.height-h.height-c.height,i=V0(a.maxWidth,r,"clientWidth"),s=V0(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||I0,maxHeight:s||I0}}const qp=n=>Math.round(n*10)/10;function WM(n,e,t,i){const s=p1(n),r=uh(s,"margin"),o=V0(s.maxWidth,n,"clientWidth")||I0,a=V0(s.maxHeight,n,"clientHeight")||I0,c=HM(n,e,t);let{width:h,height:f}=c;if(s.boxSizing==="content-box"){const v=uh(s,"border","width"),y=uh(s,"padding");h-=y.width+v.width,f-=y.height+v.height}return h=Math.max(0,h-r.width),f=Math.max(0,i?h/i:f-r.height),h=qp(Math.min(h,o,c.maxWidth)),f=qp(Math.min(f,a,c.maxHeight)),h&&!f&&(f=qp(h/2)),(e!==void 0||t!==void 0)&&i&&c.height&&f>c.height&&(f=c.height,h=qp(Math.floor(f*i))),{width:h,height:f}}function l_(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const GM=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Sv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function c_(n,e){const t=zM(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ih(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function $M(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function KM(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},o=ih(n,s,t),a=ih(s,r,t),c=ih(r,e,t),h=ih(o,a,t),f=ih(a,c,t);return ih(h,f,t)}const YM=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},XM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ud(n,e,t){return n?YM(e,t):XM()}function zk(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Vk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Uk(n){return n==="angle"?{between:tm,compare:JP,normalize:$s}:{between:ql,compare:(e,t)=>e-t,normalize:e=>e}}function u_({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function JM(n,e,t){const{property:i,start:s,end:r}=t,{between:o,normalize:a}=Uk(i),c=e.length;let{start:h,end:f,loop:p}=n,v,y;if(p){for(h+=c,f+=c,v=0,y=c;v<y&&o(a(e[h%c][i]),s,r);++v)h--,f--;h%=c,f%=c}return f<h&&(f+=c),{start:h,end:f,loop:p,style:n.style}}function qk(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,o=e.length,{compare:a,between:c,normalize:h}=Uk(i),{start:f,end:p,loop:v,style:y}=JM(n,e,t),k=[];let A=!1,N=null,E,D,U;const V=()=>c(s,U,E)&&a(s,U)!==0,J=()=>a(r,E)===0||c(r,U,E),se=()=>A||V(),ee=()=>!A||J();for(let M=f,P=f;M<=p;++M)D=e[M%o],!D.skip&&(E=h(D[i]),E!==U&&(A=c(E,s,r),N===null&&se()&&(N=a(E,s)===0?M:P),N!==null&&ee()&&(k.push(u_({start:N,end:M,loop:v,count:o,style:y})),N=null),P=M,U=E));return N!==null&&k.push(u_({start:N,end:p,loop:v,count:o,style:y})),k}function Hk(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=qk(i[s],n.points,e);r.length&&t.push(...r)}return t}function QM(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function ZM(n,e,t,i){const s=n.length,r=[];let o=e,a=n[e],c;for(c=e+1;c<=t;++c){const h=n[c%s];h.skip||h.stop?a.skip||(i=!1,r.push({start:e%s,end:(c-1)%s,loop:i}),e=o=h.stop?c:null):(o=c,a.skip&&(e=c)),a=h}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function eO(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=QM(t,s,r,i);if(i===!0)return h_(n,[{start:o,end:a,loop:r}],t,e);const c=a<o?a+s:a,h=!!n._fullLoop&&o===0&&a===s-1;return h_(n,ZM(t,o,c,h),t,e)}function h_(n,e,t,i){return!i||!i.setContext||!t?e:tO(n,e,t,i)}function tO(n,e,t,i){const s=n._chart.getContext(),r=d_(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,h=[];let f=r,p=e[0].start,v=p;function y(k,A,N,E){const D=a?-1:1;if(k!==A){for(k+=c;t[k%c].skip;)k-=D;for(;t[A%c].skip;)A+=D;k%c!==A%c&&(h.push({start:k%c,end:A%c,loop:N,style:E}),f=E,p=A%c)}}for(const k of e){p=a?p:k.start;let A=t[p%c],N;for(v=p+1;v<=k.end;v++){const E=t[v%c];N=d_(i.setContext(du(s,{type:"segment",p0:A,p1:E,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:o}))),nO(N,f)&&y(p,v-1,k.loop,f),A=E,f=N}p<v-1&&y(p,v-1,k.loop,f)}return h}function d_(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function nO(n,e){if(!e)return!1;const t=[],i=function(s,r){return yv(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Hp(n,e,t){return n.options.clip?n[t]:e[t]}function iO(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Hp(t,e,"left"),right:Hp(t,e,"right"),top:Hp(i,e,"top"),bottom:Hp(i,e,"bottom")}:e}function Wk(n,e){const t=e._clip;if(t.disabled)return!1;const i=iO(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Nk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jl=new sO;const f_="transparent",rO={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=i_(n||f_),s=i.valid&&i_(e||f_);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class oO{constructor(e,t,i,s){const r=t[i];s=_g([e.to,s,r,e.from]);const o=_g([e.from,r,s]);this._active=!0,this._fn=e.fn||rO[e.type||typeof o],this._easing=Lg[e.easing]||Lg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=_g([e.to,t,s,e.from]),this._from=_g([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||t<i),!this._active){this._target[s]=a,this._notify(!0);return}if(t<0){this._target[s]=r;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class Gk{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!gn(e))return;const t=Object.keys(gi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!gn(r))return;const o={};for(const a of t)o[a]=r[a];(fi(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,s=lO(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&aO(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const h=o[c];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,t));continue}const f=t[h];let p=r[h];const v=i.get(h);if(p)if(v&&p.active()){p.update(v,f,a);continue}else p.cancel();if(!v||!v.duration){e[h]=f;continue}r[h]=p=new oO(v,e,h,f),s.push(p)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return jl.add(this._chart,i),!0}}function aO(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function lO(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function g_(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function cO(n,e,t){if(t===!1)return!1;const i=g_(n,t),s=g_(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function uO(n){let e,t,i,s;return gn(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function $k(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function m_(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let o,a,c,h;if(e===null)return;let f=!1;for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===t){if(f=!0,i.all)continue;break}h=n.values[c],Pi(h)&&(r||e===0||Ya(e)===Ya(h))&&(e+=h)}return!f&&!i.all?0:e}function hO(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let c,h,f;for(c=0,h=o.length;c<h;++c)f=o[c],a[c]={[s]:f,[r]:n[f]};return a}function tb(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function dO(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function fO(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function gO(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function p_(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function b_(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,h=o.axis,f=dO(r,o,i),p=e.length;let v;for(let y=0;y<p;++y){const k=e[y],{[c]:A,[h]:N}=k,E=k._stacks||(k._stacks={});v=E[h]=gO(s,f,A),v[a]=N,v._top=p_(v,o,!0,i.type),v._bottom=p_(v,o,!1,i.type);const D=v._visualValues||(v._visualValues={});D[a]=N}}function nb(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function mO(n,e){return du(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pO(n,e,t){return du(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function og(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const ib=n=>n==="reset"||n==="none",y_=(n,e)=>e?n:Object.assign({},n),bO=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:$k(t,!0),values:null};class fu{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=tb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&og(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(p,v,y,k)=>p==="x"?v:p==="r"?k:y,r=t.xAxisID=Jt(i.xAxisID,nb(e,"x")),o=t.yAxisID=Jt(i.yAxisID,nb(e,"y")),a=t.rAxisID=Jt(i.rAxisID,nb(e,"r")),c=t.indexAxis,h=t.iAxisID=s(c,r,o,a),f=t.vAxisID=s(c,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&e_(this._data,this),e._stacked&&og(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(gn(t)){const s=this._cachedMeta;this._data=hO(t,s)}else if(i!==t){if(i){e_(i,this);const s=this._cachedMeta;og(s),s._parsed=[]}t&&Object.isExtensible(t)&&tM(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=tb(t.vScale,t),t.stack!==i.stack&&(s=!0,og(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(b_(this,t._parsed),t._stacked=tb(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let c=e===0&&t===s.length?!0:i._sorted,h=e>0&&i._parsed[e-1],f,p,v;if(this._parsing===!1)i._parsed=s,i._sorted=!0,v=s;else{fi(s[e])?v=this.parseArrayData(i,s,e,t):gn(s[e])?v=this.parseObjectData(i,s,e,t):v=this.parsePrimitiveData(i,s,e,t);const y=()=>p[a]===null||h&&p[a]<h[a];for(f=0;f<t;++f)i._parsed[f+e]=p=v[f],c&&(y()&&(c=!1),h=p);i._sorted=c}o&&b_(this,v)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,h=r.getLabels(),f=r===o,p=new Array(s);let v,y,k;for(v=0,y=s;v<y;++v)k=v+i,p[v]={[a]:f||r.parse(h[k],k),[c]:o.parse(t[k],k)};return p}parseArrayData(e,t,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let c,h,f,p;for(c=0,h=s;c<h;++c)f=c+i,p=t[f],a[c]={x:r.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(e,t,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=new Array(s);let f,p,v,y;for(f=0,p=s;f<p;++f)v=f+i,y=t[v],h[f]={x:r.parse(ou(y,a),v),y:o.parse(ou(y,c),v)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:$k(s,!0),values:t._stacks[e.axis]._visualValues};return m_(a,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let o=r===null?NaN:r;const a=s&&i._stacks[t.axis];s&&a&&(s.values=a,o=m_(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),c=bO(t,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=fO(a);let v,y;function k(){y=s[v];const A=y[a.axis];return!Pi(y[e.axis])||f>A||p<A}for(v=0;v<o&&!(!k()&&(this.updateRangeFromParsed(h,e,y,c),r));++v);if(r){for(v=o-1;v>=0;--v)if(!k()){this.updateRangeFromParsed(h,e,y,c);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s][e.axis],Pi(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=uO(Jt(this.options.clip,cO(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,r,a,c),f=a;f<a+c;++f){const p=s[f];p.hidden||(p.active&&h?o.push(p):p.draw(e,r))}for(f=0;f<o.length;++f)o[f].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=pO(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=mO(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],c=this.enableOptionSharing&&em(i);if(a)return y_(a,c);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),p=s?[`${e}Hover`,"hover",e,""]:[e,""],v=h.getOptionScopes(this.getDataset(),f),y=Object.keys(gi.elements[e]),k=()=>this.getContext(i,s,t),A=h.resolveNamedOptions(v,y,k,p);return A.$shared&&(A.$shared=c,r[o]=Object.freeze(y_(A,c))),A}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),v=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(v,this.getContext(e,i,t))}const h=new Gk(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ib(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,s){ib(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!ib(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,c,h]of this._syncList)this[a](c,h);this._syncList=[];const s=i.length,r=t.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,o=e+t;let a;const c=h=>{for(h.length+=t,a=h.length-1;a>=o;a--)h[a]=h[a-t]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&og(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function yO(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=t.length;s<r;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=Ck(i.sort((s,r)=>s-r))}return n._cache.$bar}function vO(n){const e=n.iScale,t=yO(e,n.type);let i=e._length,s,r,o,a;const c=()=>{o===32767||o===-32768||(em(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=t.length;s<r;++s)o=e.getPixelForValue(t[s]),c();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),c();return i}function xO(n,e,t,i){const s=t.barThickness;let r,o;return un(s)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[n]-r/2}}function wO(n,e,t,i){const s=e.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const c=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const h=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:t.barPercentage,start:h}}function _O(n,e,t,i){const s=t.parse(n[0],i),r=t.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let c=o,h=a;Math.abs(o)>Math.abs(a)&&(c=a,h=o),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:s,end:r,min:o,max:a}}function Kk(n,e,t,i){return fi(n)?_O(n,e,t,i):e[t.axis]=t.parse(n,i),e}function v_(n,e,t,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,c=[];let h,f,p,v;for(h=t,f=t+i;h<f;++h)v=e[h],p={},p[s.axis]=a||s.parse(o[h],h),c.push(Kk(v,p,r,h));return c}function sb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function SO(n,e,t){return n!==0?Ya(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function kO(n){let e,t,i,s,r;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:t,end:i,reverse:e,top:s,bottom:r}}function AO(n,e,t,i){let s=e.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:h,bottom:f}=kO(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=h:(t._bottom||0)===i?s=f:(r[x_(f,o,a,c)]=!0,s=h)),r[x_(s,o,a,c)]=!0,n.borderSkipped=r}function x_(n,e,t,i){return i?(n=CO(n,e,t),n=w_(n,t,e)):n=w_(n,e,t),n}function CO(n,e,t){return n===e?t:n===t?e:n}function w_(n,e,t){return n==="start"?e:n==="end"?t:n}function NO(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Yk extends fu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,s){return v_(e,t,i,s)}parseArrayData(e,t,i,s){return v_(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,h=r.axis==="x"?a:c,f=o.axis==="x"?a:c,p=[];let v,y,k,A;for(v=i,y=i+s;v<y;++v)A=t[v],k={},k[r.axis]=r.parse(ou(A,h),v),p.push(Kk(ou(A,f),k,o,v));return p}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,r=this.getParsed(e),o=r._custom,a=sb(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),h=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,s);for(let y=t;y<t+i;y++){const k=this.getParsed(y),A=r||un(k[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),N=this._calculateBarIndexPixels(y,f),E=(k._stacks||{})[a.axis],D={horizontal:h,base:A.base,enableBorderRadius:!E||sb(k._custom)||o===E._top||o===E._bottom,x:h?A.head:N.center,y:h?N.center:A.head,height:h?N.size:Math.abs(A.size),width:h?Math.abs(A.size):N.size};v&&(D.options=p||this.resolveDataElementOptions(y,e[y].active?"active":s));const U=D.options||e[y].options;AO(D,U,E,o),NO(D,U,f.ratio),this.updateElement(e[y],y,D,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),c=a&&a[i.axis],h=f=>{const p=f._parsed.find(y=>y[i.axis]===c),v=p&&p[f.vScale.axis];if(un(v)||isNaN(v))return!0};for(const f of s)if(!(t!==void 0&&h(f))&&((r===!1||o.indexOf(f.stack)===-1||r===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Jt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const s=this._getStacks(e,i),r=t!==void 0?s.indexOf(t):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let r,o;for(r=0,o=t.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||vO(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),h=c._custom,f=sb(h);let p=c[t.axis],v=0,y=i?this.applyStack(t,c,i):p,k,A;y!==p&&(v=y-p,y=p),f&&(p=h.barStart,y=h.barEnd-h.barStart,p!==0&&Ya(p)!==Ya(h.barEnd)&&(v=0),v+=p);const N=!un(r)&&!f?r:v;let E=t.getPixelForValue(N);if(this.chart.getDataVisibility(e)?k=t.getPixelForValue(v+y):k=E,A=k-E,Math.abs(A)<o){A=SO(A,t,a)*o,p===a&&(E-=A/2);const D=t.getPixelForDecimal(0),U=t.getPixelForDecimal(1),V=Math.min(D,U),J=Math.max(D,U);E=Math.max(Math.min(E,J),V),k=E+A,i&&!f&&(c._stacks[t.axis]._visualValues[s]=t.getValueForPixel(k)-t.getValueForPixel(E))}if(E===t.getPixelForValue(a)){const D=Ya(A)*t.getLineWidthForValue(a)/2;E+=D,A-=D}return{size:A,base:E,head:k,center:k+A/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,r=s.skipNull,o=Jt(s.maxBarThickness,1/0);let a,c;const h=this._getAxisCount();if(t.grouped){const f=r?this._getStackCount(e):t.stackCount,p=s.barThickness==="flex"?wO(e,t,s,f*h):xO(e,t,s,f*h),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Jt(v,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+y;a=p.start+p.chunk*k+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class EO extends fu{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const r=super.parsePrimitiveData(e,t,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,t,i,s){const r=super.parseArrayData(e,t,i,s);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=Jt(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,t,i,s){const r=super.parseObjectData(e,t,i,s);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=Jt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=t,o=this.getParsed(e),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),h=o._custom;return{label:i[e]||"",value:"("+a+", "+c+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,s),f=o.axis,p=a.axis;for(let v=t;v<t+i;v++){const y=e[v],k=!r&&this.getParsed(v),A={},N=A[f]=r?o.getPixelForDecimal(.5):o.getPixelForValue(k[f]),E=A[p]=r?a.getBasePixel():a.getPixelForValue(k[p]);A.skip=isNaN(N)||isNaN(E),h&&(A.options=c||this.resolveDataElementOptions(v,y.active?"active":s),r&&(A.options.radius=0)),this.updateElement(y,v,A,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return t!=="active"&&(s.radius=0),s.radius+=Jt(i&&i._custom,r),s}}function TO(n,e,t){let i=1,s=1,r=0,o=0;if(e<ii){const a=n,c=a+e,h=Math.cos(a),f=Math.sin(a),p=Math.cos(c),v=Math.sin(c),y=(U,V,J)=>tm(U,a,c,!0)?1:Math.max(V,V*t,J,J*t),k=(U,V,J)=>tm(U,a,c,!0)?-1:Math.min(V,V*t,J,J*t),A=y(0,h,p),N=y(Hi,f,v),E=k(Sn,h,p),D=k(Sn+Hi,f,v);i=(A-E)/2,s=(N-D)/2,r=-(A+E)/2,o=-(N+D)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class b1 extends fu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(gn(i[e])){const{key:c="value"}=this._parsing;r=h=>+ou(i[h],c)}let o,a;for(o=e,a=e+t;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return oa(this.options.rotation-90)}_getCircumference(){return oa(this.options.circumference)}_getRotationExtents(){let e=ii,t=-ii;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(zP(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:v,ratioY:y,offsetX:k,offsetY:A}=TO(p,f,c),N=(i.width-o)/v,E=(i.height-o)/y,D=Math.max(Math.min(N,E)/2,0),U=wk(this.options.radius,D),V=Math.max(U*c,0),J=(U-V)/this._getVisibleDatasetWeightTotal();this.offsetX=k*U,this.offsetY=A*U,s.total=this.calculateTotal(),this.outerRadius=U-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*h,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/ii)}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,h=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,v=r&&h.animateScale,y=v?0:this.innerRadius,k=v?0:this.outerRadius,{sharedOptions:A,includeOptions:N}=this._getSharedOptions(t,s);let E=this._getRotation(),D;for(D=0;D<t;++D)E+=this._circumference(D,r);for(D=t;D<t+i;++D){const U=this._circumference(D,r),V=e[D],J={x:f+this.offsetX,y:p+this.offsetY,startAngle:E,endAngle:E+U,circumference:U,outerRadius:k,innerRadius:y};N&&(J.options=A||this.resolveDataElementOptions(D,V.active?"active":s)),E+=U,this.updateElement(V,D,J,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ii*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Em(t._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,r,o,a,c;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)c=a.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Jt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Xk extends fu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:c}=Tk(t,s,o);this._drawStart=a,this._drawCount=c,Pk(t)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},e),this.updateElements(s,a,c,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,s),v=o.axis,y=a.axis,{spanGaps:k,segment:A}=this.options,N=Zd(k)?k:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||s==="none",D=t+i,U=e.length;let V=t>0&&this.getParsed(t-1);for(let J=0;J<U;++J){const se=e[J],ee=E?se:{};if(J<t||J>=D){ee.skip=!0;continue}const M=this.getParsed(J),P=un(M[y]),W=ee[v]=o.getPixelForValue(M[v],J),R=ee[y]=r||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,M,c):M[y],J);ee.skip=isNaN(W)||isNaN(R)||P,ee.stop=J>0&&Math.abs(M[v]-V[v])>N,A&&(ee.parsed=M,ee.raw=h.data[J]),p&&(ee.options=f||this.resolveDataElementOptions(J,se.active?"active":s)),E||this.updateElement(se,J,ee,s),V=M}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Jk extends fu{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Em(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,t,i,s){return Bk.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,s){const r=s==="reset",o=this.chart,c=o.options.animation,h=this._cachedMeta.rScale,f=h.xCenter,p=h.yCenter,v=h.getIndexAngle(0)-.5*Sn;let y=v,k;const A=360/this.countVisibleElements();for(k=0;k<t;++k)y+=this._computeAngle(k,s,A);for(k=t;k<t+i;k++){const N=e[k];let E=y,D=y+this._computeAngle(k,s,A),U=o.getDataVisibility(k)?h.getDistanceFromCenterForValue(this.getParsed(k).r):0;y=D,r&&(c.animateScale&&(U=0),c.animateRotate&&(E=D=v));const V={x:f,y:p,innerRadius:0,outerRadius:U,startAngle:E,endAngle:D,options:this.resolveDataElementOptions(k,N.active?"active":s)};this.updateElement(N,k,V,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?oa(this.resolveDataElementOptions(e,t).angle||i):0}}class Qk extends b1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class PO extends fu{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return Bk.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],r=t.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=t;a<t+i;a++){const c=e[a],h=this.resolveDataElementOptions(a,c.active?"active":s),f=r.getPointPositionForValue(a,this.getParsed(a).r),p=o?r.xCenter:f.x,v=o?r.yCenter:f.y,y={x:p,y:v,angle:f.angle,skip:isNaN(p)||isNaN(v),options:h};this.updateElement(c,a,y,s)}}}class MO extends fu{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=t,o=this.getParsed(e),a=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:r,count:o}=Tk(t,i,s);if(this._drawStart=r,this._drawCount=o,Pk(t)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=i;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:h},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:h}=this._cachedMeta,f=this.resolveDataElementOptions(t,s),p=this.getSharedOptions(f),v=this.includeOptions(s,p),y=o.axis,k=a.axis,{spanGaps:A,segment:N}=this.options,E=Zd(A)?A:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none";let U=t>0&&this.getParsed(t-1);for(let V=t;V<t+i;++V){const J=e[V],se=this.getParsed(V),ee=D?J:{},M=un(se[k]),P=ee[y]=o.getPixelForValue(se[y],V),W=ee[k]=r||M?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,se,c):se[k],V);ee.skip=isNaN(P)||isNaN(W)||M,ee.stop=V>0&&Math.abs(se[y]-U[y])>E,N&&(ee.parsed=se,ee.raw=h.data[V]),v&&(ee.options=p||this.resolveDataElementOptions(V,J.active?"active":s)),D||this.updateElement(J,V,ee,s),U=se}this.updateSharedOptions(p,s,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let c=t.length-1;c>=0;--c)a=Math.max(a,t[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,r,o)/2}}var OO=Object.freeze({__proto__:null,BarController:Yk,BubbleController:EO,DoughnutController:b1,LineController:Xk,PieController:Qk,PolarAreaController:Jk,RadarController:PO,ScatterController:MO});function Yu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Av{static override(e){Object.assign(Av.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Yu()}parse(){return Yu()}format(){return Yu()}add(){return Yu()}diff(){return Yu()}startOf(){return Yu()}endOf(){return Yu()}}var LO={_date:Av};function RO(n,e,t,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const h=a._reversePixels?ZP:Hl;if(i){if(s._sharedOptions){const f=r[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const v=h(r,e,t-p),y=h(r,e,t+p);return{lo:v.lo,hi:y.hi}}}}else{const f=h(r,e,t);if(c){const{vScale:p}=s._cachedMeta,{_parsed:v}=n,y=v.slice(0,f.lo+1).reverse().findIndex(A=>!un(A[p.axis]));f.lo-=Math.max(0,y);const k=v.slice(f.hi).findIndex(A=>!un(A[p.axis]));f.hi+=Math.max(0,k)}return f}}return{lo:0,hi:r.length-1}}function y1(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=r.length;a<c;++a){const{index:h,data:f}=r[a],{lo:p,hi:v}=RO(r[a],e,o,s);for(let y=p;y<=v;++y){const k=f[y];k.skip||i(k,h,y)}}}function DO(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function rb(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||y1(n,t,e,function(a,c,h){!s&&!Wl(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:c,index:h})},!0),r}function jO(n,e,t,i){let s=[];function r(o,a,c){const{startAngle:h,endAngle:f}=o.getProps(["startAngle","endAngle"],i),{angle:p}=kk(o,{x:e.x,y:e.y});tm(p,h,f)&&s.push({element:o,datasetIndex:a,index:c})}return y1(n,t,e,r),s}function FO(n,e,t,i,s,r){let o=[];const a=DO(t);let c=Number.POSITIVE_INFINITY;function h(f,p,v){const y=f.inRange(e.x,e.y,s);if(i&&!y)return;const k=f.getCenterPoint(s);if(!(!!r||n.isPointInArea(k))&&!y)return;const N=a(e,k);N<c?(o=[{element:f,datasetIndex:p,index:v}],c=N):N===c&&o.push({element:f,datasetIndex:p,index:v})}return y1(n,t,e,h),o}function ob(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?jO(n,e,t,s):FO(n,e,t,i,s,r)}function __(n,e,t,i,s){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return y1(n,t,e,(c,h,f)=>{c[o]&&c[o](e[t],s)&&(r.push({element:c,datasetIndex:h,index:f}),a=a||c.inRange(e.x,e.y,s))}),i&&!a?[]:r}var BO={modes:{index(n,e,t,i){const s=nh(e,n),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?rb(n,s,r,i,o):ob(n,s,r,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const f=a[0].index,p=h.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:h.index,index:f})}),c):[]},dataset(n,e,t,i){const s=nh(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?rb(n,s,r,i,o):ob(n,s,r,!1,i,o);if(a.length>0){const c=a[0].datasetIndex,h=n.getDatasetMeta(c).data;a=[];for(let f=0;f<h.length;++f)a.push({element:h[f],datasetIndex:c,index:f})}return a},point(n,e,t,i){const s=nh(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return rb(n,s,r,i,o)},nearest(n,e,t,i){const s=nh(e,n),r=t.axis||"xy",o=t.includeInvisible||!1;return ob(n,s,r,t.intersect,i,o)},x(n,e,t,i){const s=nh(e,n);return __(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=nh(e,n);return __(n,s,"y",t.intersect,i)}}};const Zk=["left","top","right","bottom"];function ag(n,e){return n.filter(t=>t.pos===e)}function S_(n,e){return n.filter(t=>Zk.indexOf(t.pos)===-1&&t.box.axis===e)}function lg(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function IO(n){const e=[];let t,i,s,r,o,a;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function zO(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!Zk.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function VO(n,e){const t=zO(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:c}=a.box,h=t[a.stack],f=h&&a.stackWeight/h.weight;a.horizontal?(a.width=f?f*i:c&&e.availableWidth,a.height=s):(a.width=i,a.height=f?f*s:c&&e.availableHeight)}return t}function UO(n){const e=IO(n),t=lg(e.filter(h=>h.box.fullSize),!0),i=lg(ag(e,"left"),!0),s=lg(ag(e,"right")),r=lg(ag(e,"top"),!0),o=lg(ag(e,"bottom")),a=S_(e,"x"),c=S_(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:ag(e,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function k_(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function eA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function qO(n,e,t,i){const{pos:s,box:r}=t,o=n.maxPadding;if(!gn(s)){t.size&&(n[s]-=t.size);const p=i[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?r.height:r.width),t.size=p.size/p.count,n[s]+=t.size}r.getPadding&&eA(o,r.getPadding());const a=Math.max(0,e.outerWidth-k_(o,n,"left","right")),c=Math.max(0,e.outerHeight-k_(o,n,"top","bottom")),h=a!==n.w,f=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:h,other:f}:{same:f,other:h}}function HO(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function WO(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(n?["left","right"]:["top","bottom"])}function Sg(n,e,t,i){const s=[];let r,o,a,c,h,f;for(r=0,o=n.length,h=0;r<o;++r){a=n[r],c=a.box,c.update(a.width||e.w,a.height||e.h,WO(a.horizontal,e));const{same:p,other:v}=qO(e,t,a,i);h|=p&&s.length,f=f||v,c.fullSize||s.push(a)}return h&&Sg(s,e,t,i)||f}function Wp(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function A_(n,e,t,i){const s=t.padding;let{x:r,y:o}=e;for(const a of n){const c=a.box,h=i[a.stack]||{placed:0,weight:1},f=a.stackWeight/h.weight||1;if(a.horizontal){const p=e.w*f,v=h.size||c.height;em(h.start)&&(o=h.start),c.fullSize?Wp(c,s.left,o,t.outerWidth-s.right-s.left,v):Wp(c,e.left+h.placed,o,p,v),h.start=o,h.placed+=p,o=c.bottom}else{const p=e.h*f,v=h.size||c.width;em(h.start)&&(r=h.start),c.fullSize?Wp(c,r,s.top,v,t.outerHeight-s.bottom-s.top):Wp(c,r,e.top+h.placed,v,p),h.start=r,h.placed+=p,r=c.right}}e.x=r,e.y=o}var Ks={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Ys(n.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(t-s.height,0),a=UO(n.boxes),c=a.vertical,h=a.horizontal;On(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const f=c.reduce((A,N)=>N.box.options&&N.box.options.display===!1?A:A+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/f,hBoxMaxHeight:o/2}),v=Object.assign({},s);eA(v,Ys(i));const y=Object.assign({maxPadding:v,w:r,h:o,x:s.left,y:s.top},s),k=VO(c.concat(h),p);Sg(a.fullSize,y,p,k),Sg(c,y,p,k),Sg(h,y,p,k)&&Sg(c,y,p,k),HO(y),A_(a.leftAndTop,y,p,k),y.x+=y.w,y.y+=y.h,A_(a.rightAndBottom,y,p,k),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},On(a.chartArea,A=>{const N=A.box;Object.assign(N,n.chartArea),N.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class tA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class GO extends tA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const y0="$chartjs",$O={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C_=n=>n===null||n==="";function KO(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[y0]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",C_(s)){const r=c_(n,"width");r!==void 0&&(n.width=r)}if(C_(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=c_(n,"height");r!==void 0&&(n.height=r)}return n}const nA=GM?{passive:!0}:!1;function YO(n,e,t){n&&n.addEventListener(e,t,nA)}function XO(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,nA)}function JO(n,e){const t=$O[n.type]||n.type,{x:i,y:s}=nh(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function U0(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function QO(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||U0(a.addedNodes,i),o=o&&!U0(a.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function ZO(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||U0(a.removedNodes,i),o=o&&!U0(a.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const im=new Map;let N_=0;function iA(){const n=window.devicePixelRatio;n!==N_&&(N_=n,im.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function eL(n,e){im.size||window.addEventListener("resize",iA),im.set(n,e)}function tL(n){im.delete(n),im.size||window.removeEventListener("resize",iA)}function nL(n,e,t){const i=n.canvas,s=i&&kv(i);if(!s)return;const r=Ek((a,c)=>{const h=s.clientWidth;t(a,c),h<s.clientWidth&&t()},window),o=new ResizeObserver(a=>{const c=a[0],h=c.contentRect.width,f=c.contentRect.height;h===0&&f===0||r(h,f)});return o.observe(s),eL(n,r),o}function ab(n,e,t){t&&t.disconnect(),e==="resize"&&tL(n)}function iL(n,e,t){const i=n.canvas,s=Ek(r=>{n.ctx!==null&&t(JO(r,n))},n);return YO(i,e,s),s}class sL extends tA{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(KO(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[y0])return!1;const i=t[y0].initial;["height","width"].forEach(r=>{const o=i[r];un(o)?t.removeAttribute(r):t.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[y0],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:QO,detach:ZO,resize:nL}[t]||iL;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:ab,detach:ab,resize:ab}[t]||XO)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return WM(e,t,i,s)}isAttached(e){const t=e&&kv(e);return!!(t&&t.isConnected)}}function rL(n){return!Sv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GO:sL}class ic{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Zd(this.x)&&Zd(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}function oL(n,e){const t=n.options.ticks,i=aL(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?cL(e):[],o=r.length,a=r[0],c=r[o-1],h=[];if(o>s)return uL(e,h,r,o/s),h;const f=lL(r,e,s);if(o>0){let p,v;const y=o>1?Math.round((c-a)/(o-1)):null;for(Gp(e,h,f,un(y)?0:a-y,a),p=0,v=o-1;p<v;p++)Gp(e,h,f,r[p],r[p+1]);return Gp(e,h,f,c,un(y)?e.length:c+y),h}return Gp(e,h,f),h}function aL(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function lL(n,e,t){const i=hL(n),s=e.length/t;if(!i)return Math.max(s,1);const r=KP(i);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>s)return c}return Math.max(s,1)}function cL(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function uL(n,e,t,i){let s=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(e.push(n[o]),s++,r=t[s*i])}function Gp(n,e,t,i,s){const r=Jt(i,0),o=Math.min(Jt(s,n.length),n.length);let a=0,c,h,f;for(t=Math.ceil(t),s&&(c=s-i,t=c/Math.floor(c/t)),f=r;f<0;)a++,f=Math.round(r+a*t);for(h=Math.max(r,0);h<o;h++)h===f&&(e.push(n[h]),a++,f=Math.round(r+a*t))}function hL(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const dL=n=>n==="left"?"right":n==="right"?"left":n,E_=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,T_=(n,e)=>Math.min(e||n,n);function P_(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function fL(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let c=n.getPixelForTick(s),h;if(!(t&&(i===1?h=Math.max(c-r,o-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(s-1))/2,c+=s<e?h:-h,c<r-a||c>o+a)))return c}function gL(n,e){On(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function cg(n){return n.drawTicks?n.tickLength:0}function M_(n,e){if(!n.display)return 0;const t=rs(n.font,e),i=Ys(n.padding);return(fi(n.text)?n.text.length:1)*t.lineHeight+i.height}function mL(n,e){return du(n,{scale:e,type:"scale"})}function pL(n,e,t){return du(n,{tick:t,index:e,type:"tick"})}function bL(n,e,t){let i=bv(n);return(t&&e!=="right"||!t&&e==="right")&&(i=dL(i)),i}function yL(n,e,t,i){const{top:s,left:r,bottom:o,right:a,chart:c}=n,{chartArea:h,scales:f}=c;let p=0,v,y,k;const A=o-s,N=a-r;if(n.isHorizontal()){if(y=Ws(i,r,a),gn(t)){const E=Object.keys(t)[0],D=t[E];k=f[E].getPixelForValue(D)+A-e}else t==="center"?k=(h.bottom+h.top)/2+A-e:k=E_(n,t,e);v=a-r}else{if(gn(t)){const E=Object.keys(t)[0],D=t[E];y=f[E].getPixelForValue(D)-N+e}else t==="center"?y=(h.left+h.right)/2-N+e:y=E_(n,t,e);k=Ws(i,o,s),p=t==="left"?-Hi:Hi}return{titleX:y,titleY:k,maxWidth:v,rotation:p}}class _h extends ic{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Kr(e,Number.POSITIVE_INFINITY),t=Kr(t,Number.NEGATIVE_INFINITY),i=Kr(i,Number.POSITIVE_INFINITY),s=Kr(s,Number.NEGATIVE_INFINITY),{min:Kr(e,i),max:Kr(t,s),minDefined:Pi(e),maxDefined:Pi(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,h=a.length;c<h;++c)o=a[c].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:Kr(t,Kr(i,t)),max:Kr(i,Kr(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SM(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?P_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jn(this.options.afterUpdate,[this])}beforeSetDimensions(){Jn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Jn(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Jn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=T_(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let o=s,a,c,h;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),p=f.widest.width,v=f.highest.height,y=xs(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/i:y/(i-1),p+6>a&&(a=y/(i-(e.offset?.5:1)),c=this.maxHeight-cg(e.grid)-t.padding-M_(e.title,this.chart.options.font),h=Math.sqrt(p*p+v*v),o=mv(Math.min(Math.asin(xs((f.highest.height+6)/a,-1,1)),Math.asin(xs(c/h,-1,1))-Math.asin(xs(v/h,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Jn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=M_(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=cg(r)+c):(e.height=this.maxHeight,e.width=cg(r)+c),i.display&&this.ticks.length){const{first:h,last:f,widest:p,highest:v}=this._getLabelSizes(),y=i.padding*2,k=oa(this.labelRotation),A=Math.cos(k),N=Math.sin(k);if(a){const E=i.mirror?0:N*p.width+A*v.height;e.height=Math.min(this.maxHeight,e.height+E+y)}else{const E=i.mirror?0:A*p.width+N*v.height;e.width=Math.min(this.maxWidth,e.width+E+y)}this._calculatePadding(h,f,N,A)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,h=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,y=0;c?h?(v=s*e.width,y=i*t.height):(v=i*e.height,y=s*t.width):r==="start"?y=t.width:r==="end"?v=e.width:r!=="inner"&&(v=e.width/2,y=t.width/2),this.paddingLeft=Math.max((v-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;r==="start"?(f=0,p=e.height):r==="end"&&(f=t.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)un(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=P_(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(t/T_(t,i));let h=0,f=0,p,v,y,k,A,N,E,D,U,V,J;for(p=0;p<t;p+=c){if(k=e[p].label,A=this._resolveTickFontOptions(p),s.font=N=A.string,E=r[N]=r[N]||{data:{},gc:[]},D=A.lineHeight,U=V=0,!un(k)&&!fi(k))U=z0(s,E.data,E.gc,U,k),V=D;else if(fi(k))for(v=0,y=k.length;v<y;++v)J=k[v],!un(J)&&!fi(J)&&(U=z0(s,E.data,E.gc,U,J),V+=D);o.push(U),a.push(V),h=Math.max(U,h),f=Math.max(V,f)}gL(r,t);const se=o.indexOf(h),ee=a.indexOf(f),M=P=>({width:o[P]||0,height:a[P]||0});return{first:M(0),last:M(t-1),widest:M(se),highest:M(ee),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return QP(this._alignToPixels?Ku(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=pL(this.getContext(),e,i))}return this.$context||(this.$context=mL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=oa(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,h=this.isHorizontal(),p=this.ticks.length+(c?1:0),v=cg(r),y=[],k=a.setContext(this.getContext()),A=k.display?k.width:0,N=A/2,E=function(Q){return Ku(i,Q,A)};let D,U,V,J,se,ee,M,P,W,R,B,ie;if(o==="top")D=E(this.bottom),ee=this.bottom-v,P=D-N,R=E(e.top)+N,ie=e.bottom;else if(o==="bottom")D=E(this.top),R=e.top,ie=E(e.bottom)-N,ee=D+N,P=this.top+v;else if(o==="left")D=E(this.right),se=this.right-v,M=D-N,W=E(e.left)+N,B=e.right;else if(o==="right")D=E(this.left),W=e.left,B=E(e.right)-N,se=D+N,M=this.left+v;else if(t==="x"){if(o==="center")D=E((e.top+e.bottom)/2+.5);else if(gn(o)){const Q=Object.keys(o)[0],ae=o[Q];D=E(this.chart.scales[Q].getPixelForValue(ae))}R=e.top,ie=e.bottom,ee=D+N,P=ee+v}else if(t==="y"){if(o==="center")D=E((e.left+e.right)/2);else if(gn(o)){const Q=Object.keys(o)[0],ae=o[Q];D=E(this.chart.scales[Q].getPixelForValue(ae))}se=D-N,M=se-v,W=e.left,B=e.right}const oe=Jt(s.ticks.maxTicksLimit,p),pe=Math.max(1,Math.ceil(p/oe));for(U=0;U<p;U+=pe){const Q=this.getContext(U),ae=r.setContext(Q),ue=a.setContext(Q),ge=ae.lineWidth,$=ae.color,le=ue.dash||[],O=ue.dashOffset,I=ae.tickWidth,K=ae.tickColor,re=ae.tickBorderDash||[],ce=ae.tickBorderDashOffset;V=fL(this,U,c),V!==void 0&&(J=Ku(i,V,ge),h?se=M=W=B=J:ee=P=R=ie=J,y.push({tx1:se,ty1:ee,tx2:M,ty2:P,x1:W,y1:R,x2:B,y2:ie,width:ge,color:$,borderDash:le,borderDashOffset:O,tickWidth:I,tickColor:K,tickBorderDash:re,tickBorderDashOffset:ce}))}return this._ticksLength=p,this._borderValue=D,y}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:h,padding:f,mirror:p}=r,v=cg(i.grid),y=v+f,k=p?-f:y,A=-oa(this.labelRotation),N=[];let E,D,U,V,J,se,ee,M,P,W,R,B,ie="middle";if(s==="top")se=this.bottom-k,ee=this._getXAxisLabelAlignment();else if(s==="bottom")se=this.top+k,ee=this._getXAxisLabelAlignment();else if(s==="left"){const pe=this._getYAxisLabelAlignment(v);ee=pe.textAlign,J=pe.x}else if(s==="right"){const pe=this._getYAxisLabelAlignment(v);ee=pe.textAlign,J=pe.x}else if(t==="x"){if(s==="center")se=(e.top+e.bottom)/2+y;else if(gn(s)){const pe=Object.keys(s)[0],Q=s[pe];se=this.chart.scales[pe].getPixelForValue(Q)+y}ee=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")J=(e.left+e.right)/2-y;else if(gn(s)){const pe=Object.keys(s)[0],Q=s[pe];J=this.chart.scales[pe].getPixelForValue(Q)}ee=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(c==="start"?ie="top":c==="end"&&(ie="bottom"));const oe=this._getLabelSizes();for(E=0,D=a.length;E<D;++E){U=a[E],V=U.label;const pe=r.setContext(this.getContext(E));M=this.getPixelForTick(E)+r.labelOffset,P=this._resolveTickFontOptions(E),W=P.lineHeight,R=fi(V)?V.length:1;const Q=R/2,ae=pe.color,ue=pe.textStrokeColor,ge=pe.textStrokeWidth;let $=ee;o?(J=M,ee==="inner"&&(E===D-1?$=this.options.reverse?"left":"right":E===0?$=this.options.reverse?"right":"left":$="center"),s==="top"?h==="near"||A!==0?B=-R*W+W/2:h==="center"?B=-oe.highest.height/2-Q*W+W:B=-oe.highest.height+W/2:h==="near"||A!==0?B=W/2:h==="center"?B=oe.highest.height/2-Q*W:B=oe.highest.height-R*W,p&&(B*=-1),A!==0&&!pe.showLabelBackdrop&&(J+=W/2*Math.sin(A))):(se=M,B=(1-R)*W/2);let le;if(pe.showLabelBackdrop){const O=Ys(pe.backdropPadding),I=oe.heights[E],K=oe.widths[E];let re=B-O.top,ce=0-O.left;switch(ie){case"middle":re-=I/2;break;case"bottom":re-=I;break}switch(ee){case"center":ce-=K/2;break;case"right":ce-=K;break;case"inner":E===D-1?ce-=K:E>0&&(ce-=K/2);break}le={left:ce,top:re,width:K+O.width,height:I+O.height,color:pe.backdropColor}}N.push({label:V,font:P,textOffset:B,options:{rotation:A,color:ae,strokeColor:ue,strokeWidth:ge,textAlign:$,textBaseline:ie,translation:[J,se],backdrop:le}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oa(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let h,f;return t==="left"?s?(f=this.right+r,i==="near"?h="left":i==="center"?(h="center",f+=c/2):(h="right",f+=c)):(f=this.right-a,i==="near"?h="right":i==="center"?(h="center",f-=c/2):(h="left",f=this.left)):t==="right"?s?(f=this.left+r,i==="near"?h="right":i==="center"?(h="center",f-=c/2):(h="left",f-=c)):(f=this.left+a,i==="near"?h="left":i==="center"?(h="center",f+=c/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=s.length;r<o;++r){const c=s[r];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,f,p,v;this.isHorizontal()?(h=Ku(e,this.left,o)-o/2,f=Ku(e,this.right,a)+a/2,p=v=c):(p=Ku(e,this.top,o)-o/2,v=Ku(e,this.bottom,a)+a/2,h=f=c),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(h,p),t.lineTo(f,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&g1(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,h=o.label,f=o.textOffset;mh(i,h,0,f,c,a)}s&&m1(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=rs(i.font),o=Ys(i.padding),a=i.align;let c=r.lineHeight/2;t==="bottom"||t==="center"||gn(t)?(c+=o.bottom,fi(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:h,titleY:f,maxWidth:p,rotation:v}=yL(this,c,t,a);mh(e,i.text,0,0,r,{color:i.color,maxWidth:p,rotation:v,textAlign:bL(a,t,s),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Jt(e.grid&&e.grid.z,-1),s=Jt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_h.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return rs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $p{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;wL(t)&&(i=this.register(t));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,vL(e,o,i),this.override&&gi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in gi[s]&&(delete gi[s][i],this.override&&delete gh[i])}}function vL(n,e,t){const i=Zg(Object.create(null),[t?gi.get(t):{},gi.get(e),n.defaults]);gi.set(e,i),n.defaultRoutes&&xL(e,n.defaultRoutes),n.descriptors&&gi.describe(e,n.descriptors)}function xL(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");gi.route(r,s,c,a)})}function wL(n){return"id"in n&&"defaults"in n}class _L{constructor(){this.controllers=new $p(fu,"datasets",!0),this.elements=new $p(ic,"elements"),this.plugins=new $p(Object,"plugins"),this.scales=new $p(_h,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):On(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const s=gv(e);Jn(i["before"+s],[],i),t[e](i),Jn(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Ha=new _L;class SL{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],c=[t,s,r.options];if(Jn(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){un(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=Jt(i.options&&i.options.plugins,{}),r=kL(i);return s===!1&&!t?[]:CL(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function kL(n){const e={},t=[],i=Object.keys(Ha.plugins.items);for(let r=0;r<i.length;r++)t.push(Ha.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function AL(n,e){return!e&&n===!1?null:n===!0?{}:n}function CL(n,{plugins:e,localIds:t},i,s){const r=[],o=n.getContext();for(const a of e){const c=a.id,h=AL(i[c],s);h!==null&&r.push({plugin:a,options:NL(n.config,{plugin:a,local:t[c]},h,o)})}return r}function NL(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),o=n.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _y(n,e){const t=gi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function EL(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function TL(n,e){return n===e?"_index_":"_value_"}function O_(n){if(n==="x"||n==="y"||n==="r")return n}function PL(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sy(n,...e){if(O_(n))return n;for(const t of e){const i=t.axis||PL(t.position)||n.length>1&&O_(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function L_(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function ML(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return L_(n,"x",t[0])||L_(n,"y",t[0])}return{}}function OL(n,e){const t=gh[n.type]||{scales:{}},i=e.scales||{},s=_y(n.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!gn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Sy(o,a,ML(o,n),gi.scales[a.type]),h=TL(c,s),f=t.scales||{};r[o]=Mg(Object.create(null),[{axis:c},a,f[c],f[h]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,c=o.indexAxis||_y(a,e),f=(gh[a]||{}).scales||{};Object.keys(f).forEach(p=>{const v=EL(p,c),y=o[v+"AxisID"]||v;r[y]=r[y]||Object.create(null),Mg(r[y],[{axis:v},i[y],f[p]])})}),Object.keys(r).forEach(o=>{const a=r[o];Mg(a,[gi.scales[a.type],gi.scale])}),r}function sA(n){const e=n.options||(n.options={});e.plugins=Jt(e.plugins,{}),e.scales=OL(n,e)}function rA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function LL(n){return n=n||{},n.data=rA(n.data),sA(n),n}const R_=new Map,oA=new Set;function Kp(n,e){let t=R_.get(n);return t||(t=e(),R_.set(n,t),oA.add(t)),t}const ug=(n,e,t)=>{const i=ou(e,t);i!==void 0&&n.add(i)};let RL=class{constructor(e){this._config=LL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Kp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Kp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Kp(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>ug(c,e,p))),f.forEach(p=>ug(c,s,p)),f.forEach(p=>ug(c,gh[r]||{},p)),f.forEach(p=>ug(c,gi,p)),f.forEach(p=>ug(c,xy,p))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),oA.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,gh[t]||{},gi.datasets[t]||{},{type:t},gi,xy]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=D_(this._resolverCache,e,s);let c=o;if(jL(o,t)){r.$shared=!1,i=au(i)?i():i;const h=this.createResolver(e,i,a);c=ef(o,i,h)}for(const h of t)r[h]=c[h];return r}createResolver(e,t,i=[""],s){const{resolver:r}=D_(this._resolverCache,e,i);return gn(t)?ef(r,t,void 0,s):r}};function D_(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:xv(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const DL=n=>gn(n)&&Object.getOwnPropertyNames(n).some(e=>au(n[e]));function jL(n,e){const{isScriptable:t,isIndexable:i}=Rk(n);for(const s of e){const r=t(s),o=i(s),a=(o||r)&&n[s];if(r&&(au(a)||DL(a))||o&&fi(a))return!0}return!1}var FL="4.5.0";const BL=["top","bottom","left","right","chartArea"];function j_(n,e){return n==="top"||n==="bottom"||BL.indexOf(n)===-1&&e==="x"}function F_(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function B_(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Jn(t&&t.onComplete,[n],e)}function IL(n){const e=n.chart,t=e.options.animation;Jn(t&&t.onProgress,[n],e)}function aA(n){return Sv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const v0={},I_=n=>{const e=aA(n);return Object.values(v0).filter(t=>t.canvas===e).pop()};function zL(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const o=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=o)}}}function VL(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Sh=class{static defaults=gi;static instances=v0;static overrides=gh;static registry=Ha;static version=FL;static getChart=I_;static register(...e){Ha.add(...e),z_()}static unregister(...e){Ha.remove(...e),z_()}constructor(e,t){const i=this.config=new RL(t),s=aA(e),r=I_(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||rL(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,h=c&&c.height,f=c&&c.width;if(this.id=IP(),this.ctx=a,this.canvas=c,this.width=f,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nM(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],v0[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}jl.listen(this,"complete",B_),jl.listen(this,"progress",IL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return un(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ha}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():l_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r_(this.canvas,this.ctx),this}stop(){return jl.stop(this),this}resize(e,t){jl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,l_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Jn(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};On(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],c=Sy(o,a),h=c==="r",f=c==="x";return{options:a,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),On(r,o=>{const a=o.options,c=a.id,h=Sy(c,a),f=Jt(a.type,o.dtype);(a.position===void 0||j_(a.position,h)!==j_(o.dposition))&&(a.position=o.dposition),s[c]=!0;let p=null;if(c in i&&i[c].type===f)p=i[c];else{const v=Ha.getScale(f);p=new v({id:c,type:f,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(a,e)}),On(s,(o,a)=>{o||delete i[a]}),On(i,o=>{Ks.configure(this,o,o.options),Ks.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(F_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||_y(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Ha.getController(a),{datasetElementType:h,dataElementType:f}=gi.datasets[a];Object.assign(c,{dataElementType:Ha.getElement(f),datasetElementType:h&&Ha.getElement(h)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){On(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:p}=this.getDatasetMeta(h),v=!s&&r.indexOf(p)===-1;p.buildOrUpdateElements(v),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||On(r,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(F_("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){On(this.scales,e=>{Ks.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Xw(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const o=i==="_removeElements"?-r:r;zL(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!Xw(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ks.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],On(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,au(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jl.has(this)?this.attached&&!jl.running(this)&&jl.start(this):(this.draw(),B_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Wk(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&g1(t,s),e.controller.draw(),s&&m1(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Wl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=BO.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);em(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),jl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),r_(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete v0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};On(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},s=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},r=(c,h)=>{this.canvas&&this.resize(c,h)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){On(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},On(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,o,a,c;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!F0(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(c,h)=>c.filter(f=>!h.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=r(t,e),a=i?e:r(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,o=t,a=this._getActiveElements(e,s,i,o),c=WP(e),h=VL(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Jn(r.onHover,[e,a,this],this),c&&Jn(r.onClick,[e,a,this],this));const f=!F0(a,s);return(f||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=h,f}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}};function z_(){return On(Sh.instances,n=>n._plugins.invalidate())}function UL(n,e,t){const{startAngle:i,x:s,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:h,borderJoinStyle:f}=c,p=Math.min(h/o,$s(i-t));if(n.beginPath(),n.arc(s,r,o-h/2,i+p/2,t-p/2),a>0){const v=Math.min(h/a,$s(i-t));n.arc(s,r,a+h/2,t-v/2,i+v/2,!0)}else{const v=Math.min(h/2,o*$s(i-t));if(f==="round")n.arc(s,r,v,t-Sn/2,i+Sn/2,!0);else if(f==="bevel"){const y=2*v*v,k=-y*Math.cos(t+Sn/2)+s,A=-y*Math.sin(t+Sn/2)+r,N=y*Math.cos(i+Sn/2)+s,E=y*Math.sin(i+Sn/2)+r;n.lineTo(k,A),n.lineTo(N,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function qL(n,e,t){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:c}=e;let h=s/a;n.beginPath(),n.arc(r,o,a,i-h,t+h),c>s?(h=s/c,n.arc(r,o,c,t+h,i-h,!0)):n.arc(r,o,s,t+Hi,i-Hi),n.closePath(),n.clip()}function HL(n){return vv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function WL(n,e,t,i){const s=HL(n.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),a=c=>{const h=(t-Math.min(r,c))*i/2;return xs(c,0,Math.min(r,h))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:xs(s.innerStart,0,o),innerEnd:xs(s.innerEnd,0,o)}}function wd(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function q0(n,e,t,i,s,r){const{x:o,y:a,startAngle:c,pixelMargin:h,innerRadius:f}=e,p=Math.max(e.outerRadius+i+t-h,0),v=f>0?f+i+t+h:0;let y=0;const k=s-c;if(i){const pe=f>0?f-i:0,Q=p>0?p-i:0,ae=(pe+Q)/2,ue=ae!==0?k*ae/(ae+i):k;y=(k-ue)/2}const A=Math.max(.001,k*p-t/Sn)/p,N=(k-A)/2,E=c+N+y,D=s-N-y,{outerStart:U,outerEnd:V,innerStart:J,innerEnd:se}=WL(e,v,p,D-E),ee=p-U,M=p-V,P=E+U/ee,W=D-V/M,R=v+J,B=v+se,ie=E+J/R,oe=D-se/B;if(n.beginPath(),r){const pe=(P+W)/2;if(n.arc(o,a,p,P,pe),n.arc(o,a,p,pe,W),V>0){const ge=wd(M,W,o,a);n.arc(ge.x,ge.y,V,W,D+Hi)}const Q=wd(B,D,o,a);if(n.lineTo(Q.x,Q.y),se>0){const ge=wd(B,oe,o,a);n.arc(ge.x,ge.y,se,D+Hi,oe+Math.PI)}const ae=(D-se/v+(E+J/v))/2;if(n.arc(o,a,v,D-se/v,ae,!0),n.arc(o,a,v,ae,E+J/v,!0),J>0){const ge=wd(R,ie,o,a);n.arc(ge.x,ge.y,J,ie+Math.PI,E-Hi)}const ue=wd(ee,E,o,a);if(n.lineTo(ue.x,ue.y),U>0){const ge=wd(ee,P,o,a);n.arc(ge.x,ge.y,U,E-Hi,P)}}else{n.moveTo(o,a);const pe=Math.cos(P)*p+o,Q=Math.sin(P)*p+a;n.lineTo(pe,Q);const ae=Math.cos(W)*p+o,ue=Math.sin(W)*p+a;n.lineTo(ae,ue)}n.closePath()}function GL(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){q0(n,e,t,i,c,s);for(let h=0;h<r;++h)n.fill();isNaN(a)||(c=o+(a%ii||ii))}return q0(n,e,t,i,c,s),n.fill(),c}function $L(n,e,t,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:h,borderJoinStyle:f,borderDash:p,borderDashOffset:v,borderRadius:y}=c,k=c.borderAlign==="inner";if(!h)return;n.setLineDash(p||[]),n.lineDashOffset=v,k?(n.lineWidth=h*2,n.lineJoin=f||"round"):(n.lineWidth=h,n.lineJoin=f||"bevel");let A=e.endAngle;if(r){q0(n,e,t,i,A,s);for(let N=0;N<r;++N)n.stroke();isNaN(a)||(A=o+(a%ii||ii))}k&&qL(n,e,A),c.selfJoin&&A-o>=Sn&&y===0&&f!=="miter"&&UL(n,e,A),r||(q0(n,e,t,i,A,s),n.stroke())}class lA extends ic{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=kk(s,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,y=Jt(p,c-a),k=tm(r,a,c)&&a!==c,A=y>=ii||k,N=ql(o,h+v,f+v);return A&&N}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,f=(s+r)/2,p=(o+a+h+c)/2;return{x:t+Math.cos(f)*p,y:i+Math.sin(f)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>ii?Math.floor(i/ii):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const c=1-Math.sin(Math.min(Sn,i||0)),h=s*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,GL(e,this,h,r,o),$L(e,this,h,r,o),e.restore()}}function cA(n,e,t=e){n.lineCap=Jt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Jt(t.borderDash,e.borderDash)),n.lineDashOffset=Jt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Jt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Jt(t.borderWidth,e.borderWidth),n.strokeStyle=Jt(t.borderColor,e.borderColor)}function KL(n,e,t){n.lineTo(t.x,t.y)}function YL(n){return n.stepped?gM:n.tension||n.cubicInterpolationMode==="monotone"?mM:KL}function uA(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:o,end:a}=e,c=Math.max(s,o),h=Math.min(r,a),f=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:e.loop,ilen:h<c&&!f?i+h-c:h-c}}function XL(n,e,t,i){const{points:s,options:r}=e,{count:o,start:a,loop:c,ilen:h}=uA(s,t,i),f=YL(r);let{move:p=!0,reverse:v}=i||{},y,k,A;for(y=0;y<=h;++y)k=s[(a+(v?h-y:y))%o],!k.skip&&(p?(n.moveTo(k.x,k.y),p=!1):f(n,A,k,v,r.stepped),A=k);return c&&(k=s[(a+(v?h:0))%o],f(n,A,k,v,r.stepped)),!!c}function JL(n,e,t,i){const s=e.points,{count:r,start:o,ilen:a}=uA(s,t,i),{move:c=!0,reverse:h}=i||{};let f=0,p=0,v,y,k,A,N,E;const D=V=>(o+(h?a-V:V))%r,U=()=>{A!==N&&(n.lineTo(f,N),n.lineTo(f,A),n.lineTo(f,E))};for(c&&(y=s[D(0)],n.moveTo(y.x,y.y)),v=0;v<=a;++v){if(y=s[D(v)],y.skip)continue;const V=y.x,J=y.y,se=V|0;se===k?(J<A?A=J:J>N&&(N=J),f=(p*f+V)/++p):(U(),n.lineTo(V,J),k=se,p=0,A=N=J),E=J}U()}function ky(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?JL:XL}function QL(n){return n.stepped?$M:n.tension||n.cubicInterpolationMode==="monotone"?KM:ih}function ZL(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),cA(n,e.options),n.stroke(s)}function eR(n,e,t,i){const{segments:s,options:r}=e,o=ky(e);for(const a of s)cA(n,r,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const tR=typeof Path2D=="function";function nR(n,e,t,i){tR&&!e.options.segment?ZL(n,e,t,i):eR(n,e,t,i)}class hf extends ic{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;IM(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eO(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,o=Hk(this,{property:t,start:s,end:s});if(!o.length)return;const a=[],c=QL(i);let h,f;for(h=0,f=o.length;h<f;++h){const{start:p,end:v}=o[h],y=r[p],k=r[v];if(y===k){a.push(y);continue}const A=Math.abs((s-y[t])/(k[t]-y[t])),N=c(y,k,A,i.stepped);N[t]=e[t],a.push(N)}return a.length===1?a[0]:a}pathSegment(e,t,i){return ky(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=ky(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of s)o&=r(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),nR(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function V_(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Cv extends ic{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return V_(this,e,"x",t)}inYRange(e,t){return V_(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Wl(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,wy(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function hA(n,e){const{x:t,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],e);let a,c,h,f,p;return n.horizontal?(p=o/2,a=Math.min(t,s),c=Math.max(t,s),h=i-p,f=i+p):(p=r/2,a=t-p,c=t+p,h=Math.min(i,s),f=Math.max(i,s)),{left:a,top:h,right:c,bottom:f}}function nu(n,e,t,i){return n?0:xs(e,t,i)}function iR(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,r=Lk(i);return{t:nu(s.top,r.top,0,t),r:nu(s.right,r.right,0,e),b:nu(s.bottom,r.bottom,0,t),l:nu(s.left,r.left,0,e)}}function sR(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=ch(s),o=Math.min(e,t),a=n.borderSkipped,c=i||gn(s);return{topLeft:nu(!c||a.top||a.left,r.topLeft,0,o),topRight:nu(!c||a.top||a.right,r.topRight,0,o),bottomLeft:nu(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:nu(!c||a.bottom||a.right,r.bottomRight,0,o)}}function rR(n){const e=hA(n),t=e.right-e.left,i=e.bottom-e.top,s=iR(n,t/2,i/2),r=sR(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function lb(n,e,t,i){const s=e===null,r=t===null,a=n&&!(s&&r)&&hA(n,i);return a&&(s||ql(e,a.left,a.right))&&(r||ql(t,a.top,a.bottom))}function oR(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function aR(n,e){n.rect(e.x,e.y,e.w,e.h)}function cb(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+o,radius:n.radius}}class dA extends ic{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=rR(this),a=oR(o.radius)?nm:aR;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,cb(o,t,r)),e.clip(),a(e,cb(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,cb(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return lb(this,e,t,i)}inXRange(e,t){return lb(this,e,null,t)}inYRange(e,t){return lb(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var lR=Object.freeze({__proto__:null,ArcElement:lA,BarElement:dA,LineElement:hf,PointElement:Cv});const Ay=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],U_=Ay.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function fA(n){return Ay[n%Ay.length]}function gA(n){return U_[n%U_.length]}function cR(n,e){return n.borderColor=fA(e),n.backgroundColor=gA(e),++e}function uR(n,e){return n.backgroundColor=n.data.map(()=>fA(e++)),e}function hR(n,e){return n.backgroundColor=n.data.map(()=>gA(e++)),e}function dR(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof b1?e=uR(t,e):s instanceof Jk?e=hR(t,e):s&&(e=cR(t,e))}}function q_(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function fR(n){return n&&(n.borderColor||n.backgroundColor)}function gR(){return gi.borderColor!=="rgba(0,0,0,0.1)"||gi.backgroundColor!=="rgba(0,0,0,0.1)"}var mR={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s,o=q_(i)||fR(s)||r&&q_(r)||gR();if(!t.forceOverride&&o)return;const a=dR(n);i.forEach(a)}};function pR(n,e,t,i,s){const r=s.samples||i;if(r>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(r-2);let c=0;const h=e+t-1;let f=e,p,v,y,k,A;for(o[c++]=n[f],p=0;p<r-2;p++){let N=0,E=0,D;const U=Math.floor((p+1)*a)+1+e,V=Math.min(Math.floor((p+2)*a)+1,t)+e,J=V-U;for(D=U;D<V;D++)N+=n[D].x,E+=n[D].y;N/=J,E/=J;const se=Math.floor(p*a)+1+e,ee=Math.min(Math.floor((p+1)*a)+1,t)+e,{x:M,y:P}=n[f];for(y=k=-1,D=se;D<ee;D++)k=.5*Math.abs((M-N)*(n[D].y-P)-(M-n[D].x)*(E-P)),k>y&&(y=k,v=n[D],A=D);o[c++]=v,f=A}return o[c++]=n[h],o}function bR(n,e,t,i){let s=0,r=0,o,a,c,h,f,p,v,y,k,A;const N=[],E=e+t-1,D=n[e].x,V=n[E].x-D;for(o=e;o<e+t;++o){a=n[o],c=(a.x-D)/V*i,h=a.y;const J=c|0;if(J===f)h<k?(k=h,p=o):h>A&&(A=h,v=o),s=(r*s+a.x)/++r;else{const se=o-1;if(!un(p)&&!un(v)){const ee=Math.min(p,v),M=Math.max(p,v);ee!==y&&ee!==se&&N.push({...n[ee],x:s}),M!==y&&M!==se&&N.push({...n[M],x:s})}o>0&&se!==y&&N.push(n[se]),N.push(a),f=J,r=0,k=A=h,p=v=y=o}}return N}function mA(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function H_(n){n.data.datasets.forEach(e=>{mA(e)})}function yR(n,e){const t=e.length;let i=0,s;const{iScale:r}=n,{min:o,max:a,minDefined:c,maxDefined:h}=r.getUserBounds();return c&&(i=xs(Hl(e,r.axis,o).lo,0,t-1)),h?s=xs(Hl(e,r.axis,a).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var vR={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){H_(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,c=n.getDatasetMeta(r),h=o||s.data;if(_g([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const f=n.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:p,count:v}=yR(c,h);const y=t.threshold||4*i;if(v<=y){mA(s);return}un(o)&&(s._data=h,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let k;switch(t.algorithm){case"lttb":k=pR(h,p,v,i,t);break;case"min-max":k=bR(h,p,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=k})},destroy(n){H_(n)}};function xR(n,e,t){const i=n.segments,s=n.points,r=e.points,o=[];for(const a of i){let{start:c,end:h}=a;h=v1(c,h,s);const f=Cy(t,s[c],s[h],a.loop);if(!e.segments){o.push({source:a,target:f,start:s[c],end:s[h]});continue}const p=Hk(e,f);for(const v of p){const y=Cy(t,r[v.start],r[v.end],v.loop),k=qk(a,s,y);for(const A of k)o.push({source:A,target:v,start:{[t]:W_(f,y,"start",Math.max)},end:{[t]:W_(f,y,"end",Math.min)}})}}return o}function Cy(n,e,t,i){if(i)return;let s=e[n],r=t[n];return n==="angle"&&(s=$s(s),r=$s(r)),{property:n,start:s,end:r}}function wR(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=v1(o,a,s);const c=s[o],h=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:h.x,y:i})):t!==null&&(r.push({x:t,y:c.y}),r.push({x:t,y:h.y}))}),r}function v1(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function W_(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function pA(n,e){let t=[],i=!1;return fi(n)?(i=!0,t=n):t=wR(n,e),t.length?new hf({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function G_(n){return n&&n.fill!==!1}function _R(n,e,t){let s=n[e].fill;const r=[e];let o;if(!t)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Pi(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function SR(n,e,t){const i=NR(n);if(gn(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pi(s)&&Math.floor(s)===s?kR(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function kR(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function AR(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:gn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function CR(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:gn(n)?i=n.value:i=e.getBaseValue(),i}function NR(n){const e=n.options,t=e.fill;let i=Jt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ER(n){const{scale:e,index:t,line:i}=n,s=[],r=i.segments,o=i.points,a=TR(e,t);a.push(pA({x:null,y:e.bottom},i));for(let c=0;c<r.length;c++){const h=r[c];for(let f=h.start;f<=h.end;f++)PR(s,o[f],a)}return new hf({points:s,options:{}})}function TR(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function PR(n,e,t){const i=[];for(let s=0;s<t.length;s++){const r=t[s],{first:o,last:a,point:c}=MR(r,e,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function MR(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],r=n.segments,o=n.points;let a=!1,c=!1;for(let h=0;h<r.length;h++){const f=r[h],p=o[f.start][t],v=o[f.end][t];if(ql(s,p,v)){a=s===p,c=s===v;break}}return{first:a,last:c,point:i}}class bA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:r,radius:o}=this;return t=t||{start:0,end:ii},e.arc(s,r,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,r=e.angle;return{x:t+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function OR(n){const{chart:e,fill:t,line:i}=n;if(Pi(t))return LR(e,t);if(t==="stack")return ER(n);if(t==="shape")return!0;const s=RR(n);return s instanceof bA?s:pA(s,i)}function LR(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function RR(n){return(n.scale||{}).getPointPositionForValue?jR(n):DR(n)}function DR(n){const{scale:e={},fill:t}=n,i=AR(t,e);if(Pi(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function jR(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=CR(t,e,r),a=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,r);return new bA({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(e.getPointPositionForValue(c,o));return a}function ub(n,e,t){const i=OR(e),{chart:s,index:r,line:o,scale:a,axis:c}=e,h=o.options,f=h.fill,p=h.backgroundColor,{above:v=p,below:y=p}=f||{},k=s.getDatasetMeta(r),A=Wk(s,k);i&&o.points.length&&(g1(n,t),FR(n,{line:o,target:i,above:v,below:y,area:t,scale:a,axis:c,clip:A}),m1(n))}function FR(n,e){const{line:t,target:i,above:s,below:r,area:o,scale:a,clip:c}=e,h=t._loop?"angle":e.axis;n.save();let f=r;r!==s&&(h==="x"?($_(n,i,o.top),hb(n,{line:t,target:i,color:s,scale:a,property:h,clip:c}),n.restore(),n.save(),$_(n,i,o.bottom)):h==="y"&&(K_(n,i,o.left),hb(n,{line:t,target:i,color:r,scale:a,property:h,clip:c}),n.restore(),n.save(),K_(n,i,o.right),f=s)),hb(n,{line:t,target:i,color:f,scale:a,property:h,clip:c}),n.restore()}function $_(n,e,t){const{segments:i,points:s}=e;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:c,end:h}=a,f=s[c],p=s[v1(c,h,s)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(p.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function K_(n,e,t){const{segments:i,points:s}=e;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:c,end:h}=a,f=s[c],p=s[v1(c,h,s)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,p.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function hb(n,e){const{line:t,target:i,property:s,color:r,scale:o,clip:a}=e,c=xR(t,i,s);for(const{source:h,target:f,start:p,end:v}of c){const{style:{backgroundColor:y=r}={}}=h,k=i!==!0;n.save(),n.fillStyle=y,BR(n,o,a,k&&Cy(s,p,v)),n.beginPath();const A=!!t.pathSegment(n,h);let N;if(k){A?n.closePath():Y_(n,i,v,s);const E=!!i.pathSegment(n,f,{move:A,reverse:!0});N=A&&E,N||Y_(n,i,p,s)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function BR(n,e,t,i){const s=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let c,h,f,p;r==="x"?(c=o,h=s.top,f=a,p=s.bottom):(c=s.left,h=o,f=s.right,p=a),n.beginPath(),t&&(c=Math.max(c,t.left),f=Math.min(f,t.right),h=Math.max(h,t.top),p=Math.min(p,t.bottom)),n.rect(c,h,f-c,p-h),n.clip()}}function Y_(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var IR={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let r,o,a,c;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof hf&&(c={visible:n.isDatasetVisible(o),index:o,fill:SR(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=_R(s,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&ub(n.ctx,a,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;G_(r)&&ub(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!G_(i)||t.drawTime!=="beforeDatasetDraw"||ub(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const X_=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},zR=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class J_ extends ic{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Jn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=rs(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=X_(i,r);let h,f;t.font=s.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(o,r,a,c)+10):(f=this.maxHeight,h=this._fitCols(o,s,a,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],f=s+a;let p=e;r.textAlign="left",r.textBaseline="middle";let v=-1,y=-f;return this.legendItems.forEach((k,A)=>{const N=i+t/2+r.measureText(k.text).width;(A===0||h[h.length-1]+N+2*a>o)&&(p+=f,h[h.length-(A>0?0:1)]=0,y+=f,v++),c[A]={left:0,top:y,row:v,width:N,height:s},h[h.length-1]+=N+a}),p}_fitCols(e,t,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],f=o-e;let p=a,v=0,y=0,k=0,A=0;return this.legendItems.forEach((N,E)=>{const{itemWidth:D,itemHeight:U}=VR(i,t,r,N,s);E>0&&y+U+2*a>f&&(p+=v+a,h.push({width:v,height:y}),k+=v+a,A++,v=y=0),c[E]={left:k,top:y,col:A,width:D,height:U},v=Math.max(v,D),y+=U+a}),p+=v,h.push({width:v,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ud(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=Ws(i,this.left+s,this.right-this.lineWidths[a]);for(const h of t)a!==h.row&&(a=h.row,c=Ws(i,this.left+s,this.right-this.lineWidths[a])),h.top+=this.top+e+s,h.left=o.leftForLtr(o.x(c),h.width),c+=h.width+s}else{let a=0,c=Ws(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const h of t)h.col!==a&&(a=h.col,c=Ws(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),h.top=c,h.left+=this.left+s,h.left=o.leftForLtr(o.x(h.left),h.width),c+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;g1(e,this),this._draw(),m1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=gi.color,c=Ud(e.rtl,this.left,this.width),h=rs(o.font),{padding:f}=o,p=h.size,v=p/2;let y;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:k,boxHeight:A,itemHeight:N}=X_(o,p),E=function(se,ee,M){if(isNaN(k)||k<=0||isNaN(A)||A<0)return;s.save();const P=Jt(M.lineWidth,1);if(s.fillStyle=Jt(M.fillStyle,a),s.lineCap=Jt(M.lineCap,"butt"),s.lineDashOffset=Jt(M.lineDashOffset,0),s.lineJoin=Jt(M.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=Jt(M.strokeStyle,a),s.setLineDash(Jt(M.lineDash,[])),o.usePointStyle){const W={radius:A*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:P},R=c.xPlus(se,k/2),B=ee+v;Ok(s,W,R,B,o.pointStyleWidth&&k)}else{const W=ee+Math.max((p-A)/2,0),R=c.leftForLtr(se,k),B=ch(M.borderRadius);s.beginPath(),Object.values(B).some(ie=>ie!==0)?nm(s,{x:R,y:W,w:k,h:A,radius:B}):s.rect(R,W,k,A),s.fill(),P!==0&&s.stroke()}s.restore()},D=function(se,ee,M){mh(s,M.text,se,ee+N/2,h,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},U=this.isHorizontal(),V=this._computeTitleHeight();U?y={x:Ws(r,this.left+f,this.right-i[0]),y:this.top+f+V,line:0}:y={x:this.left+f,y:Ws(r,this.top+V+f,this.bottom-t[0].height),line:0},zk(this.ctx,e.textDirection);const J=N+f;this.legendItems.forEach((se,ee)=>{s.strokeStyle=se.fontColor,s.fillStyle=se.fontColor;const M=s.measureText(se.text).width,P=c.textAlign(se.textAlign||(se.textAlign=o.textAlign)),W=k+v+M;let R=y.x,B=y.y;c.setWidth(this.width),U?ee>0&&R+W+f>this.right&&(B=y.y+=J,y.line++,R=y.x=Ws(r,this.left+f,this.right-i[y.line])):ee>0&&B+J>this.bottom&&(R=y.x=R+t[y.line].width+f,y.line++,B=y.y=Ws(r,this.top+V+f,this.bottom-t[y.line].height));const ie=c.x(R);if(E(ie,B,se),R=iM(P,R+k+v,U?R+W:this.right,e.rtl),D(c.x(R),B,se),U)y.x+=W+f;else if(typeof se.text!="string"){const oe=h.lineHeight;y.y+=yA(se,oe)+f}else y.y+=J}),Vk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=rs(t.font),s=Ys(t.padding);if(!t.display)return;const r=Ud(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=i.size/2,h=s.top+c;let f,p=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),f=this.top+h,p=Ws(e.align,p,this.right-v);else{const k=this.columnSizes.reduce((A,N)=>Math.max(A,N.height),0);f=h+Ws(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const y=Ws(a,p,p+v);o.textAlign=r.textAlign(bv(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,mh(o,t.text,y,f,i)}_computeTitleHeight(){const e=this.options.title,t=rs(e.font),i=Ys(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,r;if(ql(e,this.left,this.right)&&ql(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ql(e,s.left,s.left+s.width)&&ql(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!HR(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=zR(s,i);s&&!r&&Jn(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Jn(t.onHover,[e,i,this],this)}else i&&Jn(t.onClick,[e,i,this],this)}}function VR(n,e,t,i,s){const r=UR(i,n,e,t),o=qR(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function UR(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(s).width}function qR(n,e,t){let i=n;return typeof e.text!="string"&&(i=yA(e,t)),i}function yA(n,e){const t=n.text?n.text.length:0;return e*t}function HR(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Nv={id:"legend",_element:J_,start(n,e,t){const i=n.legend=new J_({ctx:n.ctx,options:t,chart:n});Ks.configure(n,i,t),Ks.addBox(n,i)},stop(n){Ks.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ks.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(t?0:void 0),f=Ys(h.borderWidth);return{text:e[c.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ev extends ic{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=fi(i.text)?i.text.length:1;this._padding=Ys(i.padding);const r=s*rs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c=0,h,f,p;return this.isHorizontal()?(f=Ws(a,i,r),p=t+e,h=r-i):(o.position==="left"?(f=i+e,p=Ws(a,s,t),c=Sn*-.5):(f=r-e,p=Ws(a,t,s),c=Sn*.5),h=s-t),{titleX:f,titleY:p,maxWidth:h,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=rs(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:h}=this._drawArgs(r);mh(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:h,textAlign:bv(t.align),textBaseline:"middle",translation:[o,a]})}}function WR(n,e){const t=new Ev({ctx:n.ctx,options:e,chart:n});Ks.configure(n,t,e),Ks.addBox(n,t),n.titleBlock=t}var Tv={id:"title",_element:Ev,start(n,e,t){WR(n,t)},stop(n){const e=n.titleBlock;Ks.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ks.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yp=new WeakMap;var GR={id:"subtitle",start(n,e,t){const i=new Ev({ctx:n.ctx,options:t,chart:n});Ks.configure(n,i,t),Ks.addBox(n,i),Yp.set(n,i)},stop(n){Ks.removeBox(n,Yp.get(n)),Yp.delete(n)},beforeUpdate(n,e,t){const i=Yp.get(n);Ks.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kg={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){const c=n[r].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),f=vy(e,h);f<s&&(s=f,a=c)}}if(a){const c=a.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Ua(n,e){return e&&(fi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Fl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function $R(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function Q_(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=e,c=rs(e.bodyFont),h=rs(e.titleFont),f=rs(e.footerFont),p=r.length,v=s.length,y=i.length,k=Ys(e.padding);let A=k.height,N=0,E=i.reduce((V,J)=>V+J.before.length+J.lines.length+J.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,p&&(A+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),E){const V=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;A+=y*V+(E-y)*c.lineHeight+(E-1)*e.bodySpacing}v&&(A+=e.footerMarginTop+v*f.lineHeight+(v-1)*e.footerSpacing);let D=0;const U=function(V){N=Math.max(N,t.measureText(V).width+D)};return t.save(),t.font=h.string,On(n.title,U),t.font=c.string,On(n.beforeBody.concat(n.afterBody),U),D=e.displayColors?o+2+e.boxPadding:0,On(i,V=>{On(V.before,U),On(V.lines,U),On(V.after,U)}),D=0,t.font=f.string,On(n.footer,U),t.restore(),N+=k.width,{width:N,height:A}}function KR(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function YR(n,e,t,i){const{x:s,width:r}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+r+o>e.width||n==="right"&&s-r-o<0)return!0}function XR(n,e,t,i){const{x:s,width:r}=t,{width:o,chartArea:{left:a,right:c}}=n;let h="center";return i==="center"?h=s<=(a+c)/2?"left":"right":s<=r/2?h="left":s>=o-r/2&&(h="right"),YR(h,n,e,t)&&(h="center"),h}function Z_(n,e,t){const i=t.yAlign||e.yAlign||KR(n,t);return{xAlign:t.xAlign||e.xAlign||XR(n,e,t,i),yAlign:i}}function JR(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function QR(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function e4(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,h=s+r,{topLeft:f,topRight:p,bottomLeft:v,bottomRight:y}=ch(o);let k=JR(e,a);const A=QR(e,c,h);return c==="center"?a==="left"?k+=h:a==="right"&&(k-=h):a==="left"?k-=Math.max(f,v)+s:a==="right"&&(k+=Math.max(p,y)+s),{x:xs(k,0,i.width-e.width),y:xs(A,0,i.height-e.height)}}function Xp(n,e,t){const i=Ys(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function t4(n){return Ua([],Fl(n))}function ZR(n,e,t){return du(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function n4(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const vA={beforeTitle:Ol,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ol,beforeBody:Ol,beforeLabel:Ol,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return un(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ol,afterBody:Ol,beforeFooter:Ol,footer:Ol,afterFooter:Ol};function Sr(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?vA[e].call(t,i):s}class i4 extends ic{static positioners=kg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new Gk(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ZR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Sr(i,"beforeTitle",this,e),r=Sr(i,"title",this,e),o=Sr(i,"afterTitle",this,e);let a=[];return a=Ua(a,Fl(s)),a=Ua(a,Fl(r)),a=Ua(a,Fl(o)),a}getBeforeBody(e,t){return t4(Sr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return On(e,r=>{const o={before:[],lines:[],after:[]},a=n4(i,r);Ua(o.before,Fl(Sr(a,"beforeLabel",this,r))),Ua(o.lines,Sr(a,"label",this,r)),Ua(o.after,Fl(Sr(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,t){return t4(Sr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Sr(i,"beforeFooter",this,e),r=Sr(i,"footer",this,e),o=Sr(i,"afterFooter",this,e);let a=[];return a=Ua(a,Fl(s)),a=Ua(a,Fl(r)),a=Ua(a,Fl(o)),a}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],c,h;for(c=0,h=t.length;c<h;++c)a.push($R(this.chart,t[c]));return e.filter&&(a=a.filter((f,p,v)=>e.filter(f,p,v,i))),e.itemSort&&(a=a.sort((f,p)=>e.itemSort(f,p,i))),On(a,f=>{const p=n4(e.callbacks,f);s.push(Sr(p,"labelColor",this,f)),r.push(Sr(p,"labelPointStyle",this,f)),o.push(Sr(p,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=kg[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=Q_(this,i),h=Object.assign({},a,c),f=Z_(this.chart,i,h),p=e4(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:p}=ch(a),{x:v,y}=e,{width:k,height:A}=t;let N,E,D,U,V,J;return r==="center"?(V=y+A/2,s==="left"?(N=v,E=N-o,U=V+o,J=V-o):(N=v+k,E=N+o,U=V-o,J=V+o),D=N):(s==="left"?E=v+Math.max(c,f)+o:s==="right"?E=v+k-Math.max(h,p)-o:E=this.caretX,r==="top"?(U=y,V=U-o,N=E-o,D=E+o):(U=y+A,V=U+o,N=E+o,D=E-o),J=U),{x1:N,x2:E,x3:D,y1:U,y2:V,y3:J}}drawTitle(e,t,i){const s=this.title,r=s.length;let o,a,c;if(r){const h=Ud(i.rtl,this.x,this.width);for(e.x=Xp(this,i.titleAlign,i),t.textAlign=h.textAlign(i.titleAlign),t.textBaseline="middle",o=rs(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<r;++c)t.fillText(s[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=r,f=rs(r.bodyFont),p=Xp(this,"left",r),v=s.x(p),y=c<f.lineHeight?(f.lineHeight-c)/2:0,k=t.y+y;if(r.usePointStyle){const A={radius:Math.min(h,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},N=s.leftForLtr(v,h)+h/2,E=k+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,wy(e,A,N,E),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,wy(e,A,N,E)}else{e.lineWidth=gn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const A=s.leftForLtr(v,h),N=s.leftForLtr(s.xPlus(v,1),h-2),E=ch(o.borderRadius);Object.values(E).some(D=>D!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,nm(e,{x:A,y:k,w:h,h:c,radius:E}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),nm(e,{x:N,y:k+1,w:h-2,h:c-2,radius:E}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(A,k,h,c),e.strokeRect(A,k,h,c),e.fillStyle=o.backgroundColor,e.fillRect(N,k+1,h-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:h,boxPadding:f}=i,p=rs(i.bodyFont);let v=p.lineHeight,y=0;const k=Ud(i.rtl,this.x,this.width),A=function(M){t.fillText(M,k.x(e.x+y),e.y+v/2),e.y+=v+r},N=k.textAlign(o);let E,D,U,V,J,se,ee;for(t.textAlign=o,t.textBaseline="middle",t.font=p.string,e.x=Xp(this,N,i),t.fillStyle=i.bodyColor,On(this.beforeBody,A),y=a&&N!=="right"?o==="center"?h/2+f:h+2+f:0,V=0,se=s.length;V<se;++V){for(E=s[V],D=this.labelTextColors[V],t.fillStyle=D,On(E.before,A),U=E.lines,a&&U.length&&(this._drawColorBox(t,e,V,k,i),v=Math.max(p.lineHeight,c)),J=0,ee=U.length;J<ee;++J)A(U[J]),v=p.lineHeight;On(E.after,A)}y=0,v=p.lineHeight,On(this.afterBody,A),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let o,a;if(r){const c=Ud(i.rtl,this.x,this.width);for(e.x=Xp(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=rs(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:h,height:f}=i,{topLeft:p,topRight:v,bottomLeft:y,bottomRight:k}=ch(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+p,c),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(a+h-v,c),t.quadraticCurveTo(a+h,c,a+h,c+v),o==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(a+h,c+f-k),t.quadraticCurveTo(a+h,c+f,a+h-k,c+f),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(a+y,c+f),t.quadraticCurveTo(a,c+f,a,c+f-y),o==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(a,c+p),t.quadraticCurveTo(a,c,a+p,c),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=kg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Q_(this,e),c=Object.assign({},o,this._size),h=Z_(t,e,c),f=e4(e,c,h,t);(s._to!==f.x||r._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ys(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),zk(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Vk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:a,index:c})=>{const h=this.chart.getDatasetMeta(a);if(!h)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:h.data[c],index:c}}),r=!F0(i,s),o=this._positionChanged(s,t);(r||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),a=this._positionChanged(o,e),c=t||!F0(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,o=kg[r.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}var Pv={id:"tooltip",_element:i4,positioners:kg,afterInit(n,e,t){t&&(n.tooltip=new i4({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},e9=Object.freeze({__proto__:null,Colors:mR,Decimation:vR,Filler:IR,Legend:Nv,SubTitle:GR,Title:Tv,Tooltip:Pv});const t9=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function n9(n,e,t,i){const s=n.indexOf(e);if(s===-1)return t9(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const i9=(n,e)=>n===null?null:xs(Math.round(n),0,e);function s4(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class x1 extends _h{static id="category";static defaults={ticks:{callback:s4}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(un(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:n9(i,e,Jt(t,e),this._addedLabels),i9(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return s4.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function s9(n,e){const t=[],{bounds:s,step:r,min:o,max:a,precision:c,count:h,maxTicks:f,maxDigits:p,includeBounds:v}=n,y=r||1,k=f-1,{min:A,max:N}=e,E=!un(o),D=!un(a),U=!un(h),V=(N-A)/(p+1);let J=Qw((N-A)/k/y)*y,se,ee,M,P;if(J<1e-14&&!E&&!D)return[{value:A},{value:N}];P=Math.ceil(N/J)-Math.floor(A/J),P>k&&(J=Qw(P*J/k/y)*y),un(c)||(se=Math.pow(10,c),J=Math.ceil(J*se)/se),s==="ticks"?(ee=Math.floor(A/J)*J,M=Math.ceil(N/J)*J):(ee=A,M=N),E&&D&&r&&XP((a-o)/r,J/1e3)?(P=Math.round(Math.min((a-o)/J,f)),J=(a-o)/P,ee=o,M=a):U?(ee=E?o:ee,M=D?a:M,P=h-1,J=(M-ee)/P):(P=(M-ee)/J,Og(P,Math.round(P),J/1e3)?P=Math.round(P):P=Math.ceil(P));const W=Math.max(Zw(J),Zw(ee));se=Math.pow(10,un(c)?W:c),ee=Math.round(ee*se)/se,M=Math.round(M*se)/se;let R=0;for(E&&(v&&ee!==o?(t.push({value:o}),ee<o&&R++,Og(Math.round((ee+R*J)*se)/se,o,r4(o,V,n))&&R++):ee<o&&R++);R<P;++R){const B=Math.round((ee+R*J)*se)/se;if(D&&B>a)break;t.push({value:B})}return D&&v&&M!==a?t.length&&Og(t[t.length-1].value,a,r4(a,V,n))?t[t.length-1].value=a:t.push({value:a}):(!D||M===a)&&t.push({value:M}),t}function r4(n,e,{horizontal:t,minRotation:i}){const s=oa(i),r=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/r,o)}class H0 extends _h{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return un(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=c=>s=t?s:c,a=c=>r=i?r:c;if(e){const c=Ya(s),h=Ya(r);c<0&&h<0?a(0):c>0&&h>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(s-c)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=s9(s,r);return e.bounds==="ticks"&&Sk(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Em(e,this.chart.options.locale,this.options.ticks.format)}}class Mv extends H0{static id="linear";static defaults={ticks:{callback:f1.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Pi(e)?e:0,this.max=Pi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=oa(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const sm=n=>Math.floor(tu(n)),Xu=(n,e)=>Math.pow(10,sm(n)+e);function o4(n){return n/Math.pow(10,sm(n))===1}function a4(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function r9(n,e){const t=e-n;let i=sm(t);for(;a4(n,e,i)>10;)i++;for(;a4(n,e,i)<10;)i--;return Math.min(i,sm(n))}function o9(n,{min:e,max:t}){e=Kr(n.min,e);const i=[],s=sm(e);let r=r9(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,h=Math.round((e-c)*o)/o,f=Math.floor((e-c)/a/10)*a*10;let p=Math.floor((h-f)/Math.pow(10,r)),v=Kr(n.min,Math.round((c+f+p*Math.pow(10,r))*o)/o);for(;v<t;)i.push({value:v,major:o4(v),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(r++,p=2,o=r>=0?1:o),v=Math.round((c+f+p*Math.pow(10,r))*o)/o;const y=Kr(n.max,v);return i.push({value:y,major:o4(y),significand:p}),i}class a9 extends _h{static id="logarithmic";static defaults={ticks:{callback:f1.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=H0.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Pi(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Pi(e)?Math.max(0,e):null,this.max=Pi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pi(this._userMin)&&(this.min=e===Xu(this.min,0)?Xu(this.min,-1):Xu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=t?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Xu(i,-1)),o(Xu(s,1)))),i<=0&&r(Xu(s,-1)),s<=0&&o(Xu(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=o9(t,this);return e.bounds==="ticks"&&Sk(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Em(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=tu(e),this._valueRange=tu(this.max)-tu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(tu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Ny(n){const e=n.ticks;if(e.display&&n.display){const t=Ys(e.backdropPadding);return Jt(e.font&&e.font.size,gi.font.size)+t.height}return 0}function l9(n,e,t){return t=fi(t)?t:[t],{w:fM(n,e.string,t),h:t.length*e.lineHeight}}function l4(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function c9(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Sn/r:0;for(let c=0;c<r;c++){const h=o.setContext(n.getPointLabelContext(c));s[c]=h.padding;const f=n.getPointPosition(c,n.drawingArea+s[c],a),p=rs(h.font),v=l9(n.ctx,p,n._pointLabels[c]);i[c]=v;const y=$s(n.getIndexAngle(c)+a),k=Math.round(mv(y)),A=l4(k,f.x,v.w,0,180),N=l4(k,f.y,v.h,90,270);u9(t,e,y,A,N)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=f9(n,i,s)}function u9(n,e,t,i,s){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,c=0;i.start<e.l?(a=(e.l-i.start)/r,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,n.r=Math.max(n.r,e.r+a)),s.start<e.t?(c=(e.t-s.start)/o,n.t=Math.min(n.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function h9(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=t,c=n.getPointPosition(e,i+s+o,r),h=Math.round(mv($s(c.angle+Hi))),f=p9(c.y,a.h,h),p=g9(h),v=m9(c.x,a.w,p);return{visible:!0,x:c.x,y:f,textAlign:p,left:v,top:f,right:v+a.w,bottom:f+a.h}}function d9(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:r}=n;return!(Wl({x:t,y:i},e)||Wl({x:t,y:r},e)||Wl({x:s,y:i},e)||Wl({x:s,y:r},e))}function f9(n,e,t){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Ny(r)/2,additionalAngle:o?Sn/s:0};let h;for(let f=0;f<s;f++){c.padding=t[f],c.size=e[f];const p=h9(n,f,c);i.push(p),a==="auto"&&(p.visible=d9(p,h),p.visible&&(h=p))}return i}function g9(n){return n===0||n===180?"center":n<180?"left":"right"}function m9(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function p9(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function b9(n,e,t){const{left:i,top:s,right:r,bottom:o}=t,{backdropColor:a}=e;if(!un(a)){const c=ch(e.borderRadius),h=Ys(e.backdropPadding);n.fillStyle=a;const f=i-h.left,p=s-h.top,v=r-i+h.width,y=o-s+h.height;Object.values(c).some(k=>k!==0)?(n.beginPath(),nm(n,{x:f,y:p,w:v,h:y,radius:c}),n.fill()):n.fillRect(f,p,v,y)}}function y9(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(n.getPointLabelContext(s));b9(t,o,r);const a=rs(o.font),{x:c,y:h,textAlign:f}=r;mh(t,n._pointLabels[s],c,h+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function xA(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,ii);else{let r=n.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function v9(n,e,t,i,s){const r=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!i||!a||!c||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),xA(n,t,o,i),r.closePath(),r.stroke(),r.restore())}function x9(n,e,t){return du(n,{label:t,index:e,type:"pointLabel"})}class w9 extends H0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:f1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ys(Ny(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Pi(e)&&!isNaN(e)?e:0,this.max=Pi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ny(this.options))}generateTickLabels(e){H0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=Jn(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?c9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=ii/(this._pointLabels.length||1),i=this.options.startAngle||0;return $s(e*t+oa(i))}getDistanceFromCenterForValue(e){if(un(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(un(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return x9(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-Hi+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),xA(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:r}=t,o=this._pointLabels.length;let a,c,h;if(t.pointLabels.display&&y9(this,o),s.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);const v=this.getContext(p),y=s.setContext(v),k=r.setContext(v);v9(this,y,c,o,k)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const f=i.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:v}=f;!v||!p||(e.lineWidth=v,e.strokeStyle=p,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),h=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const h=i.setContext(this.getContext(c)),f=rs(h.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){e.font=f.string,o=e.measureText(a.label).width,e.fillStyle=h.backdropColor;const p=Ys(h.backdropPadding);e.fillRect(-o/2-p.left,-r-f.size/2-p.top,o+p.width,f.size+p.height)}mh(e,a.label,0,-r,f,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}const w1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ar=Object.keys(w1);function c4(n,e){return n-e}function u4(n,e){if(un(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Pi(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(Zd(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,s)),+o)}function h4(n,e,t,i){const s=Ar.length;for(let r=Ar.indexOf(n);r<s-1;++r){const o=w1[Ar[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return Ar[r]}return Ar[s-1]}function _9(n,e,t,i,s){for(let r=Ar.length-1;r>=Ar.indexOf(t);r--){const o=Ar[r];if(w1[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return Ar[t?Ar.indexOf(t):0]}function S9(n){for(let e=Ar.indexOf(n)+1,t=Ar.length;e<t;++e)if(w1[Ar[e]].common)return Ar[e]}function d4(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=pv(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function k9(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=t[a],c>=0&&(e[c].major=!0);return e}function f4(n,e,t){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!t?i:k9(n,i,s,t)}class Ey extends _h{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new LO._date(e.adapters.date);s.init(t),Mg(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:u4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(h){!o&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!a&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Pi(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Pi(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=eM(s,r,o);return this._unit=t.unit||(i.autoSkip?h4(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):_9(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:S9(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),f4(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=xs(t,0,o),i=xs(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||h4(r.minUnit,t,i,this._getLabelCapacity(t)),a=Jt(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,h=Zd(c)||c===!0,f={};let p=t,v,y;if(h&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,h?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const k=s.ticks.source==="data"&&this.getDataTimestamps();for(v=p,y=0;v<i;v=+e.add(v,a,o),y++)d4(f,v,k);return(v===i||s.bounds==="ticks"||y===1)&&d4(f,v,k),Object.keys(f).sort(c4).map(A=>+A)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,o=t||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const r=this.options,o=r.ticks.callback;if(o)return Jn(o,[e,t,i],this);const a=r.time.displayFormats,c=this._unit,h=this._majorUnit,f=c&&a[c],p=h&&a[h],v=i[t],y=h&&p&&v&&v.major;return this._adapter.format(e,s||(y?p:f))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=oa(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,f4(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(u4(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ck(e.sort(c4))}}function Jp(n,e,t){let i=0,s=n.length-1,r,o,a,c;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Hl(n,"pos",e)),{pos:r,time:a}=n[i],{pos:o,time:c}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Hl(n,"time",e)),{time:r,pos:a}=n[i],{time:o,pos:c}=n[s]);const h=o-r;return h?a+(c-a)*(e-r)/h:a}class A9 extends Ey{static id="timeseries";static defaults=Ey.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Jp(t,this.min),this._tableRange=Jp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let o,a,c,h,f;for(o=0,a=e.length;o<a;++o)h=e[o],h>=t&&h<=i&&s.push(h);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)f=s[o+1],c=s[o-1],h=s[o],Math.round((f+c)/2)!==h&&r.push({time:h,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Jp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Jp(this._table,i*this._tableRange+this._minPos,!0)}}var C9=Object.freeze({__proto__:null,CategoryScale:x1,LinearScale:Mv,LogarithmicScale:a9,RadialLinearScale:w9,TimeScale:Ey,TimeSeriesScale:A9});const N9=[OO,lR,e9,C9],wA="label";function g4(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function E9(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function _A(n,e){n.labels=e}function SA(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wA;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(o=>o[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function T9(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wA;const t={labels:[],datasets:[]};return _A(t,n.labels),SA(t,n.datasets,e),t}function P9(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:h=[],fallbackContent:f,updateMode:p,...v}=n,y=we.useRef(null),k=we.useRef(null),A=()=>{y.current&&(k.current=new Sh(y.current,{type:o,data:T9(a,r),options:c&&{...c},plugins:h}),g4(e,k.current))},N=()=>{g4(e,null),k.current&&(k.current.destroy(),k.current=null)};return we.useEffect(()=>{!s&&k.current&&c&&E9(k.current,c)},[s,c]),we.useEffect(()=>{!s&&k.current&&_A(k.current.config.data,a.labels)},[s,a.labels]),we.useEffect(()=>{!s&&k.current&&a.datasets&&SA(k.current.config.data,a.datasets,r)},[s,a.datasets]),we.useEffect(()=>{k.current&&(s?(N(),setTimeout(A)):k.current.update(p))},[s,c,a.labels,a.datasets,p]),we.useEffect(()=>{k.current&&(N(),setTimeout(A))},[o]),we.useEffect(()=>(A(),()=>N()),[]),Rs.createElement("canvas",{ref:y,role:"img",height:t,width:i,...v},f)}const M9=we.forwardRef(P9);function _1(n,e){return Sh.register(e),we.forwardRef((t,i)=>Rs.createElement(M9,{...t,ref:i,type:n}))}const rm=_1("line",Xk),O9=_1("bar",Yk),L9=_1("doughnut",b1),R9=_1("pie",Qk);Sh.register(...N9);Sh.register(x1);const D9=({monthlyData:n})=>{const{users:e}=n,[t,i]=we.useState({labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Users",data:e,backgroundColor:"#7897FF",borderColor:"#7897FF",borderWidth:2,tension:.3,fill:!0}]});return we.useEffect(()=>{i(s=>({...s,datasets:[{...s.datasets[0],data:e}]}))},[e]),m.jsxs("div",{className:"flex flex-col gap-5 w-full",children:[m.jsx("h3",{className:"text-lg font-semibold leading-6",children:"Users Behaviour Analytics"}),m.jsx("div",{className:"chart-container w-full h-[300px] sm:h-[400px] md:h-[500px] relative",children:m.jsx(rm,{data:t,options:{maintainAspectRatio:!1,responsive:!0,plugins:{title:{display:!0,text:"Users per Month"},legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Users"},ticks:{callback:s=>`${s}`}},x:{title:{display:!0,text:"Months"}}}}})})]})},db=({title:n,chartData:e,className:t})=>{const i={labels:e.labels,datasets:[{label:n,data:e.values,backgroundColor:["#4F46E5","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],borderWidth:2,borderColor:"#FFFFFF",hoverOffset:8}]},s={plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20}}},maintainAspectRatio:!1};return m.jsxs("div",{className:`p-5 ${t}`,children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:n}),m.jsx("div",{className:"",children:m.jsx(R9,{data:i,options:s})})]})},j9=()=>{const[n]=we.useState({users:[120,190,170,220,300,280,350,400,380,450,500,600],earnings:[2400,3800,3400,4400,6e3,5600,7e3,8e3,7600,9e3,1e4,12e3]}),[e]=we.useState({labels:["Cancer","Diabetes","Heart Disease","Asthma","Other"],values:[40,25,20,10,5]}),[t]=we.useState({labels:["USA","UK","Pakistan","India","Germany","Other"],values:[120,90,70,60,40,30]}),[i]=we.useState({labels:["18-25","26-35","36-45","46-60","60+"],values:[120,200,150,80,40]});return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(nc,{header:"Dashboard",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 py-6 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[m.jsx(_d,{title:"Users",count:"03",icon:Yl,link:"/users",percentage:"+12%"}),m.jsx(_d,{title:"Quotes",count:"03",icon:mk,link:"/products",percentage:"+5%"}),m.jsx(_d,{title:"Feedback",count:"03",icon:bk,link:"/posts",percentage:"+8%"}),m.jsx(_d,{title:"Discussions",count:"03",icon:WT,link:"/reels",percentage:"+8%"}),m.jsx(_d,{title:"Subscription",count:"03",icon:uk,link:"/payment",percentage:"+8%"}),m.jsx(_d,{title:"Payments",count:"03",icon:ck,link:"/payment",percentage:"+8%"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:m.jsx(D9,{monthlyData:n})}),m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:m.jsx(db,{title:"User Diseases",chartData:e})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:m.jsx(db,{title:"User Countries",chartData:t})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:m.jsx(db,{title:"User Age Statistics",chartData:i})})]})]})]})]})},_d=({title:n,count:e,icon:t,link:i,percentage:s})=>m.jsx(fh,{to:i,className:"w-full block transition-transform duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden relative",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[m.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 shadow-sm",children:m.jsx(t,{className:"w-5 h-5 text-primary"})}),m.jsxs("span",{className:`flex items-center gap-1 text-sm font-semibold px-2 py-1 rounded-full ${s?.includes("-")?"text-[#C00402] bg-red-100/70":"text-green-600 bg-green-100/70"}`,children:[s?.includes("-")?"":""," ",s]})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-1",children:e}),m.jsx("span",{className:"text-sm font-medium text-gray-600 tracking-wide",children:n})]}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-primary/70 to-primary/30 opacity-0 transition-opacity duration-300 hover:opacity-100"})]})});function df(n){return yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function F9(n){return yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(n)}function B9(n){return yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(n)}const I9=()=>{const[n,e]=we.useState(""),t=[{id:1,name:"John Doe",email:"john.doe@example.com",phoneNumber:"+123456789",address:"street 4, Islamabad",profilePicture:"https://images.pexels.com/photos/5384445/pexels-photo-5384445.jpeg?auto=compress&cs=tinysrgb&w=1600",status:"Active"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",phoneNumber:"+987654321",address:"street 4, Islamabad",profilePicture:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1600",status:"Inactive"},{id:3,name:"Alice Johnson",email:"alice.johnson@example.com",address:"street 4, Islamabad",phoneNumber:"+1122334455",profilePicture:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600",status:"Active"}];return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage Matches",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:[m.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search users...",value:n,onChange:i=>e(i.target.value)})]})}),m.jsx("div",{className:"my-3",children:m.jsx("div",{className:"relative overflow-x-auto bg-white sm:rounded-lg border-b border-gray-200",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-600 rounded-lg overflow-hidden shadow-sm",children:[m.jsx("thead",{className:"text-xs font-semibold text-gray-700 uppercase bg-gray-100/80 backdrop-blur-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Name"}),m.jsx("th",{className:"px-6 py-3",children:"Email"}),m.jsx("th",{className:"px-6 py-3",children:"Phn. No"}),m.jsx("th",{className:"px-6 py-3",children:"Address"}),m.jsx("th",{className:"px-6 py-3",children:"Status"}),m.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200/60",children:t.map(i=>m.jsxs("tr",{className:"bg-white hover:bg-gray-50 transition-colors duration-150 ease-in-out",children:[m.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("img",{src:i.profilePicture,alt:"User",className:"w-9 h-9 rounded-full object-cover ring-2 ring-gray-200/50"}),m.jsx("span",{className:"font-medium text-gray-800",children:i.name})]})}),m.jsx("td",{className:"px-6 py-3",children:m.jsx("span",{className:"inline-flex items-center",children:i.email})}),m.jsx("td",{className:"px-6 py-3 font-mono text-gray-700/90",children:i.phoneNumber}),m.jsx("td",{className:"px-6 py-3 font-mono text-gray-700/90",children:i.address}),m.jsx("td",{className:"px-6 py-3",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="Active"?"bg-green-100 text-green-800":i.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.status})}),m.jsx("td",{className:"px-6 py-3",children:m.jsx(fh,{to:`${i.id}`,className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-md text-sm hover:bg-blue-200 transition-colors cursor-pointer",children:"View"})})]},i.id))})]})})})]})]})},z9=()=>{const n=uf(),[e,t]=we.useState("credentials"),[i,s]=we.useState({username:"",password:"",twoFactorCode:""}),[r,o]=we.useState(!1),a=f=>{const{name:p,value:v}=f.target;s(y=>({...y,[p]:v}))},c=f=>{f.preventDefault(),i.username&&i.password&&t("2fa")},h=f=>{f.preventDefault(),i.twoFactorCode.length===6&&n("/")};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(j0,{className:"text-white text-3xl"})}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-600",children:e==="credentials"?"Enter your credentials to continue":"Enter your 2FA code to complete login"})]}),m.jsx("div",{className:"flex items-center justify-center mb-8",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e==="credentials"?"bg-indigo-600 text-white":"bg-green-600 text-white"}`,children:m.jsx(Yl,{})}),m.jsx("div",{className:`w-20 h-1 ${e==="2fa"?"bg-indigo-600":"bg-gray-300"}`}),m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e==="2fa"?"bg-indigo-600 text-white":"bg-gray-300 text-gray-600"}`,children:m.jsx(j0,{})})]})}),e==="credentials"&&m.jsxs("form",{onSubmit:c,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"username",className:"block text-gray-700 mb-2 font-medium",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Yl,{className:"text-gray-400"})}),m.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:a,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your username",required:!0})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-2 font-medium",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(tP,{className:"text-gray-400"})}),m.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:a,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your password",required:!0})]})]}),m.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-4 rounded-lg flex items-center justify-center transition duration-200 font-medium",children:[m.jsx(qw,{className:"mr-2"}),"Continue"]})]}),e==="2fa"&&m.jsxs("form",{onSubmit:h,children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"twoFactorCode",className:"block text-gray-700 mb-2 font-medium",children:"Two-Factor Authentication Code"}),m.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter the 6-digit code from your authenticator app"}),m.jsx("input",{type:"text",id:"twoFactorCode",name:"twoFactorCode",value:i.twoFactorCode,onChange:a,maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",required:!0})]}),m.jsx("div",{className:"mb-6",children:m.jsxs("label",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:r,onChange:f=>o(f.target.checked),className:"mr-2 w-4 h-4 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"}),m.jsx("span",{className:"text-sm text-gray-700",children:"Remember this device for 30 days"})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:()=>t("credentials"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-4 rounded-lg transition duration-200 font-medium",children:"Back"}),m.jsxs("button",{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-4 rounded-lg flex items-center justify-center transition duration-200 font-medium",children:[m.jsx(qw,{className:"mr-2"}),"Log In"]})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("a",{href:"#",className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Need help signing in?"})})]})})},V9=()=>m.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),U9=()=>m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),q9={profilePicture:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",name:"Jane Smith",email:"jane.smith@example.com",status:"Active",phoneNumber:"+1 (555) 123-4567",contact:"Email preferred",age:32,gender:"Female",wantToMeet:"Friends with similar interests",goal:"Build meaningful connections",zipCode:"90210",address:"123 Main St, Beverly Hills, CA",impactedByCancer:!0,impactedByChronicConditions:!1,bio:"Passionate about technology and community building. Love connecting with people and learning new things every day.",interests:["Traveling","Photography","Fitness","Cooking","Reading"],images:["https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60","https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60"],voiceMessage:["voice-message-url"]},H9=()=>{const[n]=we.useState(q9),[e,t]=we.useState(null);return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(nc,{header:"Manage Users",link:""}),m.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-primary/10 p-6 md:p-8",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:n.profilePicture,alt:n.name,className:"w-32 h-32 md:w-36 md:h-36 rounded-full object-cover border-4 border-white shadow-lg"}),m.jsx("div",{className:"absolute bottom-2 right-2",children:m.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold ${n.status==="Active"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:n.status==="Active"?"":""})})]}),m.jsxs("div",{className:"text-center md:text-left",children:[m.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:n.name}),m.jsx("p",{className:"text-gray-600 mt-1",children:n.email}),m.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 justify-center md:justify-start",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status}),m.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[n.age," years"]}),m.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:n.gender})]})]})]})}),m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"Bio"}),m.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.bio})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:"Interests"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map((i,s)=>m.jsx("span",{className:"px-3 py-1 bg-pink-50 text-secondary rounded-full text-sm font-medium",children:i},s))})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Personal Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Phone"}),m.jsx("span",{className:"text-gray-800",children:n.phoneNumber})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Preferred Contact"}),m.jsx("span",{className:"text-gray-800",children:n.contact})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Looking For"}),m.jsx("span",{className:"text-gray-800",children:n.wantToMeet})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Goal"}),m.jsx("span",{className:"text-gray-800",children:n.goal})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Zip Code"}),m.jsx("span",{className:"text-gray-800",children:n.zipCode})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Address"}),m.jsx("span",{className:"text-gray-800",children:n.address})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Impacted by Cancer"}),m.jsx("span",{className:`font-medium ${n.impactedByCancer?"text-green-600":"text-red-600"}`,children:n.impactedByCancer?"Yes":"No"})]}),m.jsxs("div",{className:"flex flex-col p-4 bg-gray-50 rounded-lg",children:[m.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Impacted by Chronic Conditions"}),m.jsx("span",{className:`font-medium ${n.impactedByChronicConditions?"text-green-600":"text-red-600"}`,children:n.impactedByChronicConditions?"Yes":"No"})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Gallery"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:n.images.map((i,s)=>m.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg shadow-md",onClick:()=>t(i),children:[m.jsx("img",{src:i,alt:`User Image ${s+1}`,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),m.jsx("div",{className:"absolute inset-0 bg-opacity-80 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:m.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"View"})})]},s))})]}),n.voiceMessage.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"Voice Message"}),m.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100 flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-3 rounded-full mr-4",children:m.jsx(V9,{})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"text-gray-700",children:"Voice message available"}),m.jsxs("div",{className:"mt-2 flex items-center",children:[m.jsx("div",{className:"h-2 bg-blue-200 rounded-full w-full mr-3",children:m.jsx("div",{className:"h-2 bg-primary rounded-full",style:{width:"70%"}})}),m.jsx("span",{className:"text-sm text-gray-500",children:"2:45"})]})]}),m.jsx("button",{className:"ml-4 bg-primary text-white p-2 rounded-full",children:m.jsx(U9,{})})]})]})]})]})}),e&&m.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>t(null),children:[m.jsx("div",{className:"max-w-4xl max-h-full",children:m.jsx("img",{src:e,alt:"Enlarged view",className:"max-w-full max-h-full object-contain"})}),m.jsx("button",{className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2",onClick:()=>t(null),children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function W9(){const n={resolve:null,promise:null};return n.promise=new Promise(e=>{n.resolve=e}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function G9(n){let e=null;return(...t)=>(e||(e={current:n(...t)}),e.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Is=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function $9(){const[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Is[n>>0&255]+Is[n>>8&255]+Is[n>>16&255]+Is[n>>24&255]+Is[e>>0&255]+Is[e>>8&255]+Is[e>>16&255]+Is[e>>24&255]+Is[t>>0&255]+Is[t>>8&255]+Is[t>>16&255]+Is[t>>24&255]+Is[i>>0&255]+Is[i>>8&255]+Is[i>>16&255]+Is[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function K9(n,e){const t=n.extraPlugins||[];return{...n,extraPlugins:[...t,...e.filter(i=>!t.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kA(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AA(n){return n?["nightly","alpha","internal","nightly-","staging"].some(e=>n.includes(e)):!1}function Y9(n){return kA(n)||AA(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function X9(n){if(!kA(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[e,t,i]=n.split(".");return{major:Number.parseInt(e,10),minor:Number.parseInt(t,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function J9(n){if(AA(n))return 3;const{major:e}=X9(n);switch(!0){case e>=44:return 3;case e>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Q9(){const{CKEDITOR_VERSION:n,CKEDITOR:e}=window;return Y9(n)?{source:e?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Z9(){const n=Q9();return n?J9(n.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function CA(n,e){switch(e||=Z9()||void 0,e){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function eD(n,e){return function(i){CA(i.config.get("licenseKey"))||i.on("collectUsageData",(s,{setUsageData:r})=>{r(`integration.${n}`,e)})}}var tD=Object.defineProperty,nD=(n,e,t)=>e in n?tD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kr=(n,e,t)=>nD(n,typeof e!="symbol"?e+"":e,t);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const NA=class EA{constructor(e,t){kr(this,"_lifecycle"),kr(this,"_element"),kr(this,"_releaseLock",null),kr(this,"_value",null),kr(this,"_afterMountCallbacks",[]),kr(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),kr(this,"release",G9(()=>{const{_releaseLock:i,_state:s,_element:r,_lifecycle:o}=this;s.mountingInProgress?s.mountingInProgress.then(()=>o.unmount({element:r,mountResult:this.value})).catch(a=>{console.error("CKEditor unmounting error:",a)}).then(i.resolve).then(()=>{this._value=null}):(s.destroyedBeforeInitialization=!0,i.resolve())})),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(t=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(e)||t(e)}),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:i}=this;if(t){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(t))return;e(t)}else i.push(e)}_lock(){const{_semaphores:e}=EA,{_state:t,_element:i,_lifecycle:s}=this,r=e.get(i)||Promise.resolve(null),o=W9();this._releaseLock=o;const a=r.then(()=>t.destroyedBeforeInitialization?Promise.resolve(void 0):(t.mountingInProgress=s.mount().then(c=>(c&&this.unsafeSetValue(c),c)),t.mountingInProgress)).then(async c=>{c&&s.afterMount&&await s.afterMount({element:i,mountResult:c})}).then(()=>o.promise).catch(c=>{console.error("CKEditor mounting error:",c)}).then(()=>{e.get(i)===a&&e.delete(i)});e.set(i,a)}};kr(NA,"_semaphores",new Map);let iD=NA;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const sD="$__CKEditorReactContextMetadata";function rD(n,e){return{...e,[sD]:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const oD=Rs.createContext(null),aD=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),TA=n=>e=>aD(e)&&e.status===n,m4=TA("initializing"),lD=n=>TA("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const cD=eD("react",{version:"11.0.0",frameworkVersion:Rs.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uD(n){return CA(n.licenseKey)?n:K9(n,[cD])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const fb="Lock from React integration (@ckeditor/ckeditor5-react)";class PA extends Rs.Component{constructor(e){super(e),kr(this,"domContainer",Rs.createRef()),kr(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:i}=this;return e.id!==t.id||e.disableWatchdog!==t.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:s})=>{this._shouldUpdateEditorData(t,e,s)&&s.data.set(e.data)}),"disabled"in e&&i.runAfterMount(({instance:s})=>{e.disabled?s.enableReadOnlyMode(fb):s.disableReadOnlyMode(fb)})),!1)}componentDidMount(){m4(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){m4(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new iD(this.domContainer.current,{isValueValid:e=>e&&!!e.instance,mount:async()=>{var e,t;try{return await this._initializeEditor()}catch(i){throw(t=(e=this.props).onError)==null||t.call(e,i,{phase:"initialization",willEditorRestart:!1}),i}},afterMount:({mountResult:e})=>{const{onReady:t}=this.props;t&&this.domContainer.current!==null&&t(e.instance)},unmount:async({element:e,mountResult:t})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(t),e.innerHTML=""}finally{i&&i(t.instance)}}})}render(){return Rs.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=lD(this.context)?new hD(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),t={current:0};return e.setCreator(async(i,s)=>{var r;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;t.current>0&&a&&((r=o?.value)!=null&&r.instance)&&a(o.value.instance);const c=await this._createEditor(i,s);return o&&t.current>0&&(o.unsafeSetValue({instance:c,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),t.current++,c}),e.on("error",(i,{error:s,causesRestart:r})=>{(this.props.onError||console.error)(s,{phase:"runtime",willEditorRestart:r})}),await e.create(this.domContainer.current,this._getConfig()),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:i}=this.props;return i&&(t=rD(i,t)),this.props.editor.create(e,uD(t)).then(s=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&s.enableReadOnlyMode(fb)}const r=s.model.document,o=s.editing.view.document;return r.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,s)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,s)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,s)}),s})}async _destroyEditor(e){const{watchdog:t,instance:i}=e;return new Promise((s,r)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(t)return await t.destroy(),s();if(i)return await i.destroy(),s();s()}catch(o){console.error(o),r(o)}})})}_shouldUpdateEditorData(e,t,i){return!(e.data===t.data||i.data.get()===t.data)}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}kr(PA,"contextType",oD);class hD{constructor(e){kr(this,"_contextWatchdog"),kr(this,"_id"),kr(this,"_creator"),this._contextWatchdog=e,this._id=$9()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",(i,{itemId:s,error:r})=>{s===this._id&&t(null,{error:r,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function MA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}const dD=we.memo(we.forwardRef(({id:n,semaphore:e,rootName:t},i)=>{const s=we.useRef(null);return we.useEffect(()=>{let r,o;return e.runAfterMount(({instance:a})=>{if(!s.current)return;o=a;const{ui:c,model:h}=o,f=h.document.getRoot(t);f&&o.ui.getEditableElement(t)&&o.detachEditable(f),r=c.view.createEditable(t,s.current),c.addEditable(r),a.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(o&&o.state!=="destroyed"&&s.current){const a=o.model.document.getRoot(t);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[e.revision]),Rs.createElement("div",{key:e.revision,id:n,ref:MA(i,s)})}));dD.displayName="EditorEditable";const fD=we.forwardRef(({editor:n},e)=>{const t=we.useRef(null);return we.useEffect(()=>{const i=t.current;if(!n||!i)return;const s=n.ui.view.toolbar.element;return i.appendChild(s),()=>{i.contains(s)&&i.removeChild(s)}},[n&&n.id]),Rs.createElement("div",{ref:MA(t,e)})});fD.displayName="EditorToolbarWrapper";function gD(n){return Number.isSafeInteger(n)&&n>=0}function mD(n){return n!=null&&typeof n!="function"&&gD(n.length)}function OA(n){return n}function om(n){return n==="__proto__"}function LA(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function Ov(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function Lv(n){const e=[],t=n.length;if(t===0)return e;let i=0,s="",r="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),i++);i<t;){const a=n[i];r?a==="\\"&&i+1<t?(i++,s+=n[i]):a===r?r="":s+=a:o?a==='"'||a==="'"?r=a:a==="]"?(o=!1,e.push(s),s=""):s+=a:a==="["?(o=!0,s&&(e.push(s),s="")):a==="."?s&&(e.push(s),s=""):s+=a,i++}return s&&e.push(s),e}function lu(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(om(e))return t;const i=n[e];return i===void 0?LA(e)?lu(n,Lv(e),t):t:i}case"number":case"symbol":{typeof e=="number"&&(e=Ov(e));const i=n[e];return i===void 0?t:i}default:{if(Array.isArray(e))return pD(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),om(e))return t;const i=n[e];return i===void 0?t:i}}}function pD(n,e,t){if(e.length===0)return t;let i=n;for(let s=0;s<e.length;s++){if(i==null||om(e[s]))return t;i=i[e[s]]}return i===void 0?t:i}function bD(n){return function(e){return lu(e,n)}}function Co(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Tm(n){return n==null||typeof n!="object"&&typeof n!="function"}function am(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function yD(n,e,t){return typeof t!="function"?Rv(n,e):Ty(n,e,function i(s,r,o,a,c,h){const f=t(s,r,o,a,c,h);return f!==void 0?!!f:Ty(s,r,i,h)},new Map)}function Ty(n,e,t,i){if(e===n)return!0;switch(typeof e){case"object":return vD(n,e,t,i);case"function":return Object.keys(e).length>0?Ty(n,{...e},t,i):am(n,e);default:return Co(n)?typeof e=="string"?e==="":!0:am(n,e)}}function vD(n,e,t,i){if(e==null)return!0;if(Array.isArray(e))return RA(n,e,t,i);if(e instanceof Map)return xD(n,e,t,i);if(e instanceof Set)return wD(n,e,t,i);const s=Object.keys(e);if(n==null)return s.length===0;if(s.length===0)return!0;if(i&&i.has(e))return i.get(e)===n;i&&i.set(e,n);try{for(let r=0;r<s.length;r++){const o=s[r];if(!Tm(n)&&!(o in n)||e[o]===void 0&&n[o]!==void 0||e[o]===null&&n[o]!==null||!t(n[o],e[o],o,n,e,i))return!1}return!0}finally{i&&i.delete(e)}}function xD(n,e,t,i){if(e.size===0)return!0;if(!(n instanceof Map))return!1;for(const[s,r]of e.entries()){const o=n.get(s);if(t(o,r,s,n,e,i)===!1)return!1}return!0}function RA(n,e,t,i){if(e.length===0)return!0;if(!Array.isArray(n))return!1;const s=new Set;for(let r=0;r<e.length;r++){const o=e[r];let a=!1;for(let c=0;c<n.length;c++){if(s.has(c))continue;const h=n[c];let f=!1;if(t(h,o,r,n,e,i)&&(f=!0),f){s.add(c),a=!0;break}}if(!a)return!1}return!0}function wD(n,e,t,i){return e.size===0?!0:n instanceof Set?RA([...n],[...e],t,i):!1}function Rv(n,e){return yD(n,e,()=>{})}function W0(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function nf(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const S1="[object RegExp]",sf="[object String]",Pm="[object Number]",Mm="[object Boolean]",rf="[object Arguments]",k1="[object Symbol]",A1="[object Date]",C1="[object Map]",N1="[object Set]",Dv="[object Array]",_D="[object Function]",E1="[object ArrayBuffer]",Dg="[object Object]",SD="[object Error]",T1="[object DataView]",jv="[object Uint8Array]",Fv="[object Uint8ClampedArray]",Bv="[object Uint16Array]",Iv="[object Uint32Array]",kD="[object BigUint64Array]",zv="[object Int8Array]",Vv="[object Int16Array]",Uv="[object Int32Array]",AD="[object BigInt64Array]",qv="[object Float32Array]",Hv="[object Float64Array]";function Wv(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function CD(n,e){return ah(n,void 0,n,new Map,e)}function ah(n,e,t,i=new Map,s=void 0){const r=s?.(n,e,t,i);if(r!=null)return r;if(Tm(n))return n;if(i.has(n))return i.get(n);if(Array.isArray(n)){const o=new Array(n.length);i.set(n,o);for(let a=0;a<n.length;a++)o[a]=ah(n[a],a,t,i,s);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;i.set(n,o);for(const[a,c]of n)o.set(a,ah(c,a,t,i,s));return o}if(n instanceof Set){const o=new Set;i.set(n,o);for(const a of n)o.add(ah(a,void 0,t,i,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(Wv(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);i.set(n,o);for(let a=0;a<n.length;a++)o[a]=ah(n[a],a,t,i,s);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return i.set(n,o),rh(o,n,t,i,s),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return i.set(n,o),rh(o,n,t,i,s),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return i.set(n,o),rh(o,n,t,i,s),o}if(n instanceof Error){const o=new n.constructor;return i.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,rh(o,n,t,i,s),o}if(typeof n=="object"&&ND(n)){const o=Object.create(Object.getPrototypeOf(n));return i.set(n,o),rh(o,n,t,i,s),o}return n}function rh(n,e,t=n,i,s){const r=[...Object.keys(e),...W0(e)];for(let o=0;o<r.length;o++){const a=r[o],c=Object.getOwnPropertyDescriptor(n,a);(c==null||c.writable)&&(n[a]=ah(e[a],a,t,i,s))}}function ND(n){switch(nf(n)){case rf:case Dv:case E1:case T1:case Mm:case A1:case qv:case Hv:case zv:case Vv:case Uv:case C1:case Pm:case Dg:case S1:case N1:case sf:case k1:case jv:case Fv:case Bv:case Iv:return!0;default:return!1}}function ED(n){return ah(n,void 0,n,new Map,void 0)}function TD(n){return n=ED(n),e=>Rv(e,n)}function P1(n,e){return CD(n,(t,i,s,r)=>{const o=e?.(t,i,s,r);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case Pm:case sf:case Mm:{const a=new n.constructor(n?.valueOf());return rh(a,n),a}case rf:{const a={};return rh(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function Nr(n){return P1(n)}const PD=/^(?:0|[1-9]\d*)$/;function DA(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return PD.test(n)}}function Py(n){return n!==null&&typeof n=="object"&&nf(n)==="[object Arguments]"}function MD(n,e){let t;if(Array.isArray(e)?t=e:typeof e=="string"&&LA(e)&&n?.[e]==null?t=Lv(e):t=[e],t.length===0)return!1;let i=n;for(let s=0;s<t.length;s++){const r=t[s];if((i==null||!Object.hasOwn(i,r))&&!((Array.isArray(i)||Py(i))&&DA(r)&&r<i.length))return!1;i=i[r]}return!0}function OD(n,e){switch(typeof n){case"object":{Object.is(n?.valueOf(),-0)&&(n="-0");break}case"number":{n=Ov(n);break}}return e=Nr(e),function(t){const i=lu(t,n);return i===void 0?MD(t,n):e===void 0?i===void 0:Rv(i,e)}}function LD(n){if(n==null)return OA;switch(typeof n){case"function":return n;case"object":return Array.isArray(n)&&n.length===2?OD(n[0],n[1]):TD(n);case"string":case"symbol":case"number":return bD(n)}}function My(n){return typeof n=="object"&&n!==null}function jA(n){return typeof n=="symbol"||n instanceof Symbol}function RD(n){return jA(n)?NaN:Number(n)}function DD(n){return n?(n=RD(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function jD(n){const e=DD(n),t=e%1;return t?e-t:e}function p4(n){return typeof n=="string"||n instanceof String}const FD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BD=/^\w*$/;function ID(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||jA(n)?!0:typeof n=="string"&&(BD.test(n)||!FD.test(n))||e!=null&&Object.hasOwn(e,n)}function zD(n){return Array.isArray(n)}const VD=(n,e,t)=>{const i=n[e];(!(Object.hasOwn(n,e)&&am(i,t))||t===void 0&&!(e in n))&&(n[e]=t)};function UD(n,e,t,i){if(n==null&&!Co(n))return n;const s=ID(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?Lv(e):[e];let r=n;for(let o=0;o<s.length&&r!=null;o++){const a=Ov(s[o]);if(om(a))continue;let c;if(o===s.length-1)c=t(r[a]);else{const h=r[a],f=i?.(h,a,n);c=f!==void 0?f:Co(h)?h:DA(s[o+1])?[]:{}}VD(r,a,c),r=r[a]}return n}function FA(n,e,t){return UD(n,e,()=>t,()=>{})}function qD(n,e,{signal:t,edges:i}={}){let s,r=null;const o=i!=null&&i.includes("leading"),a=i==null||i.includes("trailing"),c=()=>{r!==null&&(n.apply(s,r),s=void 0,r=null)},h=()=>{a&&c(),y()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},e)},v=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{v(),s=void 0,r=null},k=()=>{v(),c()},A=function(...N){if(t?.aborted)return;s=this,r=N;const E=f==null;p(),o&&E&&c()};return A.schedule=p,A.cancel=y,A.flush=k,t?.addEventListener("abort",y,{once:!0}),A}function ph(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:i=!1,trailing:s=!0,maxWait:r}=t,o=Array(2);i&&(o[0]="leading"),s&&(o[1]="trailing");let a,c=null;const h=qD(function(...v){a=n.apply(this,v),c=null},e,{edges:o}),f=function(...v){return r!=null&&(c===null&&(c=Date.now()),Date.now()-c>=r)?(a=n.apply(this,v),c=Date.now(),h.cancel(),h.schedule(),a):(h.apply(this,v),a)},p=()=>(h.flush(),a);return f.cancel=h.cancel,f.flush=p,f}function G0(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:i=!0,trailing:s=!0}=t;return ph(n,e,{leading:i,trailing:s,maxWait:e})}function b4(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function BA(n,e,t){return Ag(n,e,void 0,void 0,void 0,void 0,t)}function Ag(n,e,t,i,s,r,o){const a=o(n,e,t,i,s,r);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return jg(n,e,r,o)}return jg(n,e,r,o)}function jg(n,e,t,i){if(Object.is(n,e))return!0;let s=nf(n),r=nf(e);if(s===rf&&(s=Dg),r===rf&&(r=Dg),s!==r)return!1;switch(s){case sf:return n.toString()===e.toString();case Pm:{const c=n.valueOf(),h=e.valueOf();return am(c,h)}case Mm:case A1:case k1:return Object.is(n.valueOf(),e.valueOf());case S1:return n.source===e.source&&n.flags===e.flags;case _D:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(s){case C1:{if(n.size!==e.size)return!1;for(const[c,h]of n.entries())if(!e.has(c)||!Ag(h,e.get(c),c,n,e,t,i))return!1;return!0}case N1:{if(n.size!==e.size)return!1;const c=Array.from(n.values()),h=Array.from(e.values());for(let f=0;f<c.length;f++){const p=c[f],v=h.findIndex(y=>Ag(p,y,void 0,n,e,t,i));if(v===-1)return!1;h.splice(v,1)}return!0}case Dv:case jv:case Fv:case Bv:case Iv:case kD:case zv:case Vv:case Uv:case AD:case qv:case Hv:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let c=0;c<n.length;c++)if(!Ag(n[c],e[c],c,n,e,t,i))return!1;return!0}case E1:return n.byteLength!==e.byteLength?!1:jg(new Uint8Array(n),new Uint8Array(e),t,i);case T1:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:jg(new Uint8Array(n),new Uint8Array(e),t,i);case SD:return n.name===e.name&&n.message===e.message;case Dg:{if(!(jg(n.constructor,e.constructor,t,i)||b4(n)&&b4(e)))return!1;const h=[...Object.keys(n),...W0(n)],f=[...Object.keys(e),...W0(e)];if(h.length!==f.length)return!1;for(let p=0;p<h.length;p++){const v=h[p],y=n[v];if(!Object.hasOwn(e,v))return!1;const k=e[v];if(!Ag(y,k,v,n,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function IA(){}function y4(n,e){return BA(n,e,IA)}function HD(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function WD(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function Gv(n){return Wv(n)}function GD(n,e){if(n=jD(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let i=0;i<n;i++)t[i]=typeof e=="function"?e(i):i;return t}function $D(n){if(n==null)return[];switch(typeof n){case"object":case"function":return mD(n)?YD(n):WD(n)?KD(n):$0(n);default:return $0(Object(n))}}function $0(n){const e=[];for(const t in n)e.push(t);return e}function KD(n){return $0(n).filter(t=>t!=="constructor")}function YD(n){const e=GD(n.length,i=>`${i}`),t=new Set(e);return HD(n)&&(t.add("offset"),t.add("parent")),Gv(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...$0(n).filter(i=>!t.has(i))]}function XD(n,...e){for(let t=0;t<e.length;t++)JD(n,e[t]);return n}function JD(n,e){const t=$D(e);for(let i=0;i<t.length;i++){const s=t[i];(!(s in n)||!am(n[s],e[s]))&&(n[s]=e[s])}}function QD(n){if(Tm(n))return n;const e=nf(n);if(!ZD(n))return{};if(zD(n)){const i=Array.from(n);return n.length>0&&typeof n[0]=="string"&&Object.hasOwn(n,"index")&&(i.index=n.index,i.input=n.input),i}if(Gv(n)){const i=n,s=i.constructor;return new s(i.buffer,i.byteOffset,i.length)}if(e===E1)return new ArrayBuffer(n.byteLength);if(e===T1){const i=n,s=i.buffer,r=i.byteOffset,o=i.byteLength,a=new ArrayBuffer(o),c=new Uint8Array(s,r,o);return new Uint8Array(a).set(c),new DataView(a)}if(e===Mm||e===Pm||e===sf){const i=n.constructor,s=new i(n.valueOf());return e===sf?tj(s,n):gb(s,n),s}if(e===A1)return new Date(Number(n));if(e===S1){const i=n,s=new RegExp(i.source,i.flags);return s.lastIndex=i.lastIndex,s}if(e===k1)return Object(Symbol.prototype.valueOf.call(n));if(e===C1){const i=n,s=new Map;return i.forEach((r,o)=>{s.set(o,r)}),s}if(e===N1){const i=n,s=new Set;return i.forEach(r=>{s.add(r)}),s}if(e===rf){const i=n,s={};return gb(s,i),s.length=i.length,s[Symbol.iterator]=i[Symbol.iterator],s}const t={};return nj(t,n),gb(t,n),ej(t,n),t}function ZD(n){switch(nf(n)){case rf:case Dv:case E1:case T1:case Mm:case A1:case qv:case Hv:case zv:case Vv:case Uv:case C1:case Pm:case Dg:case S1:case N1:case sf:case k1:case jv:case Fv:case Bv:case Iv:return!0;default:return!1}}function gb(n,e){for(const t in e)Object.hasOwn(e,t)&&(n[t]=e[t])}function ej(n,e){const t=Object.getOwnPropertySymbols(e);for(let i=0;i<t.length;i++){const s=t[i];Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}}function tj(n,e){const t=e.valueOf().length;for(const i in e)Object.hasOwn(e,i)&&(Number.isNaN(Number(i))||Number(i)>=t)&&(n[i]=e[i])}function nj(n,e){const t=Object.getPrototypeOf(e);t!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(n,t)}function Ul(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function ij(n,e){const t={},i=Object.keys(n);for(let s=0;s<i.length;s++){const r=i[s],o=n[r];t[r]=e(o,r,n)}return t}function sj(n,e=OA){return n==null?{}:ij(n,LD(e))}function rj(n){if(Tm(n))return n;if(Array.isArray(n)||Wv(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const i=new t(n);return i.lastIndex=n.lastIndex,i}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const i=new t(n.message);return i.stack=n.stack,i.name=n.name,i.cause=n.cause,i}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const i=Object.create(e);return Object.assign(i,n)}return n}function oj(n,...e){const t=e.slice(0,-1),i=e[e.length-1];let s=n;for(let r=0;r<t.length;r++){const o=t[r];s=x0(s,o,i,new Map)}return s}function x0(n,e,t,i){if(Tm(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(i.has(e))return rj(i.get(e));if(i.set(e,n),Array.isArray(e)){e=e.slice();for(let r=0;r<e.length;r++)e[r]=e[r]??void 0}const s=[...Object.keys(e),...W0(e)];for(let r=0;r<s.length;r++){const o=s[r];if(om(o))continue;let a=e[o],c=n[o];if(Py(a)&&(a={...a}),Py(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Nr(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const f=[],p=Reflect.ownKeys(c);for(let v=0;v<p.length;v++){const y=p[v];f[y]=c[y]}c=f}else c=[];const h=t(c,a,o,n,e,i);h!=null?n[o]=h:Array.isArray(a)||My(c)&&My(a)?n[o]=x0(c,a,t,i):c==null&&Ul(a)?n[o]=x0({},a,t,i):c==null&&Gv(a)?n[o]=Nr(a):(c===void 0||a!==void 0)&&(n[o]=a)}return n}function $v(n,...e){return oj(n,...e,IA)}function K0(n){return typeof n=="function"}function cu(n){return My(n)&&n.nodeType===1&&!Ul(n)}function v4(n,e){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let t=0;return(...i)=>{if(++t>=n)return e(...i)}}function Oy(n,e,t){return typeof t!="function"&&(t=()=>{}),BA(n,e,(...i)=>{const s=t(...i);if(s!==void 0)return!!s;if(n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set)return Oy(Array.from(n),Array.from(e),v4(2,t))})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let it;try{it={window,document}}catch{/* istanbul ignore next -- @preserve */it={window:{},document:{}}}function aj(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Ju=aj(),Et={isMac:zA(Ju),isWindows:lj(Ju),isGecko:cj(Ju),isSafari:uj(Ju),isiOS:hj(Ju),isAndroid:dj(Ju),isBlink:fj(Ju)};function zA(n){return n.indexOf("macintosh")>-1}function lj(n){return n.indexOf("windows")>-1}function cj(n){return!!n.match(/gecko\/\d+/)}function uj(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function hj(n){return!!n.match(/iphone|ipad/i)||zA(n)&&navigator.maxTouchPoints>0}function dj(n){return n.indexOf("android")>-1}function fj(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function VA(n,e,t,i){t=t||function(c,h){return c===h};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=gj(s,r,t);return i?pj(o,r.length):mj(r,o)}function gj(n,e,t){const i=x4(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=w4(n,i),r=w4(e,i),o=x4(s,r,t),a=n.length-o,c=e.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:c}}function x4(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function w4(n,e){return n.slice(e).reverse()}function mj(n,e){const t=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=e;return r-i>0&&t.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&t.push({index:i+(r-i),type:"delete",howMany:s-i}),t}function pj(n,e){const{firstIndex:t,lastIndexOld:i,lastIndexNew:s}=n;if(t===-1)return Array(e).fill("equal");let r=[];return t>0&&(r=r.concat(Array(t).fill("equal"))),s-t>0&&(r=r.concat(Array(s-t).fill("insert"))),i-t>0&&(r=r.concat(Array(i-t).fill("delete"))),s<e&&(r=r.concat(Array(e-s).fill("equal"))),r}function Fg(n,e,t){t=t||function(A,N){return A===N};const i=n.length,s=e.length;if(i>200||s>200||i+s>300)return Fg.fastDiff(n,e,t,!0);let r,o;if(s<i){const A=n;n=e,e=A,r="delete",o="insert"}else r="insert",o="delete";const a=n.length,c=e.length,h=c-a,f={},p={};function v(A){const N=(p[A-1]!==void 0?p[A-1]:-1)+1,E=p[A+1]!==void 0?p[A+1]:-1,D=N>E?-1:1;f[A+D]&&(f[A]=f[A+D].slice(0)),f[A]||(f[A]=[]),f[A].push(N>E?r:o);let U=Math.max(N,E),V=U-A;for(;V<a&&U<c&&t(n[V],e[U]);)V++,U++,f[A].push("equal");return U}let y=0,k;do{for(k=-y;k<h;k++)p[k]=v(k);for(k=h+y;k>h;k--)p[k]=v(k);p[h]=v(h),y++}while(p[h]!==c);return f[h].slice(1)}Fg.fastDiff=VA;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _4(){return function n(){n.called=!0}}class Zl{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=_4(),this.off=_4()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const zs=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function ha(){const[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+zs[n>>0&255]+zs[n>>8&255]+zs[n>>16&255]+zs[n>>24&255]+zs[e>>0&255]+zs[e>>8&255]+zs[e>>16&255]+zs[e>>24&255]+zs[t>>0&255]+zs[t>>8&255]+zs[t>>16&255]+zs[t>>24&255]+zs[i>>0&255]+zs[i>>8&255]+zs[i>>16&255]+zs[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hh={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function bj(n,e){const t=hh.get(e.priority);let i=0,s=n.length;for(;i<s;){const r=i+s>>1;hh.get(n[r].priority)<t?s=r:i=r+1}n.splice(i,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const yj="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class fe extends Error{context;data;constructor(e,t,i,s){super(xj(e,i,s)),this.name="CKEditorError",this.context=t,this.data=i,s&&(this.stack=s.stack)}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){throw e.is&&e.is("CKEditorError")?e:new fe("unexpected-error",t,void 0,e)}}function Mi(n,e){console.warn(...qA(n,e))}function vj(n,e){console.error(...qA(n,e))}function UA(n){return`
Read more: ${yj}#error-${n}`}function xj(n,e,t){const i=new WeakSet,r=e?` ${JSON.stringify(e,(c,h)=>{if(typeof h=="object"&&h!==null){if(i.has(h))return`[object ${h.constructor.name}]`;i.add(h)}return h})}`:"",o=UA(n),a=t?`
Original error: ${t.name}: ${t.message}`:"";return n+r+o+a}function qA(n,e){const t=UA(n);return e?[n,e,t]:[n,t]}const wj="46.1.0",_j=new Date(2025,8,10);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new fe("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=wj;const Ld=Symbol("listeningTo"),Ly=Symbol("emitterId"),Ll=Symbol("delegations"),Sj=Gn(Object);function Gn(n){if(!n)return Sj;class e extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const a=(c,...h)=>{o||(o=!0,c.off(),s.call(this,c,...h))};this.listenTo(this,i,a,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let a,c;this[Ld]||(this[Ld]={});const h=this[Ld];mb(i)||HA(i);const f=mb(i);(a=h[f])||(a=h[f]={emitter:i,callbacks:{}}),(c=a.callbacks[s])||(c=a.callbacks[s]=[]),c.push(r),Ej(this,i,s,r,o)}stopListening(i,s,r){const o=this[Ld];let a=i&&mb(i);const c=o&&a?o[a]:void 0,h=c&&s?c.callbacks[s]:void 0;if(!(!o||i&&!c||s&&!h))if(r)pb(this,i,s,r),h.indexOf(r)!==-1&&(h.length===1?delete c.callbacks[s]:pb(this,i,s,r));else if(h){for(;r=h.pop();)pb(this,i,s,r);delete c.callbacks[s]}else if(c){for(s in c.callbacks)this.stopListening(i,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Ld]}}fire(i,...s){try{const r=i instanceof Zl?i:new Zl(this,i),o=r.name;let a=Nj(this,o);if(r.path.push(this),a){a=a.slice();for(let h=0;h<a.length;h++){const f=a[h].callback;if(f.call(this,r,...s),r.off.called&&(delete r.off.called,this._removeEventListener(o,f)),r.stop.called)break}}const c=this[Ll];if(c){const h=c.get(o),f=c.get("*");h&&S4(h,r,s),f&&S4(f,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[Ll]||(this[Ll]=new Map),i.forEach(o=>{const a=this[Ll].get(o);a?a.set(s,r):this[Ll].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[Ll])if(!i)this[Ll].clear();else if(!s)this[Ll].delete(i);else{const r=this[Ll].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){Cj(this,i);const o=Ry(this,i),a=hh.get(r.priority),c={callback:s,priority:a};for(const h of o)bj(h,c)}_removeEventListener(i,s){const r=Ry(this,i);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return e}function kj(n,e){const t=n[Ld];return t&&t[e]?t[e].emitter:null}function HA(n,e){n[Ly]||(n[Ly]=e||ha())}function mb(n){return n[Ly]}function WA(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function Aj(){return{callbacks:[],childEvents:[]}}function Cj(n,e){const t=WA(n);if(t[e])return;let i=e,s=null;const r=[];for(;i!==""&&!t[i];)t[i]=Aj(),r.push(t[i]),s&&t[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=t[i].callbacks.slice();t[i].childEvents.push(s)}}function Ry(n,e){const t=WA(n)[e];if(!t)return[];let i=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const r=Ry(n,t.childEvents[s]);i=i.concat(r)}return i}function Nj(n,e){if(!n._events)return null;let t=e;do{const i=n._events[t];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const s=t.lastIndexOf(":");t=s>-1?t.substring(0,s):""}while(t);return null}function S4(n,e,t){for(let[i,s]of n){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const r=new Zl(e.source,s);r.path=[...e.path],i.fire(r,...t)}}function Ej(n,e,t,i,s){e._addEventListener?e._addEventListener(t,i,s):n._addEventListener.call(e,t,i,s)}function pb(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}const Bg=Symbol("observableProperties"),lm=Symbol("boundObservables"),Ig=Symbol("boundProperties"),Qu=Symbol("decoratedMethods"),k4=Symbol("decoratedOriginal"),Tj=ss(Gn());function ss(n){if(!n)return Tj;class e extends n{set(i,s){if(Co(i)){Object.keys(i).forEach(o=>{this.set(o,i[o])},this);return}bb(this);const r=this[Bg];if(i in this&&!r.has(i))throw new fe("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return r.get(i)},set(o){const a=r.get(i);let c=this.fire(`set:${i}`,i,o,a);c===void 0&&(c=o),(a!==c||!r.has(i))&&(r.set(i,c),this.fire(`change:${i}`,i,c,a))}}),this[i]=s}bind(...i){if(!i.length||!A4(i))throw new fe("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new fe("observable-bind-duplicate-properties",this);bb(this);const s=this[Ig];i.forEach(o=>{if(s.has(o))throw new fe("observable-bind-rebind",this)});const r=new Map;return i.forEach(o=>{const a={property:o,to:[]};s.set(o,a),r.set(o,a)}),{to:Pj,toMany:Mj,_observable:this,_bindProperties:i,_to:[],_bindings:r}}unbind(...i){if(!this[Bg])return;const s=this[Ig],r=this[lm];if(i.length){if(!A4(i))throw new fe("observable-unbind-wrong-properties",this);i.forEach(o=>{const a=s.get(o);a&&(a.to.forEach(([c,h])=>{const f=r.get(c),p=f[h];p.delete(a),p.size||delete f[h],Object.keys(f).length||(r.delete(c),this.stopListening(c,"change"))}),s.delete(o))})}else r.forEach((o,a)=>{this.stopListening(a,"change")}),r.clear(),s.clear()}decorate(i){bb(this);const s=this[i];if(!s)throw new fe("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(r,o)=>{r.return=s.apply(this,o)}),this[i]=function(...r){return this.fire(i,r)},this[i][k4]=s,this[Qu]||(this[Qu]=[]),this[Qu].push(i)}stopListening(i,s,r){if(!i&&this[Qu]){for(const o of this[Qu])this[o]=this[o][k4];delete this[Qu]}super.stopListening(i,s,r)}[Bg];[Qu];[Ig];[lm]}return e}function bb(n){n[Bg]||(Object.defineProperty(n,Bg,{value:new Map}),Object.defineProperty(n,lm,{value:new Map}),Object.defineProperty(n,Ig,{value:new Map}))}function Pj(...n){const e=Lj(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new fe("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new fe("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new fe("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),jj(this._observable,this._to),Dj(this),this._bindProperties.forEach(s=>{GA(this._observable,s)})}function Mj(n,e,t){if(this._bindings.size>1)throw new fe("observable-bind-to-many-not-one-binding",this);this.to(...Oj(n,e),t)}function Oj(n,e){const t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function A4(n){return n.every(e=>typeof e=="string")}function Lj(...n){if(!n.length)throw new fe("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new fe("observable-bind-to-parse-error",null)}),e}function Rj(n,e,t,i){const s=n[lm],r=s.get(t),o=r||{};o[i]||(o[i]=new Set),o[i].add(e),r||s.set(t,o)}function Dj(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(s=>{e=s.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([s.observable,e]),Rj(n._observable,t,s.observable,e)})})}function GA(n,e){const i=n[Ig].get(e);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=s:n.set(e,s)}function jj(n,e){e.forEach(t=>{const i=n[lm];let s;i.get(t.observable)||n.listenTo(t.observable,"change",(r,o)=>{s=i.get(t.observable)[o],s&&s.forEach(a=>{GA(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Fj{_replacedElements;constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dy(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cr(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qr(n){return!!(n&&n[Symbol.iterator])}function ra(n,e,t={},i=[]){const s=t&&t.xmlns,r=s?n.createElementNS(s,e):n.createElement(e);for(const o in t)r.setAttribute(o,t[o]);(p4(i)||!Qr(i))&&(i=[i]);for(let o of i)p4(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}class $A{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(C4(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,s=!1){if(Ul(t)){this._setObjectToTarget(e,t,s);return}const r=t.split(".");t=r.pop();for(const o of r)Ul(e[o])||(e[o]=Object.create(null)),e=e[o];if(Ul(i)){Ul(e[t])||(e[t]=Object.create(null)),e=e[t],this._setObjectToTarget(e,i,s);return}s&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const s of i){if(!Ul(e[s])){e=null;break}e=e[s]}return e?C4(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],i)})}}function C4(n){return P1(n,Bj)}function Bj(n){return cu(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uu(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Y0(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}const Ij=da(Gn());function da(n){if(!n)return Ij;class e extends n{listenTo(i,s,r,o={}){if(uu(i)||Y0(i)||i instanceof it.window.EventTarget){const a={capture:!!o.useCapture,passive:!!o.usePassive},c=this._getProxyEmitter(i,a)||new zj(i,a);this.listenTo(c,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(uu(i)||Y0(i)||i instanceof it.window.EventTarget){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return kj(this,KA(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return e}class zj extends Gn(){_domNode;_options;constructor(e,t){super(),HA(this,KA(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),Gn().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){Gn().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Vj(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ha())}function KA(n,e){let t=Vj(n);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Uj(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qj(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function YA(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function XA(n){if(!n.target)return null;const e=n.target.ownerDocument,t=n.clientX,i=n.clientY;let s=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(t,i)?s=e.caretRangeFromPoint(t,i):n.rangeParent&&(s=e.createRange(),s.setStart(n.rangeParent,n.rangeOffset),s.collapse(!0)),s}function JA(n){return!n||!n.parentNode||n.offsetParent===it.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function di(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function M1(n){return Object.prototype.toString.apply(n)=="[object Range]"}const QA=["top","right","bottom","left","width","height"];class nn{top;right;bottom;left;width;height;_source;constructor(e){const t=M1(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),jy(e)||t)if(t){const i=nn.getDomRangeRects(e);Qp(this,nn.getBoundingRect(i))}else Qp(this,e.getBoundingClientRect());else if(Y0(e)){const{innerWidth:i,innerHeight:s}=e;Qp(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else Qp(this,e)}clone(){return new nn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const i=new nn(t);return i._source=this._source,i}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(N4(e))return t;let i=e,s=e.parentNode||e.commonAncestorContainer,r;for(;s&&!N4(s);){const o=Hj(s)==="visible";i instanceof HTMLElement&&E4(i)==="absolute"&&(r=i);const a=E4(s);if(o||r&&(a==="relative"&&o||a!=="relative")){i=s,s=s.parentNode;continue}const c=new nn(s),h=t.getIntersection(c);if(h)h.getArea()<t.getArea()&&(t=h);else return null;i=s,s=s.parentNode}return t}isEqual(e){for(const t of QA)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=it.window,i=this.clone().moveBy(e,t);if(jy(i._source)){const s=JA(i._source);s&&Wj(i,s)}return i}excludeScrollbarsAndBorders(){const e=this._source;let t,i,s;if(Y0(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const r=YA(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,i=e.offsetHeight-e.clientHeight-r.top-r.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const s of i)t.push(new nn(s));else{let s=e.startContainer;di(s)&&(s=s.parentNode);const r=new nn(s.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of e)i++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new nn(t))}}function Qp(n,e){for(const t of QA)n[t]=e[t]}function N4(n){return jy(n)?n===n.ownerDocument.body:!1}function jy(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function E4(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function Hj(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function Wj(n,e){const t=new nn(e),i=YA(e);let s=0,r=0;s-=t.left,r-=t.top,s+=e.scrollLeft,r+=e.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}let Kv=class zi{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){zi._observerInstance||zi._createObserver(),this._element=e,this._callback=t,zi._addElementCallback(e,t),zi._observerInstance.observe(e)}get element(){return this._element}destroy(){zi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){zi._elementCallbacks||(zi._elementCallbacks=new Map);let i=zi._elementCallbacks.get(e);i||(i=new Set,zi._elementCallbacks.set(e,i)),i.add(t)}static _deleteElementCallback(e,t){const i=zi._getElementCallbacks(e);i&&(i.delete(t),i.size||(zi._elementCallbacks.delete(e),zi._observerInstance.unobserve(e))),zi._elementCallbacks&&!zi._elementCallbacks.size&&(zi._observerInstance=null,zi._elementCallbacks=null)}static _getElementCallbacks(e){return zi._elementCallbacks?zi._elementCallbacks.get(e):null}static _createObserver(){zi._observerInstance=new it.window.ResizeObserver(e=>{for(const t of e){const i=zi._getElementCallbacks(t.target);if(i)for(const s of i)s(t)}})}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function T4(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function O1(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Bd(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ZA(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zg(n){return n&&n.nodeType===Node.COMMENT_NODE}function Gj(n){try{it.document.createAttribute(n)}catch{return!1}return!0}function ec(n){return n?di(n)?ec(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function Yv({element:n,target:e,positions:t,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){K0(e)&&(e=e()),K0(i)&&(i=i());const o=JA(n),a=$j(r),c=new nn(n),h=P4(e,a);let f;if(!h||!a.getIntersection(h))return null;const p={targetRect:h,elementRect:c,positionedElementAncestor:o,viewportRect:a};if(!i&&!s)f=new e8(t[0],p);else{if(i){const v=P4(i,a);v&&(p.limiterRect=v)}f=Kj(t,p)}return f}function P4(n,e){const t=new nn(n).getVisible();return t?t.getIntersection(e):null}function $j(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new nn(it.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function Kj(n,e){const{elementRect:t}=e,i=t.getArea(),s=n.map(a=>new e8(a,e)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:c,viewportIntersectionArea:h}=a;if(c===i)return a;const f=h**2+c**2;f>r&&(r=f,o=a)}return o}class e8{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;const{left:s,top:r,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:s,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function M4(n){const e=n.parentNode;e&&e.removeChild(n)}function w0(){const n=it.window.visualViewport;if(!n||!(Et.isiOS||Et.isSafari))return{left:0,top:0};const e=Math.max(Math.round(n.offsetLeft),0),t=Math.max(Math.round(n.offsetTop),0);return{left:e,top:t}}function Yj({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:s}){const r=Xv(n);let o=r,a=null;for(e=Qj(e);o;){let c;o==r?c=O4(n):c=O4(a),Jj({parent:c,getRect:()=>yb(n,o),alignToTop:i,ancestorOffset:t,forceScroll:s});let h=yb(n,o);const f=yb(c,o);if(h.height>f.height){const p=h.getIntersection(f);p&&(h=p)}if(Xj({window:o,rect:h,viewportOffset:e,alignToTop:i,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function Xj({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:s}){const r=e.clone().moveBy(0,s.bottom),o=e.clone().moveBy(0,-s.top),a=new nn(n).excludeScrollbarsAndBorders(),c=[o,r],h=t&&i,f=c.every(A=>a.contains(A));let{scrollX:p,scrollY:v}=n;const y=p,k=v;h?v-=a.top-e.top+s.top:f||(n8(o,a)?v-=a.top-e.top+s.top:t8(r,a)&&(t?v+=e.top-a.top-s.top:v+=e.bottom-a.bottom+s.bottom)),f||(i8(e,a)?p-=a.left-e.left+s.left:s8(e,a)&&(p+=e.right-a.right+s.right)),(p!=y||v!==k)&&n.scrollTo(p,v)}function Jj({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:s=0,limiterElement:r}){const o=Xv(n),a=t&&i;let c,h,f;const p=r||o.document.body;for(;n!=p;)h=e(),c=new nn(n).excludeScrollbarsAndBorders(),f=c.contains(h),a?n.scrollTop-=c.top-h.top+s:f||(n8(h,c)?n.scrollTop-=c.top-h.top+s:t8(h,c)&&(t?n.scrollTop+=h.top-c.top-s:n.scrollTop+=h.bottom-c.bottom+s)),f||(i8(h,c)?n.scrollLeft-=c.left-h.left+s:s8(h,c)&&(n.scrollLeft+=h.right-c.right+s)),n=n.parentNode}function t8(n,e){return n.bottom>e.bottom}function n8(n,e){return n.top<e.top}function i8(n,e){return n.left<e.left}function s8(n,e){return n.right>e.right}function Xv(n){return M1(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function O4(n){if(M1(n)){let e=n.commonAncestorContainer;return di(e)&&(e=e.parentNode),e}else return n.parentNode}function yb(n,e){const t=Xv(n),i=new nn(n);if(t===e)return i;{let s=t;for(;s!=e;){const r=s.frameElement,o=new nn(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}function Qj(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const Zj={ctrl:"",cmd:"",alt:"",shift:""},eF={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},L4={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},on=rF(),tF=Object.fromEntries(Object.entries(on).map(([n,e])=>{let t;return e in L4?t=L4[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function of(n){let e;if(typeof n=="string"){if(e=on[n.toLowerCase()],!e)throw new fe("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?on.alt:0)+(n.ctrlKey?on.ctrl:0)+(n.shiftKey?on.shift:0)+(n.metaKey?on.cmd:0);return e}function Jv(n){return typeof n=="string"&&(n=oF(n)),n.map(e=>typeof e=="string"?iF(e):e).reduce((e,t)=>t+e,0)}function X0(n,e){let t=Jv(n);const i=Et.isMac||Et.isiOS;return Object.entries(i?Zj:eF).reduce((o,[a,c])=>((t&on[a])!=0&&(t&=~on[a],o+=c),o),"")+(t?tF[t]:"")}function nF(n){return n==on.arrowright||n==on.arrowleft||n==on.arrowup||n==on.arrowdown}function r8(n,e){const t=e==="ltr";switch(n){case on.arrowleft:return t?"left":"right";case on.arrowright:return t?"right":"left";case on.arrowup:return"up";case on.arrowdown:return"down"}}function iF(n){if(n.endsWith("!"))return of(n.slice(0,-1));const e=of(n);return(Et.isMac||Et.isiOS)&&e==on.ctrl?on.cmd:e}function sF(n,e){const t=r8(n,e);return t==="down"||t==="right"}function rF(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function oF(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const aF=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function R4(n){return aF.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zr(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */it.window.CKEDITOR_TRANSLATIONS||(it.window.CKEDITOR_TRANSLATIONS={});function lF(n,e,t=1,i){if(typeof t!="number")throw new fe("translation-service-quantity-not-a-number",null,{quantity:t});const s=i||it.window.CKEDITOR_TRANSLATIONS,r=hF(s);r===1&&(n=Object.keys(s)[0]);const o=e.id||e.string;if(r===0||!uF(n,o,s))return t!==1?e.plural:e.string;const a=s[n].dictionary,c=s[n].getPluralForm||(p=>p===1?0:1),h=a[o];if(typeof h=="string")return h;const f=Number(c(t));return h[f]}function cF(n){return Array.isArray(n)?n.reduce((e,t)=>$v(e,t)):n}function uF(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function hF(n){return Object.keys(n).length}class dF{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:i}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=R4(this.uiLanguage),this.contentLanguageDirection=R4(this.contentLanguage),this.translations=cF(i),this.t=(s,r)=>this._t(s,r)}_t(e,t=[]){t=Zr(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,r=lF(this.uiLanguage,e,s,this.translations);return fF(r,t)}}function fF(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}class ff extends Gn(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const i=Qr(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new fe("collection-add-item-invalid-index",this);let i=0;for(const s of e){const r=this._getItemIdBeforeAdding(s),o=t+i;this._items.splice(o,0,s),this._itemMap.set(r,s),this.fire("add",s,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new fe("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new fe("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(s,r,o)=>{const a=t._bindToCollection==this,c=t._bindToInternalToExternalMap.get(r);if(a&&c)this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r);else{const h=e(r);if(!h){this._skippedIndexesFromExternal.push(o);return}let f=o;for(const p of this._skippedIndexesFromExternal)o>p&&f--;for(const p of t._skippedIndexesFromExternal)f>=p&&f++;this._bindToExternalToInternalMap.set(r,h),this._bindToInternalToExternalMap.set(h,r),this.add(h,f);for(let p=0;p<t._skippedIndexesFromExternal.length;p++)f<=t._skippedIndexesFromExternal[p]&&t._skippedIndexesFromExternal[p]++}};for(const s of t)i(null,s,t.getIndex(s));this.listenTo(t,"add",i),this.listenTo(t,"remove",(s,r,o)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,h)=>(o<h&&c.push(h-1),o>h&&c.push(h),c),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new fe("collection-add-invalid-id",this);if(this.get(i))throw new fe("collection-add-item-already-exists",this)}else e[t]=i=ha();return i}_remove(e){let t,i,s,r=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,s=this._itemMap.get(i),r=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],r=!s,s&&(i=s[o])):(s=e,i=s[o],t=this._items.indexOf(s),r=t==-1||!this._itemMap.get(i)),r)throw new fe("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(a),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Om(n){const e=n.next();return e.done?null:e.value}class sc extends da(ss()){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(j4(e))this._addElement(e);else if(D4(e))this._addView(e);else{if(!e.element)throw new fe("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){j4(e)?this._removeElement(e):D4(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new fe("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const t=this.externalViews.find(i=>gF(e,i));t?this._focus(t.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(i=>i.contains(document.activeElement))||this.externalViews.find(i=>i.focusTracker.isFocused&&!i.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function D4(n){return"focusTracker"in n&&n.focusTracker instanceof sc}function j4(n){return cu(n)}function gF(n,e){return F4(n,e)?!0:!!e.focusTracker.externalViews.find(t=>F4(n,t))}function F4(n,e){return!!e.element&&e.element.contains(document.activeElement)&&n.contains(e.element)}class gu{_listener;constructor(){this._listener=new(da())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+of(i),i)})}set(e,t,i={}){const s=Jv(e),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{i.filter&&!i.filter(a)||(t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:r})}press(e){return!!this._listener.fire("_keydown:"+of(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mF(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}function bh(n){return Qr(n)?new Map(n):mF(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B4(n,e,t){const i=n.length,s=e.length;for(let r=i-1;r>=t;r--)n[r+s]=n[r];for(let r=0;r<s;r++)n[t+r]=e[r]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Qv(n,e){let t;function i(...s){i.cancel(),t=setTimeout(()=>n(...s),e)}return i.cancel=()=>{clearTimeout(t)},i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zv(n){try{if(!n.startsWith("ey"))return null;const e=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pF(){const n=[];for(let e=0;e<256;e++){let t=e;for(let i=0;i<8;i++)t&1?t=3988292384^t>>>1:t=t>>>1;n[e]=t}return n}function bF(n){const e=Array.isArray(n)?n:[n],t=pF();let i=-1;const s=e.map(r=>Array.isArray(r)?r.join(""):String(r)).join("");for(let r=0;r<s.length;r++){const o=s.charCodeAt(r);i=i>>>8^t[(i^o)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yF(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function vF(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function xF(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function e5(n,e){return vF(n.charAt(e-1))&&xF(n.charAt(e))}function t5(n,e){return yF(n.charAt(e))}const wF=_F();function o8(n,e){const t=String(n).matchAll(wF);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function _F(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(s=>s.source).join("|")+")",i=`${e}|${t}(?:${t})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hg=new WeakMap;let I4=!1;function SF({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;hg.has(r)||(hg.set(r,new Map),r.registerPostFixer(a=>vb(hg.get(r),a)),r.on("change:isComposing",()=>{n.change(a=>vb(hg.get(r),a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,c,h)=>o(h)),e.placeholder?o(e.placeholder):t&&o(t),t&&TF();function o(a){const c={text:a,isDirectHost:i,keepOnFocus:s,hostElement:i?e:null};hg.get(r).set(e,c),n.change(h=>vb([[e,c]],h))}}function kF(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function AF(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function CF(n,e){if(!n.isAttached()||NF(n))return!1;const t=n.document,s=t.selection.anchor;return t.isComposing&&s&&s.parent===n?!1:e||!t.isFocused?!0:!!s&&s.parent!==n}function NF(n){for(const e of n.getChildren())if(!e.is("uiElement"))return!0;return!1}function vb(n,e){const t=[];let i=!1;for(const[s,r]of n)r.isDirectHost&&(t.push(s),z4(e,s,r)&&(i=!0));for(const[s,r]of n){if(r.isDirectHost)continue;const o=EF(s);o&&(t.includes(o)||(r.hostElement=o,z4(e,s,r)&&(i=!0)))}return i}function z4(n,e,t){const{text:i,isDirectHost:s,hostElement:r}=t;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||e.childCount==1)&&CF(r,t.keepOnFocus)?kF(n,r)&&(o=!0):AF(n,r)&&(o=!0),o}function EF(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function TF(){I4||Mi("enableViewPlaceholder-deprecated-text-option"),I4=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class kh{is(){throw new Error("is() method is abstract")}}class Ah extends Gn(kh){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new fe("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=cr(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t,i){this.fire(`change:${e}`,t,i),this.parent&&this.parent._fireChange(e,t,i)}toJSON(){const e={path:this.getPath(),type:"Node"};return this!==this.root&&this.root.is("rootElement")&&(e.root=this.root.toJSON()),e}}Ah.prototype.is=function(n){return n==="node"||n==="view:node"};class os extends Ah{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof os?this===e||this.data===e.data:!1}toJSON(){const e=super.toJSON();return e.type="Text",e.data=this.data,e}_clone(){return new os(this.document,this.data)}}os.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class zl extends kh{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new fe("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new fe("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}zl.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class J0{_consumables=new Map;add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new PF(e),this._consumables.set(e,i)),i.add(t?Cg(t):e._getConsumables())}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(Cg(t))}consume(e,t){if(e.is("$text")||e.is("documentFragment"))return this.test(e,t)?(this._consumables.set(e,!1),!0):!1;const i=this._consumables.get(e);return i===void 0?!1:i.consume(Cg(t))}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(Cg(t)))}static createFrom(e,t){if(t||(t=new J0),e.is("$text"))t.add(e);else if(e.is("element")||e.is("documentFragment")){t.add(e);for(const i of e.getChildren())J0.createFrom(i,t)}return t}}class PF{element;_canConsumeName=null;_attributes=new Map;constructor(e){this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[t,i]of e.attributes)if(i){let s=this._attributes.get(t);(!s||typeof s=="boolean")&&(s=new Map,this._attributes.set(t,s)),s.set(i,!0)}else{if(t=="style"||t=="class")throw new fe("viewconsumable-invalid-attribute",this);this._attributes.set(t,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[t,i]of e.attributes){const s=this._attributes.get(t);if(s===void 0)return null;if(s===!1)return!1;if(s!==!0){if(i){const r=s.get(i);if(r===void 0)return null;if(!r)return!1}else for(const r of s.values())if(!r)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[t,i]of e.attributes){const s=this._attributes.get(t);if(typeof s=="boolean")for(const[r]of this.element._getConsumables(t,i).attributes)this._attributes.set(r,!1);else if(i)for(const[,r]of this.element._getConsumables(t,i).attributes)s.set(r,!1);else for(const r of s.keys())s.set(r,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[t,i]of e.attributes){const s=this._attributes.get(t);if(s===!1){this._attributes.set(t,!0);continue}if(!(s===void 0||s===!0))if(i)s.get(i)===!1&&s.set(i,!0);else for(const r of s.keys())s.set(r,!0)}}}function Cg(n){const e=[];return"attributes"in n&&n.attributes&&xb(e,n.attributes),"classes"in n&&n.classes&&xb(e,n.classes,"class"),"styles"in n&&n.styles&&xb(e,n.styles,"style"),{name:n.name||!1,attributes:e}}function xb(n,e,t){if(typeof e=="string"){n.push(t?[t,e]:[e]);return}for(const i of e)Array.isArray(i)?n.push(i):n.push(t?[t,i]:[i])}class cm{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const s=this._isElementMatching(t,i);if(s)return{element:t,pattern:i,match:s}}return null}matchAll(...e){const t=[];for(const i of e)for(const s of this._patterns){const r=this._isElementMatching(i,s);r&&t.push({element:i,pattern:s,match:r})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}_isElementMatching(e,t){if(typeof t=="function"){const r=t(e);return!r||typeof r!="object"?r:Cg(r)}const i={};if(t.name&&(i.name=MF(t.name,e.name),!i.name))return null;const s=[];return t.attributes&&!OF(t.attributes,e,s)||t.classes&&!LF(t.classes,e,s)||t.styles&&!RF(t.styles,e,s)?null:(s.length&&(i.attributes=s),i)}}function Q0(n,e){return n===!0||n===e||n instanceof RegExp&&!!String(e).match(n)}function MF(n,e){return n instanceof RegExp?!!e.match(n):n===e}function n5(n,e){if(Array.isArray(n))return n.map(i=>typeof i!="object"||i instanceof RegExp?e?[e,i,!0]:[i,!0]:((i.key===void 0||i.value===void 0)&&Mi("matcher-pattern-missing-key-or-value",i),e?[e,i.key,i.value]:[i.key,i.value]));if(typeof n!="object"||n instanceof RegExp)return[e?[e,n,!0]:[n,!0]];const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(e?[e,i,n[i]]:[i,n[i]]);return t}function OF(n,e,t){let i;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&Mi("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&Mi("matcher-pattern-deprecated-attributes-class-key",n)):i=["class","style"],e._collectAttributesMatch(n5(n),t,i)}function LF(n,e,t){return e._collectAttributesMatch(n5(n,"class"),t)}function RF(n,e,t){return e._collectAttributesMatch(n5(n,"style"),t)}class Vg{_styles;_cachedStyleNames=null;_cachedExpandedStyleNames=null;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=jF(e);for(const[i,s]of t)this._styleProcessor.toNormalizedForm(i,s,this._styles);return this}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,t){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,Co(e))for(const[i,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t={};for(const i of Zr(e)){const s=Fy(i),r=lu(this._styles,s);if(r)_0(t,s,r);else{const o=this.getAsString(i);o!==void 0&&this._styleProcessor.toNormalizedForm(i,o,t)}}Object.keys(t).length&&(a8(this._styles,t),this._cachedStyleNames=null,this._cachedExpandedStyleNames=null)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Co(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames||=this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames||=this.getStylesEntries().map(([t])=>t),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.getStyleNames())if(!e.has(t)||e.getAsString(t)!==this.getAsString(t))return!1;return!0}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,t){const i=[];for(const s of this.getStyleNames(!0))if(Q0(e,s)){if(t===!0){i.push(s);continue}const r=this.getAsString(s);Q0(t,r)&&i.push(s)}return i.length?i:void 0}_getConsumables(e){const t=[];if(e){t.push(e);for(const i of this._styleProcessor.getRelatedStyles(e))t.push(i)}else for(const i of this.getStyleNames()){for(const s of this._styleProcessor.getRelatedStyles(i))t.push(s);t.push(i)}return t}_canMergeFrom(e){for(const t of e.getStyleNames())if(this.has(t)&&this.getAsString(t)!==e.getAsString(t))return!1;return!0}_mergeFrom(e){for(const t of e.getStyleNames())this.has(t)||this.set(t,e.getAsString(t))}_isMatching(e){for(const t of e.getStyleNames())if(!this.has(t)||this.getAsString(t)!==e.getAsString(t))return!1;return!0}}class DF{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(Co(t)){_0(i,Fy(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:r,value:o}=s(t);_0(i,r,o)}else _0(i,e,t)}getNormalized(e,t){if(!e)return $v({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return lu(t,i);const s=i(e,t);if(s)return s}return lu(t,Fy(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=new Set;for(const i of this._consumables.keys()){const s=this.getNormalized(i,e);s&&(typeof s!="object"||Object.keys(s).length)&&t.add(i)}for(const i of Object.keys(e))t.add(i);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function jF(n){let e=null,t=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":s||(s=n.substr(t,o-t),i=o+1);break;case'"':case"'":e=a;break;case";":{const c=n.substr(i,o-i);s&&r.set(s.trim(),c.trim()),s=null,t=o+1;break}}else a===e&&(e=null)}return r}function Fy(n){return n.replace("-",".")}function _0(n,e,t){let i=t;Co(t)&&(i=$v({},lu(n,e),t)),FA(n,e,i)}function a8(n,e){for(const t of Object.keys(e))n[t]!==null&&!Array.isArray(n[t])&&typeof n[t]=="object"&&typeof e[t]=="object"?(a8(n[t],e[t]),Object.keys(n[t]).length||delete n[t]):delete n[t]}class wb{_set=new Set;get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const t of e.split(/\s+/))t&&this._set.add(t);return this}set(e){for(const t of Zr(e))t&&this._set.add(t)}remove(e){for(const t of Zr(e))this._set.delete(t)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.keys())if(!e.has(t))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const t=[];if(e===!0){for(const i of this._set.keys())t.push(i);return t}if(typeof e=="string"){for(const i of e.split(/\s+/))if(this._set.has(i))t.push(i);else return;return t}for(const i of this._set.keys())i.match(e)&&t.push(i);return t.length?t:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const t of e._set.keys())this._set.has(t)||this._set.add(t)}_isMatching(e){for(const t of e._set.keys())if(!this._set.has(t))return!1;return!0}}class rc extends Ah{name;_unsafeAttributesToRender=[];_attrs;_children;_customProperties=new Map;get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}constructor(e,t,i,s){super(e),this.name=t,this._attrs=this._parseAttributes(i),this._children=[],s&&this._insertChild(0,s)}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,t]of this._attrs.entries())yield[e,String(t)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,t){return this._attrs.has(e)?t!==void 0?Sd(this.name,e)||dg(this.name,e)?this._attrs.get(e).has(t):this._attrs.get(e)===t:!0:!1}isSimilar(e){if(!(e instanceof rc))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[t,i]of this._attrs){const s=e._attrs.get(t);if(s===void 0)return!1;if(typeof i=="string"||typeof s=="string"){if(s!==i)return!1}else if(!i.isSimilar(s))return!1}return!0}hasClass(...e){for(const t of e)if(!this._classes||!this._classes.has(t))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],t=e[Symbol.iterator]();return Object.assign(e,{next:t.next.bind(t)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const t of e)if(!this._styles||!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new cm(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",t=this._styles&&String(this._styles),i=Array.from(this._attrs).filter(([s])=>s!="style"&&s!="class").map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}toJSON(){const e=super.toJSON();if(e.name=this.name,e.type="Element",this._attrs.size&&(e.attributes=Object.fromEntries(this.getAttributes())),this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this,{index:e});let i=0;const s=FF(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t,i=!0){if(this._fireChange("attributes",this),Sd(this.name,e)||dg(this.name,e)){let s=this._attrs.get(e);s||(s=Sd(this.name,e)?new Vg(this.document.stylesProcessor):new wb,this._attrs.set(e,s)),i?s.setTo(String(t)):Sd(this.name,e)?Array.isArray(t)?s.set(t[0],t[1]):s.set(t):s.set(typeof t=="string"?t.split(/\s+/):t)}else this._attrs.set(e,String(t))}_removeAttribute(e,t){if(this._fireChange("attributes",this),t!==void 0&&(Sd(this.name,e)||dg(this.name,e))){const i=this._attrs.get(e);return i?(dg(this.name,e)&&typeof t=="string"&&(t=t.split(/\s+/)),i.remove(t),i.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,t){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,t],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,t,i){for(const[s,r,o]of e){let a=!1,c=!1;for(const[h,f]of this._attrs)if(!(i&&i.includes(h)||!Q0(s,h)))if(a=!0,typeof f=="string"){if(Q0(r,f))t.push([h]),c=!0;else if(!(s instanceof RegExp))return!1}else{const p=f._getTokensMatch(r,o||!0);if(p){c=!0;for(const v of p)t.push([h,v])}else if(!(s instanceof RegExp))return!1}if(!a||!c)return!1}return!0}_getConsumables(e,t){const i=[];if(e){const s=this._attrs.get(e);if(s!==void 0)if(typeof s=="string")i.push([e]);else for(const r of s._getConsumables(t))i.push([e,r])}else for(const[s,r]of this._attrs)if(typeof r=="string")i.push([s]);else for(const o of r._getConsumables())i.push([s,o]);return{name:!e,attributes:i}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[t,i]of e._attrs){const s=this._attrs.get(t);if(s!==void 0){if(typeof s=="string"||typeof i=="string"){if(s!==i)return!1}else if(!s._canMergeFrom(i))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[t,i]of e._attrs){const s=this._attrs.get(t);s===void 0||typeof s=="string"||typeof i=="string"?this._setAttribute(t,i):s._mergeFrom(i)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[t,i]of e._attrs){const s=this._attrs.get(t);if(s===void 0)return!1;if(typeof s=="string"||typeof i=="string"){if(s!==i)return!1}else if(!s._isMatching(i))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[t,i]of e._attrs){const s=this._attrs.get(t);typeof s=="string"||typeof i=="string"?this._attrs.delete(t):(s.remove(i.keys()),s.isEmpty&&this._attrs.delete(t))}}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const t=bh(e);for(const[i,s]of t)if(s===null)t.delete(i);else if(Sd(this.name,i)){const r=s instanceof Vg?s._clone():new Vg(this.document.stylesProcessor).setTo(String(s));t.set(i,r)}else if(dg(this.name,i)){const r=s instanceof wb?s._clone():new wb().setTo(String(s));t.set(i,r)}else typeof s!="string"&&t.set(i,String(s));return t}}rc.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function FF(n,e){if(typeof e=="string")return[new os(n,e)];Qr(e)||(e=[e]);const t=[];for(const i of e)typeof i=="string"?t.push(new os(n,i)):i instanceof zl?t.push(new os(n,i.data)):t.push(i);return t}function dg(n,e){return e=="class"||n=="a"&&e=="rel"}function Sd(n,e){return e=="style"}class um extends rc{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=BF}toJSON(){const e=super.toJSON();return e.type="ContainerElement",e}}um.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function BF(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}class L1 extends ss(um){constructor(e,t,i,s){super(e,t,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",r=>r&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}toJSON(){const e=super.toJSON();return e.type="EditableElement",e.isReadOnly=this.isReadOnly,e.isFocused=this.isFocused,e}}L1.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const V4=Symbol("rootName");class l8 extends L1{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(V4)}set rootName(e){this._setCustomProperty(V4,e)}toJSON(){return this.rootName}set _name(e){this.name=e}}l8.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class lh{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new fe("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new fe("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Je._createAt(e.startPosition):this._position=Je._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i&&i.is("view:$text")){if(e.isAtEnd)return this._position=Je._createAfter(i),this._next();s=i.data[e.offset]}else s=i.getChild(e.offset);if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const o=new zl(i,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",o,t,e,r)}if(s&&s.is("view:element")){if(!this.shallow)e=new Je(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new Je(s,0),this._position=e,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new zl(s,0,r),e=Je._createAfter(o)):(o=new zl(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=Je._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i.is("view:$text")){if(e.isAtStart)return this._position=Je._createBefore(i),this._previous();s=i.data[e.offset-1]}else s=i.getChild(e.offset-1);if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-a}e.offset-=r;const o=new zl(i,e.offset,r);return this._position=e,this._formatReturnValue("text",o,t,e,r)}if(s&&s.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new Je(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s&&s.is("view:$text")){if(this.singleCharacters)return e=new Je(s,s.data.length),this._position=e,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new zl(s,a,s.data.length-a),r=o.data.length,e=Je._createBefore(o)}else o=new zl(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=Je._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,s,r){return t.is("view:$textProxy")&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Je._createAfter(t.textNode),this._position=s):i=Je._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Je._createBefore(t.textNode),this._position=s):i=Je._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:s,length:r}}}}class Je extends kh{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof L1);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Je._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new lh(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const s=cr(t,i);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<i[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new lh(e)}clone(){return new Je(this.parent,this.offset)}toJSON(){return{parent:this.parent.toJSON(),offset:this.offset}}static _createAt(e,t){if(e instanceof Je)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new fe("view-createpositionat-offset-required",i)}return new Je(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Je(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new fe("view-position-after-root",e,{root:e});return new Je(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Je(e.textNode,e.offsetInText);if(!e.parent)throw new fe("view-position-before-root",e,{root:e});return new Je(e.parent,e.index)}}Je.prototype.is=function(n){return n==="position"||n==="view:position"};class Gt extends kh{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new lh({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Zp,{direction:"backward"}),t=this.end.getLastMatchingPosition(Zp);return e.parent.is("$text")&&e.isAtStart&&(e=Je._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Je._createAfter(t.parent)),new Gt(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Zp);if(e.isAfter(this.end)||e.isEqual(this.end))return new Gt(e,e);let t=this.end.getLastMatchingPosition(Zp,{direction:"backward"});const i=e.nodeAfter,s=t.nodeBefore;return i&&i.is("$text")&&(e=new Je(i,0)),s&&s.is("$text")&&(t=new Je(s,s.data.length)),new Gt(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Gt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Gt(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Gt(t,i)}return null}getWalker(e={}){return e.boundaries=this,new lh(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Gt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new lh(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new lh(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}static _createFromParentsAndOffsets(e,t,i,s){return new this(new Je(e,t),new Je(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Je._createBefore(e),t)}}Gt.prototype.is=function(n){return n==="range"||n==="view:range"};function Zp(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}class Xa extends Gn(kh){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Dy(this.getRanges()),i=Dy(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let r=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),s.start.isEqual(o.start)&&s.end.isEqual(o.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof Xa||t instanceof i5)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Gt)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof Je)this._setRanges([new Gt(t)]),this._setFakeOptions(s);else if(t instanceof Ah){const r=!!s&&!!s.backward;let o;if(i===void 0)throw new fe("view-selection-setto-required-second-parameter",this);i=="in"?o=Gt._createIn(t):i=="on"?o=Gt._createOn(t):o=new Gt(Je._createAt(t,i)),this._setRanges([o],r),this._setFakeOptions(s)}else if(Qr(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new fe("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new fe("view-selection-setfocus-no-ranges",this);const i=Je._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),i.compareWith(s)=="before"?this._addRange(new Gt(i,s),!0):this._addRange(new Gt(s,i)),this.fire("change")}toJSON(){const e={ranges:Array.from(this.getRanges()).map(t=>t.toJSON())};return this.isBackward&&(e.isBackward=!0),this.isFake&&(e.isFake=!0),e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Gt))throw new fe("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new fe("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Gt(e.start,e.end))}}Xa.prototype.is=function(n){return n==="selection"||n==="view:selection"};class i5 extends Gn(kh){_selection;constructor(...e){super(),this._selection=new Xa,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}toJSON(){return this._selection.toJSON()}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}i5.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Ch extends Zl{startRange;_eventPhase;_currentTarget;constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const _b=Symbol("bubbling contexts");function IF(n){class e extends n{fire(i,...s){try{const r=i instanceof Zl?i:new Zl(this,i),o=Sb(this);if(!o.size)return;if(fg(r,"capturing",this),kd(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),c=a?a.getContainedElement():null,h=c?!!c8(o,c):!1;let f=c||zF(a);if(fg(r,"atTarget",f),!h){if(kd(o,"$text",r,...s))return r.return;fg(r,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(kd(o,"$root",r,...s))return r.return}else if(f.is("element")&&kd(o,f.name,r,...s))return r.return;if(kd(o,f,r,...s))return r.return;f=f.parent,fg(r,"bubbling",f)}return fg(r,"bubbling",this),kd(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=Zr(r.context||"$document"),a=Sb(this);for(const c of o){let h=a.get(c);h||(h=new(Gn()),a.set(c,h)),this.listenTo(h,i,s,r)}}_removeEventListener(i,s){const r=Sb(this);for(const o of r.values())this.stopListening(o,i,s)}}return e}function fg(n,e,t){n instanceof Ch&&(n._eventPhase=e,n._currentTarget=t)}function kd(n,e,t,...i){const s=typeof e=="string"?n.get(e):c8(n,e);return s?(s.fire(t,...i),t.stop.called):!1}function c8(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function Sb(n){return n[_b]||(n[_b]=new Map),n[_b]}function zF(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,i=e.getPath(),s=t.getPath();return i.length>s.length?e:t}class u8 extends IF(ss()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new i5,this.roots=new ff({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}const U4=10;class qd extends rc{static DEFAULT_PRIORITY=U4;_priority=U4;_id=null;_clonesGroup=null;constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=VF}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new fe("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}toJSON(){const e=super.toJSON();return e.type="AttributeElement",e}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}qd.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function VF(){if(kb(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(kb(n)>1)return null;n=n.parent}return!n||kb(n)>1?null:this.childCount}function kb(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}class s5 extends rc{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=UF}toJSON(){const e=super.toJSON();return e.type="EmptyElement",e}_insertChild(e,t){if(t&&(t instanceof Ah||Array.from(t).length>0))throw new fe("view-emptyelement-cannot-add",[this,t]);return 0}}s5.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function UF(){return null}class R1 extends rc{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=HF}_insertChild(e,t){if(t&&(t instanceof Ah||Array.from(t).length>0))throw new fe("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}toJSON(){const e=super.toJSON();return e.type="UIElement",e}}R1.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function qF(n){n.document.on("arrowKey",(e,t)=>WF(e,t,n.domConverter),{priority:"low"})}function HF(){return null}function WF(n,e,t){if(e.keyCode==on.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||e.shiftKey){const r=i.focusNode,o=i.focusOffset,a=t.domPositionToView(r,o);if(a===null)return;let c=!1;const h=a.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(c=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(c){const f=t.viewPositionToDom(h);s?i.collapse(f.parent,f.offset):i.extend(f.parent,f.offset)}}}}class r5 extends rc{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=GF}toJSON(){const e=super.toJSON();return e.type="RawElement",e}_insertChild(e,t){if(t&&(t instanceof Ah||Array.from(t).length>0))throw new fe("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}r5.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function GF(){return null}class Hd extends Gn(kh){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this,{index:e});let i=0;const s=$F(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t,i){this.fire(`change:${e}`,t,i)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Hd.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function $F(n,e){return typeof e=="string"?[new os(n,e)]:(Qr(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new os(n,t):t instanceof zl?new os(n,t.data):t))}class h8{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Hd(this.document,e)}createText(e){return new os(this.document,e)}createAttributeElement(e,t,i={}){const s=new qd(this.document,e,t);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(e,t,i={},s={}){let r;JF(i)?s=i:r=i;const o=new um(this.document,e,t,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(e,t,i={}){const s=new L1(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(e,t,i={}){const s=new s5(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(e,t,i){const s=new R1(this.document,e,t);return i&&(s.render=i),s}createRawElement(e,t,i,s={}){const r=new r5(this.document,e,t);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(e,t,i,s){s!==void 0?s._setAttribute(e,t,i):i._setAttribute(e,t)}removeAttribute(e,t,i){i!==void 0?i._removeAttribute(e,t):t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Ul(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Je?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new fe("view-writer-break-non-container-element",this.document);if(!t.parent)throw new fe("view-writer-break-root",this.document);if(e.isAtStart)return Je._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Je._createAfter(t),i);const s=new Gt(e,Je._createAt(t,"end")),r=new Je(i,0);this.move(s,r)}return Je._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Je(o,a))}const s=i.getChild(t-1),r=i.getChild(t);if(!s||!r)return e;if(s.is("$text")&&r.is("$text"))return H4(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Je(s,o))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new fe("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),r=s instanceof os?Je._createAt(s,"end"):Je._createAt(t,"end");return this.move(Gt._createIn(i),Je._createAt(t,"end")),this.remove(Gt._createOn(i)),r}insert(e,t){t=Qr(t)?[...t]:[t],d8(t,this.document);const i=t.reduce((o,a)=>{const c=o[o.length-1],h=!a.is("uiElement");return!c||c.breakAttributes!=h?o.push({breakAttributes:h,nodes:[a]}):c.nodes.push(a),o},[]);let s=null,r=e;for(const{nodes:o,breakAttributes:a}of i){const c=this._insertNodes(r,o,a);s||(s=c.start),r=c.end}return s?new Gt(s,r):new Gt(e)}remove(e){const t=e instanceof Gt?e:Gt._createOn(e);if(gg(t,this.document),t.isCollapsed)return new Hd(this.document);const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=s.offset-i.offset,a=r._removeChildren(i.offset,o);for(const h of a)this._removeFromClonedElementsGroup(h);const c=this.mergeAttributes(i);return t.start=c,t.end=c.clone(),new Hd(this.document,a)}clear(e,t){gg(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&t.isSimilar(r))o=Gt._createOn(r);else if(!s.nextPosition.isAfter(e.start)&&r.is("$textProxy")){const a=r.getAncestors().find(c=>c.is("element")&&t.isSimilar(c));a&&(o=Gt._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,r=s.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=s.childCount-r}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof qd))throw new fe("view-writer-wrap-invalid-attribute",this.document);if(gg(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!KF(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new Gt(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof qd))throw new fe("view-writer-unwrap-invalid-attribute",this.document);if(gg(e,this.document),e.isCollapsed)return e;const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const c=this.mergeAttributes(o.end);return new Gt(a,c)}rename(e,t){const i=new um(this.document,e,t.getAttributes());return this.insert(Je._createAfter(t),i),this.move(Gt._createIn(t),Je._createAt(i,0)),this.remove(Gt._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Je._createAt(e,t)}createPositionAfter(e){return Je._createAfter(e)}createPositionBefore(e){return Je._createBefore(e)}createRange(e,t){return new Gt(e,t)}createRangeOn(e){return Gt._createOn(e)}createRangeIn(e){return Gt._createIn(e)}createSelection(...e){return new Xa(...e)}createSlot(e="children"){if(!this._slotFactory)throw new fe("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let s;if(i?s=By(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new fe("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(e,!0):r=e.parent.is("$text")?Ab(e):e;const o=s._insertChild(r.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const a=r.getShiftedBy(o),c=this.mergeAttributes(r);c.isEqual(r)||a.offset--;const h=this.mergeAttributes(a);return new Gt(c,h)}_wrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const c=e.getChild(r),h=c.is("$text"),f=c.is("attributeElement");if(f&&c._canMergeAttributesFrom(s))c._mergeAttributesFrom(s),o.push(new Je(e,r));else if(h||!f||YF(s,c)){const p=s._clone();c._remove(),p._appendChild(c),e._insertChild(r,p),this._addToClonedElementsGroup(p),o.push(new Je(e,r))}else this._wrapChildren(c,0,c.childCount,s);r++}let a=0;for(const c of o){if(c.offset-=a,c.offset==t)continue;this.mergeAttributes(c).isEqual(c)||(a++,i--)}return Gt._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const c=e.getChild(r);if(!c.is("attributeElement")){r++;continue}if(c.isSimilar(s)){const h=c.getChildren(),f=c.childCount;c._remove(),e._insertChild(r,h),this._removeFromClonedElementsGroup(c),o.push(new Je(e,r),new Je(e,r+f)),r+=f,i+=f-1;continue}if(c._canSubtractAttributesOf(s)){c._subtractAttributesOf(s),o.push(new Je(e,r),new Je(e,r+1)),r++;continue}this._unwrapChildren(c,0,c.childCount,s),r++}let a=0;for(const c of o){if(c.offset-=a,c.offset==t||c.offset==i)continue;this.mergeAttributes(c).isEqual(c)||(a++,i--)}return Gt._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const c=this.mergeAttributes(o.end);return new Gt(a,c)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return q4(e.clone());e.parent.is("$text")&&(e=Ab(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const s=new Gt(e,e.getShiftedBy(1));this.wrap(s,t);const r=new Je(i.parent,i.index);i._remove();const o=r.nodeBefore,a=r.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?H4(o,a):q4(r)}_breakAttributesRange(e,t=!1){const i=e.start,s=e.end;if(gg(e,this.document),e.isCollapsed){const c=this._breakAttributes(e.start,t);return new Gt(c,c)}const r=this._breakAttributes(s,t),o=r.parent.childCount,a=this._breakAttributes(i,t);return r.offset+=r.parent.childCount-o,new Gt(a,r)}_breakAttributes(e,t=!1){const i=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new fe("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new fe("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new fe("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&Iy(s.parent)||Iy(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Ab(e),t);const r=s.childCount;if(i==r){const o=new Je(s.parent,s.index+1);return this._breakAttributes(o,t)}else if(i===0){const o=new Je(s.parent,s.index);return this._breakAttributes(o,t)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const c=s.childCount-i,h=s._removeChildren(i,c);a._appendChild(h);const f=new Je(s.parent,o);return this._breakAttributes(f,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function KF(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function By(n){let e=n.parent;for(;!Iy(e);){if(!e)return;e=e.parent}return e}function YF(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function q4(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Je(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Je(t,0):n}function Ab(n){if(n.offset==n.parent.data.length)return new Je(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Je(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new os(n.root.document,e)),new Je(n.parent.parent,n.parent.index+1)}function H4(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Je(n,t)}const XF=[os,qd,um,s5,r5,R1];function d8(n,e){for(const t of n){if(!XF.some(i=>t instanceof i))throw new fe("view-writer-insert-invalid-node-type",e);t.is("$text")||d8(t.getChildren(),e)}}function Iy(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function gg(n,e){const t=By(n.start),i=By(n.end);if(!t||!i||t!==i)throw new fe("view-writer-invalid-range-container",e)}function JF(n){return Ul(n)}const f8=n=>n.createTextNode(""),g8=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},m8=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},Xr=7,hm="".repeat(Xr);function ur(n){return typeof n=="string"?n.substr(0,Xr)===hm:di(n)&&n.data.substr(0,Xr)===hm}function Id(n){return n.data.length==Xr&&ur(n)}function W4(n){const e=typeof n=="string"?n:n.data;return ur(n)?e.slice(Xr):e}function QF(n){n.document.on("arrowKey",ZF,{priority:"low"})}function ZF(n,e){if(e.keyCode==on.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;ur(i)&&s<=Xr&&t.collapse(i,0)}}}class eB extends ss(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Et.isBlink&&!Et.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new fe("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!Et.isAndroid)return;let e=null;const t=Et.isBlink&&!Et.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Je._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),s=i.parent.ownerDocument;ur(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=G4(s,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(i,s),o=this._findUpdateActions(r,i,s,nB);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const c of o)if(c==="update"){const h=a.equal+a.insert,f=a.equal+a.delete,p=e.getChild(h);p&&!p.is("uiElement")&&!p.is("rawElement")&&this._updateElementMappings(p,i[f]),M4(s[h]),a.equal++}else a[c]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Je._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&di(t.parent)&&ur(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!ur(e))throw new fe("view-renderer-filler-was-lost",this);Id(e)?e.remove():e.data=e.data.substr(Xr),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!tB(t))return!1;const s=e.nodeBefore,r=e.nodeAfter;return!(s instanceof os||r instanceof os||i===t.getFillerOffset()&&(!s||!s.is("element","br"))||Et.isAndroid&&(s||r))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(r=hm+r),this._updateTextNode(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const i of Array.from(t.attributes)){const s=i.name;e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(t,s)}for(const i of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,i,e.getAttribute(i),e)}}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(Et.isAndroid){let p=null;for(const v of Array.from(i.childNodes)){if(p&&di(p)&&di(v)){i.normalize();break}p=v}}const s=t.inlineFillerPosition,r=i.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&G4(i.ownerDocument,o,s.offset);const a=this._diffNodeLists(r,o),c=this._findUpdateActions(a,r,o,iB);let h=0;const f=new Set;for(const p of c)p==="delete"?(f.add(r[h]),M4(r[h])):(p==="equal"||p==="update")&&h++;h=0;for(const p of c)p==="insert"?(ZA(i,h,o[h]),h++):p==="update"?(this._updateTextNode(r[h],o[h].data),h++):p==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[h])),h++);for(const p of f)p.parentNode||this.domConverter.unbindDomElement(p)}_diffNodeLists(e,t){return e=oB(e,this._fakeSelectionContainer),Fg(e,t,sB.bind(null,this.domConverter))}_findUpdateActions(e,t,i,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let r=[],o=[],a=[];const c={equal:0,insert:0,delete:0};for(const h of e)h==="insert"?a.push(i[c.equal+c.insert]):h==="delete"?o.push(t[c.equal+c.delete]):(r=r.concat(Fg(o,a,s).map(f=>f==="equal"?"update":f)),r.push("equal"),o=[],a=[]),c[h]++;return r.concat(Fg(o,a,s).map(h=>h==="equal"?"update":h))}_updateTextNode(e,t){const i=e.data;i!=t&&(Et.isAndroid&&this.isComposing&&i.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const i=VA(e.data,t);for(const s of i)s.type==="insert"?e.insertData(s.index,s.values.join("")):e.deleteData(s.index,s.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(Et.isBlink&&!Et.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){!this.selection.isFake&&this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected&&this._removeFakeSelection();return}this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Et.isAndroid||this._updateDomSelection(e)}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=aB(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),r=t.createRange();s.removeAllRanges(),r.selectNodeContents(i),s.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,s.parent,s.offset),Et.isGecko&&rB(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,s=this.domConverter.mapDomToView(i);i&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function tB(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function G4(n,e,t){const i=e instanceof Array?e:e.childNodes,s=i[t];if(di(s))return s.data=hm+s.data,s;{const r=n.createTextNode(hm);return Array.isArray(e)?i.splice(t,0,r):ZA(e,t,r),r}}function nB(n,e){return uu(n)&&uu(e)&&!di(n)&&!di(e)&&!zg(n)&&!zg(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function iB(n,e){return uu(n)&&uu(e)&&di(n)&&di(e)}function sB(n,e,t){return e===t?!0:di(e)&&di(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function rB(n,e){let t=n.parent,i=n.offset;if(di(t)&&Id(t)&&(i=Bd(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||i!=t.childNodes.length-1)return;const s=t.childNodes[i];s&&s.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function oB(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function aB(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}const lB=m8(it.document),cB=f8(it.document),uB=g8(it.document),e0="data-ck-unsafe-attribute-",$4="data-ck-unsafe-element";class p8{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new cm;_inlineObjectElementMatcher=new cm;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?it.document:it.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Xa(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of e.children)this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const i=new DOMParser().parseFromString(t,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let c;for(;c=o.nextNode();)a.push(c);for(const h of a){for(const p of h.getAttributeNames())this.setDomElementAttribute(h,p,h.getAttribute(p));const f=h.tagName.toLowerCase();this._shouldRenameElement(f)&&(J4(f),h.replaceWith(this._createReplacementDomElement(f,h)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{const i=e;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let s;if(i.is("documentFragment"))s=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(s,i);else{if(i.is("uiElement"))return i.name==="$comment"?s=this._domDocument.createComment(i.getCustomProperty("$rawContent")):s=i.render(this._domDocument,this),t.bind&&this.bindElements(s,i),s;this._shouldRenameElement(i.name)?(J4(i.name),s=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?s=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):s=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(s,this),t.bind&&this.bindElements(s,i);for(const r of i.getAttributeKeys())this.setDomElementAttribute(s,r,i.getAttribute(r),i)}if(t.withChildren!==!1)for(const r of this.viewChildrenToDom(i,t))s instanceof HTMLTemplateElement?s.content.appendChild(r):s.appendChild(r);return s}}setDomElementAttribute(e,t,i,s){const r=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(r||Mi("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),!Gj(t)){Mi("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i});return}e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(e0+t)&&r&&e.removeAttribute(e0+t),e.setAttribute(r?t:e0+t,i)}removeDomElementAttribute(e,t){t!=$4&&(e.removeAttribute(t),e.removeAttribute(e0+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const r of e.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Om(r.getAttributes());if(o&&this.renderingMode=="data")if(r.is("rawElement")){const a=this._domDocument.createElement(r.name);r.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(r,t);else o&&Mi("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t);s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let s=e.offset;return ur(i)&&(s+=Xr),i.data&&s>i.data.length&&(s=i.data.length),{parent:i,offset:s}}else{let i,s,r;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;r=i.childNodes[0]}else{const a=e.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;i=s.parentNode,r=s.nextSibling}if(di(r)&&ur(r))return{parent:r,offset:Xr};const o=s?Bd(s)+1:0;return{parent:i,offset:o}}}domToView(e,t={}){const i=[],s=this._domToView(e,t,i),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,i,t),this.blockFillerMode=="br"&&Y4(r))||r.is("$text")&&r.data.length==0?null:r}*domChildrenToView(e,t={},i=[]){let s=[];e instanceof HTMLTemplateElement?s=[...e.content.childNodes]:s=[...e.childNodes];for(let r=0;r<s.length;r++){const o=s[r],a=this._domToView(o,t,i),c=a.next().value;c!==null&&(this._isBlockViewElement(c)&&this._processDomInlineNodes(e,i,t),this.blockFillerMode=="br"&&Y4(c)||(yield c),a.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(mB(e))return new Xa([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;di(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const t=this.isDomSelectionBackward(e),i=[];for(let s=0;s<e.rangeCount;s++){const r=e.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new Xa(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new Gt(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Bd(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Je._createBefore(i);if(di(e)){if(Id(e))return this.domPositionToView(e.parentNode,Bd(e));const s=this.findCorrespondingViewText(e);let r=t;return s?(ur(e)&&(r-=Xr,r=r<0?0:r),new Je(s,r)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new Je(s,0)}else{const s=e.childNodes[t-1];if(di(s)&&Id(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Bd(s));const r=di(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Je(r.parent,r.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Id(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof os?r:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const r=s.getChild(0);return r instanceof os?r:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(!t||t.ownerDocument.activeElement===t)return;const{scrollX:i,scrollY:s}=it.window,r=[];K4(t,o=>{const{scrollLeft:a,scrollTop:c}=o;r.push([a,c])}),t.focus({preventScroll:!0}),K4(t,o=>{const[a,c]=r.shift();o.scrollLeft=a,o.scrollTop=c}),it.window.scrollTo(i,s)}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(lB):X4(e,this.blockElements)?!0:e.isEqualNode(uB)||dB(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=Uj(e);for(t.pop();t.length;){const i=t.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return f8(this._domDocument);case"markedNbsp":return g8(this._domDocument);case"br":return m8(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(di(e)&&ur(e)&&t<Xr||this.isElement(e)&&ur(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(e,t,i){if(this.blockFillerMode!="br"&&X4(e,this.blockElements))return null;const s=this.getHostViewElement(e);if(s)return s;if(zg(e)&&t.skipComments)return null;if(di(e)){if(Id(e))return null;{const r=e.data;if(r==="")return null;const o=new os(this.document,r);return i.push(o),o}}else{let r=this.mapDomToView(e);if(r)return this._isInlineObjectElement(r)&&i.push(r),r;if(this.isDocumentFragment(e))r=new Hd(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const a=e.attributes;if(a)for(let c=a.length,h=0;h<c;h++)r._setAttribute(a[h].name,a[h].value);if(this._isViewElementWithRawContent(r,t))return r._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(r)||i.push(r),r;if(zg(e))return r._setCustomProperty("$rawContent",e.data),r}yield r;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))r._appendChild(a);if(this._isInlineObjectElement(r))i.push(r),this._processDomInlineNodes(null,o,t);else for(const a of o)i.push(a)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let r=0;r<t.length;r++){const o=t[r];if(!o.is("$text")){s=!1;continue}let a,c=!1;if(this._isPreFormatted(o))a=W4(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),c=/[^\S\u00A0]/.test(a.charAt(a.length-1));const h=r>0?t[r-1]:null,f=r+1<t.length?t[r+1]:null,p=!h||h.is("element")&&h.name=="br"||s,v=f?!1:!ur(o.data);i.withChildren!==!1&&(p&&(a=a.replace(/^ /,"")),v&&(a=a.replace(/ $/,""))),a=W4(a),this.blockFillerMode!="br"&&o.parent&&(gB(o.parent,a)?(a="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):fB(o.parent,a,this.blockElements)&&(a="",o.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const y=f&&f.is("element")&&f.name!="br",k=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!f||y||k)&&(a=a.replace(/\u00A0$/," ")),(p||h&&h.is("element")&&h.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(r,1),r--):(o._data=a,s=c)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_isPreFormatted(e){if(hB(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(!(!t.is("element")||!t.hasStyle("white-space")||t.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const i=new lh({startPosition:t?Je._createAfter(e):Je._createBefore(e),direction:t?"forward":"backward"});for(const{item:s}of i){if(s.is("$textProxy"))return s;if(s.is("element")&&s.getCustomProperty("dataPipeline:transparentRendering"))continue;if(s.is("element","br"))return null;if(this._isInlineObjectElement(s))return s;if(s.is("containerElement")||this._isBlockViewElement(s))return null}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(zg(e))return new R1(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new rc(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute($4,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const s of t.getAttributeNames())i.setAttribute(s,t.getAttribute(s))}return i}}function hB(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function K4(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function dB(n,e){return n.isEqualNode(cB)&&b8(n,e)&&n.parentNode.childNodes.length===1}function b8(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function fB(n,e,t){return e==""&&n&&n.is("element")&&n.childCount==1&&t.includes(n.name)}function gB(n,e){return e==""&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function Y4(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function X4(n,e){return n.tagName==="BR"&&b8(n,e)&&n.parentNode.childNodes.length===1}function J4(n){n==="script"&&Mi("domconverter-unsafe-script-element-detected"),n==="style"&&Mi("domconverter-unsafe-style-element-detected")}function mB(n){if(!Et.isGecko||!n.rangeCount)return!1;const e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class oc extends da(){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class yh{view;document;domEvent;domTarget;constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,XD(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Nh extends oc{useCapture=!1;usePassive=!1;observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new yh(this.view,t,i))}}class pB extends Nh{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return of(this)}};this.fire(e.type,e,t)}}class bB extends oc{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=ph(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Xa(t.getRanges(),{backward:t.isBackward,fake:!1});(e==on.arrowleft||e==on.arrowup)&&i.setTo(i.getFirstPosition()),(e==on.arrowright||e==on.arrowdown)&&i.setTo(i.getLastPosition());const s={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}let y8=class extends oc{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,s=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&s.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const c=t.findCorrespondingViewText(o.target);c&&!s.has(c.parent)?i.add(c):!c&&ur(o.target)&&s.add(t.mapDomToView(o.target.parentNode))}}const r=[];for(const o of i)r.push({type:"text",node:o});for(const o of s){const a=t.mapViewToDom(o),c=Array.from(o.getChildren()),h=Array.from(t.domChildrenToView(a,{withChildren:!1}));Oy(c,h,yB)||r.push({type:"children",node:o})}r.length&&this.document.fire("mutations",{mutations:r})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function yB(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}class Z0 extends Nh{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(i,s)=>this._handleBlur(s)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class vB extends oc{mutationObserver;focusObserver;selection;domConverter;_documents=new WeakSet;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter=0;_pendingSelectionChange=new Set;constructor(e){super(e),this.mutationObserver=e.getObserver(y8),this.focusObserver=e.getObserver(Z0),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=ph(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ph(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(t,i,s)=>{if(s&&this._pendingSelectionChange.size){for(const r of Array.from(this._pendingSelectionChange))this._handleSelectionChange(r);this._pendingSelectionChange.clear()}})}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!Et.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(t);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused&&!this.view.document.isReadOnly){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(!xB(i))this.view.forceRender();else if(this.selection.isSimilar(i))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:i,domSelection:t};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}function xB(n){return Array.from(n.getRanges()).flatMap(e=>[e.start.root,e.end.root]).every(e=>e&&e.is("rootElement"))}class wB extends Nh{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class v8{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?Q4(e):null,this._native=e}get files(){return this._files||(this._files=Q4(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Q4(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class _B extends Nh{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),i=this.view,s=i.document;let r=null,o=null,a=[];if(e.dataTransfer&&(r=new v8(e.dataTransfer)),e.data!==null?o=e.data:r&&(o=r.getData("text/plain")),s.selection.isFake)a=Array.from(s.selection.getRanges()),e.preventDefault();else if(t.length)a=t.map(c=>{let h=i.domConverter.domPositionToView(c.startContainer,c.startOffset);const f=i.domConverter.domPositionToView(c.endContainer,c.endOffset);if(h&&ur(c.startContainer)&&c.startOffset<Xr){e.preventDefault();let p=Xr-c.startOffset;h=h.getLastMatchingPosition(v=>!!(v.item.is("attributeElement")||v.item.is("uiElement")||v.item.is("$textProxy")&&p--),{direction:"backward",singleCharacters:!0})}if(SB(c.endContainer,c.endOffset)&&e.preventDefault(),h)return i.createRange(h,f);if(f)return i.createRange(f)}).filter(c=>!!c);else if(Et.isAndroid){const c=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(c).getRanges())}if(Et.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&o&&o.includes(`
`)){const c=o.split(/\n{1,2}/g);let h=a;e.preventDefault();for(let f=0;f<c.length;f++){const p=c[f];p!=""&&(this.fire(e.type,e,{data:p,dataTransfer:r,targetRanges:h,inputType:e.inputType,isComposing:e.isComposing}),h=[s.selection.getFirstRange()]),f+1<c.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:h}),h=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}function SB(n,e){for(;n.parentNode;){if(di(n)){if(e!=n.data.length)return!1}else if(e!=n.childNodes.length)return!1;if(e=Bd(n)+1,n=n.parentNode,e<n.childNodes.length&&ur(n.childNodes[e]))return!0}return!1}class kB extends oc{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&nF(i.keyCode)){const s=new Ch(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class AB extends oc{constructor(e){super(e);const t=this.document;t.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=on.tab||s.ctrlKey)return;const r=new Ch(t,"tab",t.selection.getFirstRange());t.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}class CB extends ss(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new u8(e),this.domConverter=new p8(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new eB(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new h8(this.document),this.addObserver(y8),this.addObserver(Z0),this.addObserver(vB),this.addObserver(pB),this.addObserver(bB),this.addObserver(wB),this.addObserver(kB),this.addObserver(_B),this.addObserver(AB),QF(this),qF(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),Et.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:i})=>{i.forEach(s=>this._renderer.markToSync(s.type,s.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const s={};for(const{name:o,value:a}of Array.from(e.attributes))s[o]=a,o==="class"?this._writer.addClass(a.split(" "),i):i.hasAttribute(o)||this._writer.setAttribute(o,a,i);this._initialDomRootAttributes.set(e,s);const r=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(r)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const i=this._initialDomRootAttributes.get(t);for(const s in i)t.setAttribute(s,i[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,s]of this.domRoots)t.observe(s,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:s=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const o=Nr({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:s});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const a={target:this.domConverter.viewRangeToDom(r),viewportOffset:i,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),Yj(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new fe("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Z0).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Je._createAt(e,t)}createPositionAfter(e){return Je._createAfter(e)}createPositionBefore(e){return Je._createBefore(e)}createRange(e,t){return new Gt(e,t)}createRangeOn(e){return Gt._createOn(e)}createRangeIn(e){return Gt._createIn(e)}createSelection(...e){return new Xa(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class mu{is(){throw new Error("is() method is abstract")}}class aa extends mu{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new fe("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new fe("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}aa.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class Gl{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new fe("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new fe("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=We._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,s,r;do s=this.position,r=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=s,this._visitedParent=r)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Ug(t,i),r=s||x8(t,i,s);if(r&&r.is("model:element")){if(!this.shallow)t.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Zu("elementStart",r,e,t,1)}if(r&&r.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let h=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<h&&(h=this.boundaries.end.offset),o=h-t.offset}const a=t.offset-r.startOffset,c=new aa(r,a,o);return t.offset+=o,this._position=t,Zu("text",c,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Zu("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,r=Ug(t,s),o=r||w8(t,s,r);if(o&&o.is("model:element"))return t.offset--,this.shallow?(this._position=t,Zu("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Zu("elementEnd",o,e,t));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let f=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),a=t.offset-f}const c=t.offset-o.startOffset,h=new aa(o,c-a,a);return t.offset-=a,this._position=t,Zu("text",h,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Zu("elementStart",i,e,t,1)}}function Zu(n,e,t,i,s){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:s}}}class We extends mu{root;path;stickiness;constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new fe("model-position-root-invalid",e);if(!Array.isArray(t)||t.length===0)throw new fe("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new fe("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new fe("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ug(this,this.parent)}get nodeAfter(){const e=this.parent;return x8(this,e,Ug(this,e))}get nodeBefore(){const e=this.parent;return w8(this,e,Ug(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=cr(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Gl(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=cr(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const s=this.path[i]-e.path[i];if(s<-1||s>1)return!1;if(s===1)return Z4(e,this,i);if(s===-1)return Z4(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?zy(this.path,t):zy(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return cr(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=We._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this);let s;return i?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=We._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const i=We._createAt(this);if(this.root!=e.root)return i;if(cr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(cr(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;i.path[s]-=t}}return i}_getTransformedByInsertion(e,t){const i=We._createAt(this);if(this.root!=e.root)return i;if(cr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(cr(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(i.path[s]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return We._createAt(this);const s=this._getTransformedByDeletion(e,i);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,s=We._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[i]-e.offset,s.path=[...s.path,...this.path.slice(i+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e.is("model:position"))return new We(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,i);if(t=="after")return this._createAfter(s,i);if(t!==0&&!t)throw new fe("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new fe("model-position-parent-incorrect",[this,e]);const r=s.getPath();return r.push(t),new this(s.root,r,i)}}static _createAfter(e,t){if(!e.parent)throw new fe("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new fe("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new We(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new fe("model-position-fromjson-no-root",t,{rootName:e.root});return new We(t.getRoot(e.root),e.path,e.stickiness)}}We.prototype.is=function(n){return n==="position"||n==="model:position"};function Ug(n,e){const t=e.getChildAtOffset(n.offset);return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function x8(n,e,t){return t!==null?null:e.getChildAtOffset(n.offset)}function w8(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function Z4(n,e,t){return!(t+1===n.path.length||!zy(e.path,t+1)||!NB(n,t+1))}function zy(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function NB(n,e){let t=n.parent,i=n.path.length-1,s=0;for(;i>=e;){if(n.path[i]+s!==t.maxOffset)return!1;s=1,i--,t=t.parent}return!0}class Me extends mu{start;end;constructor(e,t){super(),this.start=We._createAt(e),this.end=t?We._createAt(t):We._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Gl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return cr(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}containsItem(e){const t=We._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Me(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Me(e.end,this.end))):t.push(new Me(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Me(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let s=this.start,r=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(r)&&(r=e.end),new Me(s,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=We._createAt(this.start);let s=i.parent;for(;i.path.length>t+1;){const r=s.maxOffset-i.offset;r!==0&&e.push(new Me(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,s=s.parent}for(;i.path.length<=this.end.path.length;){const r=this.end.path[i.path.length-1],o=r-i.offset;o!==0&&e.push(new Me(i,i.getShiftedBy(o))),i.offset=r,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Gl(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Gl(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Gl(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Me(this.start,this.end)]}getTransformedByOperations(e){const t=[new Me(this.start,this.end)];for(const i of e)for(let s=0;s<t.length;s++){const r=t[s].getTransformedByOperation(i);t.splice(s,1,...r),s+=r.length-1}for(let i=0;i<t.length;i++){const s=t[i];for(let r=i+1;r<t.length;r++){const o=t[r];(s.containsRange(o)||o.containsRange(s)||s.isEqual(o))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,s=e.howMany,r=e.targetPosition;return this._getTransformedByMove(i,r,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Me(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Me(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=We._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new Me(t,i)):new Me(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new Me(this.start,e),new Me(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new Me(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,i,s=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(e,t,i);return[new Me(p)]}const r=Me._createFromPositionAndShift(e,i),o=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const p=this.start._getTransformedByMove(e,t,i),v=this.end._getTransformedByMove(e,t,i);return[new Me(p,v)]}let a;const c=this.getDifference(r);let h=null;const f=this.getIntersection(r);if(c.length==1?h=new Me(c[0].start._getTransformedByDeletion(e,i),c[0].end._getTransformedByDeletion(e,i)):c.length==2&&(h=new Me(this.start,this.end._getTransformedByDeletion(e,i))),h?a=h._getTransformedByInsertion(o,i,f!==null||s):a=[],f){const p=new Me(f.start._getCombined(r.start,o),f.end._getCombined(r.start,o));a.length==2?a.splice(1,0,p):a.push(p)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return i==null&&s==null?null:(i==null&&(i=e),s==null&&(s=e),new Me(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return new this(We._createAt(e,0),We._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(We._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new fe("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((r,o)=>r.start.isAfter(o.start)?1:-1);const i=e.indexOf(t),s=new this(t.start,t.end);for(let r=i-1;r>=0&&e[r].end.isEqual(s.start);r--)s.start=We._createAt(e[r].start);for(let r=i+1;r<e.length&&e[r].start.isEqual(s.end);r++)s.end=We._createAt(e[r].end);return s}static fromJSON(e,t){return new this(We.fromJSON(e.start,t),We.fromJSON(e.end,t))}}Me.prototype.is=function(n){return n==="range"||n==="model:range"};class _8 extends Gn(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;_cache=new EB;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new fe("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(i),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=We._createAt(s,r)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)&&this._cache.stopTracking(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Me(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Gt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const s of t)if(s.is("attributeElement"))for(const r of s.getElementsWithSameId())i.add(r);else i.add(s);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){const r=this._toModelOffset(e.parent,e.index,i),o=this._toModelOffset(e,t,e);return r+o}if(e.is("$text"))return t;let s=0;for(let r=0;r<t;r++)s+=this.getModelLength(e.getChild(r));return s}getModelLength(e){const t=[e];let i=0;for(;t.length>0;){const s=t.pop(),r=s.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(s.name);if(r)i+=r(s);else if(this._viewToModelMapping.has(s))i+=1;else if(s.is("$text"))i+=s.data.length;else{if(s.is("uiElement"))continue;for(const o of s.getChildren())t.push(o)}}return i}findPositionIn(e,t){if(t===0)return this._moveViewPositionToTextNode(new Je(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const s=this._cache.getClosest(e,t);return this._findPositionStartingFrom(s.viewPosition,s.modelOffset,t,e,!0)}else return this._findPositionStartingFrom(new Je(e,0),0,t,e,!1)}_findPositionStartingFrom(e,t,i,s,r){let o=e.parent,a=e.offset;if(o.is("$text"))return new Je(o,i-t);let c,h=t,f=0;for(;h<i;){if(c=o.getChild(a),!c){if(o==s)throw new fe("mapping-model-offset-not-found",this,{modelOffset:i,viewContainer:s});a=o.parent.getChildIndex(o)+1,o=o.parent,r&&this._cache.save(o,a,s,h);continue}r?f=this._getModelLengthAndCache(c,s,h):f=this.getModelLength(c),h+=f,a++}let p=new Je(o,a);if(r)for(;p.isAtEnd&&p.parent!==s&&p.parent.parent;){const v=p.parent.parent,y=v.getChildIndex(p.parent)+1;this._cache.save(v,y,s,h),p=new Je(v,y)}return h==i?this._moveViewPositionToTextNode(p):this._findPositionStartingFrom(new Je(c,0),h-f,i,s,r)}_getModelLengthAndCache(e,t,i){let s=0;if(this._viewToModelMapping.has(e))s=1;else if(e.is("$text"))s=e.data.length;else if(!e.is("uiElement"))for(const r of e.getChildren())s+=this._getModelLengthAndCache(r,t,i+s);return this._cache.save(e.parent,e.index+1,t,i+s),s}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t&&t.is("view:$text")?new Je(t,t.data.length):i&&i.is("view:$text")?new Je(i,0):e}}class EB extends Gn(){_cachedMapping=new WeakMap;_nodeToCacheListIndex=new WeakMap;_invalidateOnChildrenChangeCallback=(e,t,i)=>{this._clearCacheInsideParent(t,i.index)};_invalidateOnTextChangeCallback=(e,t)=>{this._clearCacheAfter(t)};save(e,t,i,s){const r=this._cachedMapping.get(i),o=r.cacheMap.get(s);if(o){const f=e.getChild(t-1),p=o.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(o.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(f,p);return}const c={viewPosition:new Je(e,t),modelOffset:s};r.maxModelOffset=s>r.maxModelOffset?s:r.maxModelOffset,r.cacheMap.set(s,c);let h=r.cacheList.length-1;for(;h>=0&&r.cacheList[h].modelOffset>s;)h--;if(r.cacheList.splice(h+1,0,c),t>0){const f=e.getChild(t-1);this._nodeToCacheListIndex.set(f,h+1)}}getClosest(e,t){const i=this._cachedMapping.get(e);let s;if(i)if(t>i.maxModelOffset)s=i.cacheList[i.cacheList.length-1];else{const r=i.cacheMap.get(t);r?s=r:s=this._findInCacheList(i.cacheList,t)}else s=this.startTracking(e);return{modelOffset:s.modelOffset,viewPosition:s.viewPosition.clone()}}startTracking(e){const i={viewPosition:new Je(e,0),modelOffset:0},s={maxModelOffset:0,cacheList:[i],cacheMap:new Map([[0,i]])};return this._cachedMapping.set(e,s),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),i}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,t){if(t==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheInsideParent(e.parent,e.index);else{const i=e.getChild(t-1);this._clearCacheAfter(i)}}_clearCacheAll(e){const t=this._cachedMapping.get(e);t.maxModelOffset>0&&(t.maxModelOffset=0,t.cacheList.length=1,t.cacheMap.clear(),t.cacheMap.set(0,t.cacheList[0]))}_clearCacheAfter(e){const t=this._nodeToCacheListIndex.get(e);if(t===void 0){const s=e.parent;this._cachedMapping.has(s)||this._clearCacheInsideParent(s.parent,s.index);return}let i=e.parent;for(;!this._cachedMapping.has(i);)i=i.parent;this._clearCacheFromCacheIndex(i,t)}_clearCacheFromCacheIndex(e,t){t===0&&(t=1);const i=this._cachedMapping.get(e),s=i.cacheList[t-1];if(!s)return;i.maxModelOffset=s.modelOffset;const r=i.cacheList.splice(t);for(const o of r){i.cacheMap.delete(o.modelOffset);const a=o.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(a)}}_findInCacheList(e,t){let i=0,s=e.length-1,r=s-i>>1,o=e[r];for(;i<s;)o.modelOffset<t?i=r+1:s=r-1,r=i+(s-i>>1),o=e[r];return o.modelOffset<=t?o:e[r-1]}}class TB{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=t0(t),e instanceof aa&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=t0(t),e instanceof aa&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=t0(t),e instanceof aa&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const s=i.get(t);return s===void 0?null:s}revert(e,t){t=t0(t),e instanceof aa&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&e==a&&t.push({event:r,item:i.name||i.description})}if(t.length)throw new fe("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const s=i.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,s=e.parent,r=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(s,r),r}}function t0(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}class S8 extends Gn(){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const s=this._createConversionApi(i,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,s);const r=this._reduceChanges(e.getChanges());for(const o of r)o.type==="insert"?this._convertInsert(Me._createFromPositionAndShift(o.position,o.length),s):o.type==="reinsert"?this._convertReinsert(Me._createFromPositionAndShift(o.position,o.length),s):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,s):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const o of s.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,s),this._convertMarkerAdd(o,a,s)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,t,i,s={}){const r=this._createConversionApi(i,void 0,s);this._convertInsert(e,r);for(const[o,a]of t)this._convertMarkerAdd(o,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const s=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},s);const r=e.getFirstPosition().root;if(!s.mapper.toViewElement(r))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,o),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const a of o)if(s.consumable.test(e,"addMarker:"+a.name)){const c=a.getRange();if(!PB(e.getFirstPosition(),a,s.mapper))continue;const h={item:e,markerName:a.name,markerRange:c};this.fire(`addMarker:${a.name}`,h,s)}for(const a of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+a)){const c={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,c,s)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const s of e.getWalker({shallow:!0}))this._testAndFire("insert",e3(s),t)}_convertRemove(e,t,i,s){this.fire(`remove:${i}`,{position:e,length:t},s)}_convertAttribute(e,t,i,s,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:Me._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:i,attributeNewValue:s};this._testAndFire(`attribute:${t}`,a,r)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const s of i.map(e3))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(i.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,s)){this._addConsumablesForRange(i.consumable,t,s);for(const r of t.getItems()){if(!i.consumable.test(r,s))continue;const o={item:r,range:Me._createOn(r),markerName:e,markerRange:t};this.fire(s,o,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const s=i.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const r of s.getAttributeKeys())e.add(s,"attribute:"+r)}}return e}_addConsumablesForRange(e,t,i){for(const s of t.getItems())e.add(s,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const s of i)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,i){const s=MB(e,t),r=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(i),a=o.get(r);if(!a)o.set(r,new Set([s]));else if(!a.has(s))a.add(s);else return;this.fire(s,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:Me._createOn(e)};for(const s of i.item.getAttributeKeys())i.attributeKey=s,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(s),this._testAndFire(`attribute:${s}`,i,t)}_createConversionApi(e,t=new Set,i={}){const s={...this._conversionApi,consumable:new TB,writer:e,options:i,convertItem:r=>this._convertInsert(Me._createOn(r),s),convertChildren:r=>this._convertInsert(Me._createIn(r),s,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,s),canReuseView:r=>!t.has(s.mapper.toModelElement(r))};return this._firedEventsMap.set(s,new Map),s}}function PB(n,e,t){const i=e.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function MB(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function e3(n){return{item:n.item,range:Me._createFromPositionAndShift(n.previousPosition,n.length)}}class Eh extends mu{parent=null;_attrs;_index=null;_startOffset=null;constructor(e){super(),this._attrs=bh(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=cr(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=bh(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Eh.prototype.is=function(n){return n==="node"||n==="model:node"};class Yr extends Gn(mu){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Me(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new Me(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new Me(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof Yr)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Me)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof We)this._setRanges([new Me(t)]);else if(t instanceof Eh){const r=!!s&&!!s.backward;let o;if(i=="in")o=Me._createIn(t);else if(i=="on")o=Me._createOn(t);else if(i!==void 0)o=new Me(We._createAt(t,i));else throw new fe("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],r)}else if(Qr(t))this._setRanges(t,s&&!!s.backward);else throw new fe("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const i=Array.from(e),s=i.some(r=>{if(!(r instanceof Me))throw new fe("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(r))});i.length===this._ranges.length&&!s||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new fe("model-selection-setfocus-no-ranges",[this,e]);const i=We._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(s)=="before"?(this._pushRange(new Me(i,s)),this._lastRangeBackward=!0):(this._pushRange(new Me(s,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=t3(t.start,e);LB(i,t)&&(yield i);const s=t.getWalker();for(const o of s){const a=o.item;o.type=="elementEnd"&&OB(a,e,t)?yield a:o.type=="elementStart"&&a.is("model:element")&&a.root.document.model.schema.isBlock(a)&&s.jumpTo(We._createAt(a,"end"))}const r=t3(t.end,e);RB(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=We._createAt(e,0),i=We._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}toJSON(){const e={ranges:Array.from(this.getRanges()).map(i=>i.toJSON())},t=Object.fromEntries(this.getAttributes());return Object.keys(t).length&&(e.attributes=t),this.isBackward&&(e.isBackward=!0),e}_pushRange(e){this._checkRange(e),this._ranges.push(new Me(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new fe("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Yr.prototype.is=function(n){return n==="selection"||n==="model:selection"};function k8(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function OB(n,e,t){return k8(n,e)&&o5(n,t)}function t3(n,e){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=i.isLimit(a),!r&&k8(a,e)));return s.forEach(a=>e.add(a)),o}function o5(n,e){const t=DB(n);return t?!e.containsRange(Me._createOn(t),!0):!0}function LB(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(We._createAt(n,n.maxOffset))?!1:o5(n,e):!1}function RB(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(We._createAt(n,0))?!1:o5(n,e):!1}function DB(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class Ao extends Gn(Me){constructor(e,t){super(e,t),jB.call(this)}detach(){this.stopListening()}toRange(){return new Me(this.start,this.end)}static fromRange(e){return new Ao(e.start,e.end)}}Ao.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function jB(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&FB.call(this,t)},{priority:"low"})}function FB(n){const e=this.getTransformedByOperation(n),t=Me._createFromRanges(e),i=!t.isEqual(this),s=BB(this,n);let r=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function BB(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}class Zn extends Eh{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Zn(this.data,this.getAttributes())}static fromJSON(e){return new Zn(e.data,e.attributes)}}Zn.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const dm="selection:";class la extends Gn(mu){_selection;constructor(e){super(),this._selection=new IB(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}toJSON(){return this._selection.toJSON()}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return dm+e}static _isStoreAttributeKey(e){return e.startsWith(dm)}}la.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class IB extends Yr{markers=new ff({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const s=i[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,s,r)=>{this._updateMarker(i,r)}),this.listenTo(this._document,"change",(t,i)=>{zB(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ha();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new fe("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}toJSON(){const e=super.toJSON();return this.markers.length&&(e.markers=this.markers.map(t=>t.toJSON())),e}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new fe("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Ao.fromRange(e);return t.on("change:range",(i,s,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const r=s.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const o=s.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(s)}const i=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let s=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),s=!0);else{let a=!1;for(const c of this.getRanges())if(t.containsRange(c,!c.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),s=!0):!a&&o&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=bh(this._getSurroundingAttributes()),i=bh(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,o]of this._attributePriority)o=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(t);const s=[];for(const[r,o]of this.getAttributes())(!i.has(r)||i.get(r)!==o)&&s.push(r);for(const[r]of i)this.hasAttribute(r)||s.push(r);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[i,s]of this.getAttributes())e.get(i)!==s&&this._removeAttribute(i,!1);for(const[i,s]of e)this._setAttribute(i,s,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(dm)&&(yield[t.substr(dm.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=mg(s,t)),i||(i=mg(r,t)),!this.isGravityOverridden&&!i){let o=s;for(;o&&!i;)o=o.previousSibling,i=mg(o,t)}if(!i){let o=r;for(;o&&!i;)o=o.nextSibling,i=mg(o,t)}i||(i=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const r of s){if(r.item.is("element")&&t.isObject(r.item)){i=mg(r.item,t);break}if(r.type=="text"){i=r.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function mg(n,e){if(!n)return null;if(n instanceof aa||n instanceof Zn)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,s]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,s]);return t}function zB(n,e){const t=n.document.differ;for(const i of t.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(s.getAttributeKeys()).filter(c=>c.startsWith(dm));for(const c of a)o.removeAttribute(c,s)})}}class qg{_nodes=[];_offsetToNode=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new fe("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new fe("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){const i=[];for(const r of t){if(!(r instanceof Eh))throw new fe("model-nodelist-insertnodes-not-node",this);i.push(r)}let s=this.indexToOffset(e);B4(this._nodes,i,e),B4(this._offsetToNode,VB(i),s);for(let r=e;r<this._nodes.length;r++)this._nodes[r]._index=r,this._nodes[r]._startOffset=s,s+=this._nodes[r].offsetSize}_removeNodes(e,t=1){if(t==0)return[];let i=this.indexToOffset(e);const s=this._nodes.splice(e,t),r=s[s.length-1],o=r.startOffset+r.offsetSize-i;this._offsetToNode.splice(i,o);for(const a of s)a._index=null,a._startOffset=null;for(let a=e;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=i,i+=this._nodes[a].offsetSize;return s}_removeNodesArray(e){if(e.length==0)return;for(const i of e)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let t=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=t,t+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function VB(n){const e=[];let t=0;for(const i of n)for(let s=0;s<i.offsetSize;s++)e[t++]=i;return e}class Qn extends Eh{name;_children=new qg;constructor(e,t,i){super(t),this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?qB(this._children):void 0;return new Qn(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=UB(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(Qn.fromJSON(i)):t.push(Zn.fromJSON(i))}return new Qn(e.name,e.attributes,t)}}Qn.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function UB(n){if(typeof n=="string")return[new Zn(n)];Qr(n)||(n=[n]);const e=[];for(const t of n)typeof t=="string"?e.push(new Zn(t)):t instanceof aa?e.push(new Zn(t.data,t.getAttributes())):e.push(t);return e}function qB(n){const e=[];for(const t of n)e.push(t._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class A8{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class HB extends A8{elementToElement(e){return this.add(lI(e))}elementToStructure(e){return this.add(cI(e))}attributeToElement(e){return this.add(uI(e))}attributeToAttribute(e){return this.add(hI(e))}markerToElement(e){return this.add(dI(e))}markerToHighlight(e){return this.add(gI(e))}markerToData(e){return this.add(fI(e))}}function C8(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const i=t.writer,s=t.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(s,r)}}function N8(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function WB(){return(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),r=t.mapper.toViewPosition(s,{isPhantom:!0}),o=t.writer.createRange(i,r),a=t.writer.remove(o.getTrimmed());for(const c of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(c,{defer:!0})}}function E8(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function GB(){return(n,e,t)=>{const i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(t.mapper.toViewRange(r));t.writer.setSelection(s,{backward:i.isBackward})}}function $B(){return(n,e,t)=>{const i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=t.writer,r=i.getFirstPosition(),o=t.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function KB(){return(n,e,t)=>{const i=t.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&t.writer.mergeAttributes(r.start);i.setSelection(null)}}function YB(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.writer,a=o.document.selection;if(t.item instanceof Yr||t.item instanceof la)o.wrap(a.getFirstRange(),r);else{let c=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(c=o.unwrap(c,s)),t.attributeNewValue!==null&&r&&o.wrap(c,r)}}}function XB(n,e=wI){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;e(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),L8(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function JB(n,e){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(bI(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;yI(i.item,r,s),e(i.item,s.consumable);const a=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(a,o),s.convertAttributes(i.item),vI(o,r,s,{reconversion:i.reconversion})}}function QB(n){return(e,t,i)=>{t.isOpening=!0;const s=n(t,i);t.isOpening=!1;const r=n(t,i);if(!s||!r)return;const o=t.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const h of o)if(!i.consumable.consume(h.item,e.name))return;const a=i.mapper,c=i.writer;c.insert(a.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,t.markerName),o.isCollapsed||(c.insert(a.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}function ZB(){return(n,e,t)=>{const i=t.mapper.markerNameToElements(e.markerName);if(i){for(const s of i)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function eI(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=t.markerRange;i.consumable.consume(r,e.name)&&(n3(r,!1,i,t,s),n3(r,!0,i,t,s),e.stop())}}function n3(n,e,t,i,s){const r=e?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let h,f;e&&o||!e&&!a?(h=o,f=!0):(h=a,f=!1);const p=t.mapper.toViewElement(h);if(p){tI(p,e,f,t,i,s);return}}const c=t.mapper.toViewPosition(r);nI(c,e,t,i,s)}function tI(n,e,t,i,s,r){const o=`data-${r.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(r.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function nI(n,e,t,i,s){const r=`${s.group}-${e?"start":"end"}`,o=s.name?{name:s.name}:null,a=t.writer.createUIElement(r,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function iI(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(t.markerName);if(!r)return;for(const a of r)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,c){if(c.hasAttribute(a)){const h=new Set(c.getAttribute(a).split(","));h.delete(s.name),h.size==0?i.writer.removeAttribute(a,c):i.writer.setAttribute(a,Array.from(h).join(","),c)}}}}function sI(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.mapper.toViewElement(t.item),a=i.writer;if(!o)throw new fe("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&s){let c=s.value;s.key=="style"&&(typeof s.value=="string"?c=new Vg(a.document.stylesProcessor).setTo(s.value).getStylesEntries().map(([h])=>h):c=Object.keys(s.value)),a.removeAttribute(s.key,c,o)}if(t.attributeNewValue!==null&&r){let c=r.value;r.key=="style"&&typeof r.value=="string"&&(c=Object.fromEntries(new Vg(a.document.stylesProcessor).setTo(r.value).getStylesEntries())),a.setAttribute(r.key,c,!1,o)}}}function rI(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof Yr||t.item instanceof la)&&!t.item.is("$textProxy"))return;const s=a5(n,t,i);if(!s||!i.consumable.consume(t.item,e.name))return;const r=i.writer,o=E8(r,s),a=r.document.selection;if(t.item instanceof Yr||t.item instanceof la)r.wrap(a.getFirstRange(),o);else{const c=i.mapper.toViewRange(t.range),h=r.wrap(c,o);for(const f of h.getItems())if(f.is("attributeElement")&&f.isSimilar(o)){i.mapper.bindElementToMarker(f,t.markerName);break}}}}function oI(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof Qn))return;const s=a5(n,t,i);if(!s||!i.consumable.test(t.item,e.name))return;const r=i.mapper.toViewElement(t.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(const a of Me._createIn(t.item))i.consumable.consume(a.item,e.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,t.markerName)}}}function aI(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;const s=a5(n,t,i);if(!s)return;const r=E8(i.writer,s),o=i.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function lI(n){const e=T8(n.model),t=fm(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,XB(t,O8(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",M8(e),{priority:"low"})}}function cI(n){const e=T8(n.model),t=fm(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new fe("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,JB(t,O8(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",M8(e),{priority:"low"})}}function uI(n){n=Nr(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=fm(n.view[s],"attribute");else n.view=fm(n.view,"attribute");const i=P8(n);return s=>{s.on(t,YB(i),{priority:n.converterPriority||"normal"})}}function hI(n){n=Nr(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=i3(n.view[s]);else n.view=i3(n.view);const i=P8(n);return s=>{s.on(t,sI(i),{priority:n.converterPriority||"normal"})}}function dI(n){const e=fm(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,QB(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,ZB(),{priority:n.converterPriority||"normal"})}}function fI(n){n=Nr(n);const e=n.model;let t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,eI(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,iI(t),{priority:n.converterPriority||"normal"})}}function gI(n){return e=>{e.on(`addMarker:${n.model}`,rI(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,oI(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,aI(n.view),{priority:n.converterPriority||"normal"})}}function T8(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Zr(n.attributes):[],children:!!n.children}}function fm(n,e){return typeof n=="function"?n:(t,i)=>mI(n,i,e)}function mI(n,e,t){typeof n=="string"&&(n={name:n});let i;const s=e.writer,r=Object.assign({},n.attributes);if(t=="container")i=s.createContainerElement(n.name,r);else if(t=="attribute"){const o={priority:n.priority||qd.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const a of o)s.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const a of o)s.addClass(a,i)}return i}function P8(n){return n.model.values?(e,t,i)=>{const s=n.view[e];return s?s(e,t,i):null}:n.view}function i3(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function a5(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function pI(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function M8(n){const e=pI(n);return(t,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!e(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=We._createBefore(o);let c=s.length;for(let h=s.length-1;h>=0;h--){const f=s[h],v=(f.type=="attribute"?f.range.start:f.position).compareWith(a);if(v=="before"||f.type=="remove"&&v=="same")break;c=h}s.splice(c,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=s}}function O8(n){return(e,t,i={})=>{const s=["insert"];for(const r of n.attributes)e.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>t.test(e,r))?(i.preflight||s.forEach(r=>t.consume(e,r)),!0):!1}}function bI(n,e,t){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(a=>s(a));else throw new fe("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(r,o),r}}function yI(n,e,t){const i=Array.from(e.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new fe("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(s.size!=n.childCount)throw new fe("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function vI(n,e,t,i){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of e)L8(n,r,t,i),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",o);function o(a,c){const h=c.modelPosition.nodeAfter,f=r.indexOf(h);f<0||(c.viewPosition=c.mapper.findPositionIn(s,f))}}function L8(n,e,t,i){for(const s of e)xI(n.root,s,t,i)||t.convertItem(s)}function xI(n,e,t,i){const{writer:s,mapper:r}=t;if(!i.reconversion)return!1;const o=r.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(We._createBefore(e))),!0)}function wI(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function R8(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function D8(n,e,t){const i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function j8(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}class _I extends A8{elementToElement(e){return this.add(F8(e))}elementToAttribute(e){return this.add(AI(e))}attributeToAttribute(e){return this.add(CI(e))}elementToMarker(e){return this.add(NI(e))}dataToMarker(e){return this.add(EI(e))}}function s3(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=s}}}function SI(){return(n,e,{schema:t,consumable:i,writer:s})=>{let r=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(r,"$text")){if(!D8(r,"$text",t)||e.viewItem.data.trim().length==0)return;r=j8(r,s)}i.consume(e.viewItem);const o=s.createText(e.viewItem.data);s.insert(o,r),e.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function kI(n,e){return(t,i)=>{const s=i.newSelection,r=[];for(const a of s.getRanges())r.push(e.toModelRange(a));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function F8(n){n=Nr(n);const e=Vy(n),t=l5(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"normal"})}}function AI(n){n=Nr(n),B8(n);const e=I8(n,!1),t=l5(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"low"})}}function CI(n){n=Nr(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=MI(n)),B8(n,e);const t=I8(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function NI(n){const e=RI(n.model);return F8({...n,model:e})}function EI(n){n=Nr(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const e={view:n.view,model:n.model},t=Vy(r3(e,"start")),i=Vy(r3(e,"end"));return s=>{s.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=hh.low,o=hh.highest,a=hh.get(n.converterPriority)/o;s.on("element",TI(e),{priority:r+a})}}function TI(n){return(e,t,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const c of a){const h=n.model(c,i),f=i.writer.createElement("$marker",{"data-name":h});i.writer.insert(f,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function l5(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Vy(n){const e=new cm(n.view);return(t,i,s)=>{const r=e.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const a=PI(n.model,i.viewItem,s);a&&s.safeInsert(a,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i))}}function PI(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function MI(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return e=="class"||e=="style"?i={[e=="class"?"classes":"styles"]:t}:i={attributes:{[e]:t}},n.view.name&&(i.name=n.view.name),n.view=i,e}function B8(n,e=null){const t=e===null?!0:r=>r.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:s}}function I8(n,e){const t=new cm(n.view);return(i,s,r)=>{if(!s.modelRange&&e)return;const o=t.match(s.viewItem);if(!o||(OI(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=n.model.key,c=typeof n.model.value=="function"?n.model.value(s.viewItem,r,s):n.model.value;if(c==null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),LI(s.modelRange,{key:a,value:c},e,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function OI(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!l5(t)?!1:!t.classes&&!t.attributes&&!t.styles}function LI(n,e,t,i){let s=!1;for(const r of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(r,e.key)&&(s=!0,!r.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,r));return s}function RI(n){return(e,t)=>{const i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function r3(n,e){const t=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}class DI extends ss(){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new CB(t),this.mapper=new _8,this.downcastDispatcher=new S8({mapper:this.mapper,schema:e.schema});const i=this.model.document,s=i.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(i.differ,r,o),this.downcastDispatcher.convertSelection(s,r,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",kI(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",C8(),{priority:"lowest"}),this.downcastDispatcher.on("insert",N8(),{priority:"lowest"}),this.downcastDispatcher.on("remove",WB(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",KB()),this.downcastDispatcher.on("selection",GB(),{priority:"low"}),this.downcastDispatcher.on("selection",$B(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new l8(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new fe("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class jI extends ss(){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new ru(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new ru(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new fe("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new fe("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){const i=this.getDefinition(e.last);if(!i)return!1;const s=this._evaluateAttributeChecks(e,t);return s!==void 0?s:i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof We){const i=e.nodeBefore,s=e.nodeAfter;if(!(i instanceof Qn))throw new fe("schema-check-merge-no-element-before",this);if(!(s instanceof Qn))throw new fe("schema-check-merge-no-element-after",this);return this.checkMerge(i,s)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e,t){const i=t!==void 0?t:this._genericCheckSymbol,s=this._customChildChecks.get(i)||[];s.push(e),this._customChildChecks.set(i,s)}addAttributeCheck(e,t){const i=t!==void 0?t:this._genericCheckSymbol,s=this._customAttributeChecks.get(i)||[];s.push(e),this._customAttributeChecks.set(i,s)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof We?t=e.parent:t=(e instanceof Me?[e]:Array.from(e.getRanges())).reduce((s,r)=>{const o=r.getCommonAncestor();return s?s.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Zn("",e.getAttributes())];return this.checkAttribute(s,t)}else{const i=e.getRanges();for(const s of i)for(const r of s)if(this.checkAttribute(r.item,t))return!0}return!1}*getValidRanges(e,t){e=QI(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Me(e);let i,s;const r=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(i=new Gl({boundaries:Me._createIn(r),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new Gl({boundaries:Me._createIn(r),startPosition:e}));for(const o of JI(i,s)){const a=o.walker==i?"elementEnd":"elementStart",c=o.value;if(c.type==a&&this.isObject(c.item))return Me._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new Me(c.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const s=i.model;for(const[r,o]of Object.entries(t))s.schema.checkAttribute(e,r)&&i.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))o3(this,i,t);else{const r=Me._createIn(i).getPositions();for(const o of r){const a=o.nodeBefore||o.parent;o3(this,a,t)}}}getAttributesWithProperty(e,t,i){const s={};for(const[r,o]of e.getAttributes()){const a=this.getAttributeProperties(r);a[t]!==void 0&&(i===void 0||i===a[t])&&(s[r]=o)}return s}createContext(e){return new ru(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const r of i)e[r]=FI(t[r],r);const s=Object.values(e);for(const r of s)BI(e,r),II(e,r),zI(e,r),VI(e,r);for(const r of s)UI(e,r);for(const r of s)qI(e,r);for(const r of s)HI(e,r);for(const r of s)GI(e,r);for(const r of s)$I(e,r);this._compiledDefinitions=WI(e)}_checkContextMatch(e,t){const i=e.last;let s=this._evaluateChildChecks(e,t);if(s=s!==void 0?s:t.allowIn.includes(i.name),!s)return!1;const r=this.getDefinition(i),o=e.trimLast();return r?o.length==0?!0:this._checkContextMatch(o,r):!1}_evaluateChildChecks(e,t){const i=this._customChildChecks.get(this._genericCheckSymbol)||[],s=this._customChildChecks.get(t.name)||[];for(const r of[...i,...s]){const o=r(e,t);if(o!==void 0)return o}}_evaluateAttributeChecks(e,t){const i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],s=this._customAttributeChecks.get(t)||[];for(const r of[...i,...s]){const o=r(e,t);if(o!==void 0)return o}}*_getValidRangesForRange(e,t){let i=e.start,s=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(Me._createIn(r),t)),this.checkAttribute(r,t)||(i.isEqual(s)||(yield new Me(i,s)),i=We._createAfter(r)),s=We._createAfter(r);i.isEqual(s)||(yield new Me(i,s))}findOptimalInsertionRange(e,t){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return t=="before"||t=="after"?new Me(We._createAt(i,t)):Me._createOn(i);const s=Om(e.getSelectedBlocks());if(!s)return new Me(e.focus);if(s.isEmpty)return new Me(We._createAt(s,0));const r=We._createAfter(s);return e.focus.isTouching(r)?new Me(r):new Me(We._createBefore(s))}}class ru{_items;constructor(e){if(e instanceof ru)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(XI)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ru([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new ru([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function FI(n,e){const t={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return KI(n,t),Ia(n,t,"allowIn"),Ia(n,t,"allowChildren"),Ia(n,t,"disallowIn"),Ia(n,t,"disallowChildren"),Ia(n,t,"allowContentOf"),Ia(n,t,"allowWhere"),Ia(n,t,"allowAttributes"),Ia(n,t,"disallowAttributes"),Ia(n,t,"allowAttributesOf"),Ia(n,t,"inheritTypesFrom"),YI(n,t),t}function BI(n,e){for(const t of e.allowIn){const i=n[t];i?i.allowChildren.add(e.name):e.allowIn.delete(t)}}function II(n,e){for(const t of e.allowChildren){const i=n[t];i?i.allowIn.add(e.name):e.allowChildren.delete(t)}}function zI(n,e){for(const t of e.disallowIn){const i=n[t];i?i.disallowChildren.add(e.name):e.disallowIn.delete(t)}}function VI(n,e){for(const t of e.disallowChildren){const i=n[t];i?i.disallowIn.add(e.name):e.disallowChildren.delete(t)}}function UI(n,e){for(const t of e.disallowChildren)e.allowChildren.delete(t);for(const t of e.disallowIn)e.allowIn.delete(t);for(const t of e.disallowAttributes)e.allowAttributes.delete(t)}function qI(n,e){for(const t of e.allowContentOf){const i=n[t];i&&(i.disallowChildren.forEach(s=>{e.allowChildren.has(s)||(e.disallowChildren.add(s),n[s].disallowIn.add(e.name))}),i.allowChildren.forEach(s=>{e.disallowChildren.has(s)||(e.allowChildren.add(s),n[s].allowIn.add(e.name))}))}}function HI(n,e){for(const t of e.allowWhere){const i=n[t];i&&(i.disallowIn.forEach(s=>{e.allowIn.has(s)||(e.disallowIn.add(s),n[s].disallowChildren.add(e.name))}),i.allowIn.forEach(s=>{e.disallowIn.has(s)||(e.allowIn.add(s),n[s].allowChildren.add(e.name))}))}}function WI(n){const e={};for(const t of Object.values(n))e[t.name]={name:t.name,isBlock:!!t.isBlock,isContent:!!t.isContent,isInline:!!t.isInline,isLimit:!!t.isLimit,isObject:!!t.isObject,isSelectable:!!t.isSelectable,allowIn:Array.from(t.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(t.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(t.allowAttributes)};return e}function GI(n,e){for(const t of e.allowAttributesOf){const i=n[t];if(!i)return;i.allowAttributes.forEach(s=>{e.disallowAttributes.has(s)||e.allowAttributes.add(s)})}}function $I(n,e){for(const t of e.inheritTypesFrom){const i=n[t];if(i){const s=Object.keys(i).filter(r=>r.startsWith("is"));for(const r of s)r in e||(e[r]=i[r])}}}function KI(n,e){for(const t of n){const i=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of i)e[s]=!!t[s]}}function Ia(n,e,t){for(const i of n){let s=i[t];typeof s=="string"&&(s=[s]),Array.isArray(s)&&s.forEach(r=>e[t].add(r))}}function YI(n,e){for(const t of n){const i=t.inheritAllFrom;i&&(e.allowContentOf.add(i),e.allowWhere.add(i),e.allowAttributesOf.add(i),e.inheritTypesFrom.add(i))}}function XI(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*JI(n,e){let t=!1;for(;!t;){if(t=!0,n){const i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){const i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*QI(n){for(const e of n)yield*e.getMinimalFlatRanges()}function o3(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}class ZI extends Gn(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=tz(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=J0.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(s){this._removeEmptyElements();const o=this._modelCursor.parent,a=o._removeChildren(0,o.childCount);r._insertChild(0,a),r.markers=ez(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Me))throw new fe("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:We._createAt(t,0);const s=new Me(i);for(const r of Array.from(e.getChildren())){const o=this._convertItem(r,i);o.modelRange instanceof Me&&(s.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:s,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){const i=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(i[i.length-1])));const r=this._cursorParents.get(e);r?t.modelCursor=s.createPositionAt(r,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:s}=this.conversionApi;let r=i.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return D8(t,e,i)?{position:j8(t,s)}:null;const o=this.conversionApi.writer.split(t,r),a=[];for(const h of o.range.getWalker())if(h.type=="elementEnd")a.push(h.item);else{const f=a.pop(),p=h.item;this._registerSplitPair(f,p)}const c=o.range.end.parent;return this._cursorParents.set(e,c),{position:o.position,cursorParent:c}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const t of this._splitParts.keys())if(t.isEmpty&&!this._emptyElementsToKeep.has(t)){const i=e.get(t.parent)||[];i.push(t),this._splitParts.delete(t),e.set(t.parent,i)}for(const[t,i]of e)t._removeChildrenArray(i);e.size&&this._removeEmptyElements()}}function ez(n,e){const t=new Set,i=new Map,s=Me._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&t.add(r);for(const r of t){const o=r.getAttribute("data-name"),a=e.createPositionBefore(r);i.has(o)?i.get(o).end=a.clone():i.set(o,new Me(a.clone())),e.remove(r)}return i}function tz(n,e){let t;for(const i of new ru(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=e.createElement(i.name,s);t&&e.insert(r,t),t=We._createAt(r,0)}return t}class nz{getHtml(e){const i=it.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class iz{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new p8(e,{renderingMode:"data"}),this.htmlWriter=new nz}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}class sz extends Gn(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new _8,this.downcastDispatcher=new S8({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",C8(),{priority:"lowest"}),this.downcastDispatcher.on("insert",N8(),{priority:"lowest"}),this.upcastDispatcher=new ZI({schema:e.schema}),this.viewDocument=new u8(t),this.stylesProcessor=t,this.htmlProcessor=new iz(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new h8(this.viewDocument),this.upcastDispatcher.on("text",SI(),{priority:"lowest"}),this.upcastDispatcher.on("element",s3(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",s3(),{priority:"lowest"}),ss().prototype.decorate.call(this,"init"),ss().prototype.decorate.call(this,"set"),ss().prototype.decorate.call(this,"get"),ss().prototype.decorate.call(this,"toView"),ss().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},R8)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new fe("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||Mi("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const r=Me._createIn(e),o=new Hd(i);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:rz(e);return this.downcastDispatcher.convert(r,a,s,t),o}init(e){if(this.model.document.version)throw new fe("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new fe("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const s of Object.keys(t)){const r=this.model.document.getRoot(s);i.insert(this.parse(t[s],r),r,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new fe("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.remove(s.createRangeIn(o)),s.insert(this.parse(i[r],o),o,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function rz(n){const e=[],t=n.root.document;if(!t)return new Map;const i=Me._createIn(n);for(const s of t.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&a)e.push([s.name,r]);else{const c=i.getIntersection(r);c&&e.push([s.name,c])}}return e.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(e)}class oz{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Zr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Zr(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new fe("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new fe("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of Cb(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of Cb(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of Cb(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new fe("conversion-group-exists",this);const s=i?new HB(t):new _I(t);this._helpers.set(e,s)}}function*Cb(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],s=n.upcastAlso?n.upcastAlso[e]:void 0;yield*a3(t,i,s)}else yield*a3(n.model,n.view,n.upcastAlso)}function*a3(n,e,t){if(yield{model:n,view:e},t)for(const i of Zr(t))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class eo{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function c5(n,e){const t=V8(e),i=t.reduce((o,a)=>o+a.offsetSize,0),s=n.parent;pm(n);const r=n.index;return s._insertChild(r,t),mm(s,r+t.length),mm(s,r),new Me(n,n.getShiftedBy(i))}function z8(n){if(!n.isFlat)throw new fe("operation-utils-remove-range-not-flat",this);const e=n.start.parent;pm(n.start),pm(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return mm(e,n.start.index),t}function gm(n,e){if(!n.isFlat)throw new fe("operation-utils-move-range-not-flat",this);const t=z8(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),c5(e,t)}function az(n,e,t){pm(n.start),pm(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;t!==null?s._setAttribute(e,t):s._removeAttribute(e),mm(s.parent,s.index)}mm(n.end.parent,n.end.index)}function V8(n){const e=[];function t(i){if(typeof i=="string")e.push(new Zn(i));else if(i instanceof aa)e.push(new Zn(i.data,i.getAttributes()));else if(i instanceof Eh)e.push(i);else if(Qr(i))for(const s of i)t(s)}t(n);for(let i=1;i<e.length;i++){const s=e[i],r=e[i-1];s instanceof Zn&&r instanceof Zn&&U8(s,r)&&(e.splice(i-1,2,new Zn(r.data+s.data,r.getAttributes())),i--)}return e}function mm(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&U8(t,i)){const s=new Zn(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,s)}}function pm(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const r=new Zn(e.data.substr(0,i),e.getAttributes()),o=new Zn(e.data.substr(i),e.getAttributes());t._insertChild(s,[r,o])}}function U8(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}return i.next().done}class kn extends eo{sourcePosition;howMany;targetPosition;constructor(e,t,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName==this.sourcePosition.root.rootName?"move":this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Me._createFromPositionAndShift(this.sourcePosition,this.howMany),Me._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new kn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new kn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,s=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new fe("move-operation-nodes-do-not-exist",this);if(e===t&&i<s&&s<i+this.howMany)throw new fe("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&cr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=i&&this.targetPosition.path[r]<i+this.howMany)throw new fe("move-operation-node-into-itself",this)}}_execute(){gm(Me._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=We.fromJSON(e.sourcePosition,t),s=We.fromJSON(e.targetPosition,t);return new this(i,e.howMany,s,e.baseVersion)}}class ws extends eo{position;nodes;shouldReceiveAttributes;constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new qg(V8(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new qg([...this.nodes].map(i=>i._clone(!0))),t=new ws(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new We(e,[0]);return new kn(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new fe("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new qg([...e].map(t=>t._clone(!0))),c5(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const r of e.nodes)r.name?i.push(Qn.fromJSON(r)):i.push(Zn.fromJSON(r));const s=new ws(We.fromJSON(e.position,t),i,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class zn extends eo{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,i,s,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new We(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Me(this.splitPosition,e)}get affectedSelectable(){const e=[Me._createFromPositionAndShift(this.splitPosition,0),Me._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Me._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new zn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new We(e,[0]);return new Ti(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new fe("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new fe("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new fe("split-operation-graveyard-position-invalid",this)}else throw new fe("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)gm(Me._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();c5(this.insertionPosition,i)}const t=new Me(We._createAt(e,this.splitPosition.offset),We._createAt(e,e.maxOffset));gm(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new We(e.root,t,"toPrevious")}static fromJSON(e,t){const i=We.fromJSON(e.splitPosition,t),s=We.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?We.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,s,r,e.baseVersion)}}class Ti extends eo{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,i,s,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new We(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Me(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Me._createOn(e),Me._createFromPositionAndShift(this.targetPosition,0),Me._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Ti(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new We(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new zn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new fe("merge-operation-how-many-invalid",this)}else throw new fe("merge-operation-target-position-invalid",this);else throw new fe("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=Me._createIn(e);gm(t,this.targetPosition),gm(Me._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=We.fromJSON(e.sourcePosition,t),s=We.fromJSON(e.targetPosition,t),r=We.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,s,r,e.baseVersion)}}class hr extends eo{name;oldRange;newRange;affectsData;_markers;constructor(e,t,i,s,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=r,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new hr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new hr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new hr(e.name,e.oldRange?Me.fromJSON(e.oldRange,t):null,e.newRange?Me.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class Wi extends eo{range;key;oldValue;newValue;constructor(e,t,i,s,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Wi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Wi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new fe("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!y4(e.getAttribute(this.key),this.oldValue))throw new fe("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new fe("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){y4(this.oldValue,this.newValue)||az(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Wi(Me.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class as extends eo{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new as(this.baseVersion)}getReversed(){return new as(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Cr extends eo{position;oldName;newName;constructor(e,t,i,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Cr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Cr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Qn){if(e.name!==this.oldName)throw new fe("rename-operation-wrong-name",this)}else throw new fe("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Cr(We.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Xl extends eo{root;key;oldValue;newValue;constructor(e,t,i,s,r){super(r),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Xl(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Xl(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new fe("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new fe("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new fe("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new fe("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Xl(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ja extends eo{rootName;elementName;isAdd;_document;constructor(e,t,i,s,r){if(super(r),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=s,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ja(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ja(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Ja(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Eo={};Eo[Wi.className]=Wi;Eo[ws.className]=ws;Eo[hr.className]=hr;Eo[kn.className]=kn;Eo[as.className]=as;Eo[eo.className]=eo;Eo[Cr.className]=Cr;Eo[Xl.className]=Xl;Eo[Ja.className]=Ja;Eo[zn.className]=zn;Eo[Ti.className]=Ti;class lz{static fromJSON(e,t){return Eo[e.__className].fromJSON(e,t)}}const Uy=new Map;function yn(n,e,t){let i=Uy.get(n);i||(i=new Map,Uy.set(n,i)),i.set(e,t)}function cz(n,e){const t=Uy.get(n);return t&&t.has(e)?t.get(e):uz}function uz(n){return[n]}function l3(n,e,t={}){const i=cz(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(s){throw s}}function hz(n,e,t){n=n.slice(),e=e.slice();const i=new dz(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const s=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:s};const r=new WeakMap;for(const c of n)r.set(c,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const c=n[a],h=r.get(c);if(h==e.length){a++;continue}const f=e[h],p=l3(c,f,i.getContext(c,f,!0)),v=l3(f,c,i.getContext(f,c,!1));i.updateRelation(c,f),i.setOriginalOperations(p,c),i.setOriginalOperations(v,f);for(const y of p)r.set(y,h+v.length);n.splice(a,1,...p),e.splice(h,1,...v)}return u3(n),u3(e),c3(n,o.nextBaseVersionB),c3(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:s}}class dz{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,i||s)}updateRelation(e,t){if(e instanceof kn)t instanceof Ti?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)?this._setRelation(e,t,"moveTargetAfter"):e.howMany>1&&e.sourcePosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"firstToMoveMerged"):e.howMany>1&&e.sourcePosition.getShiftedBy(e.howMany-1).isEqual(t.deletionPosition)&&this._setRelation(e,t,"lastToMoveMerged"):t instanceof kn&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof zn){if(t instanceof Ti)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof kn)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=Me._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const s=i.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:s,offset:r})}}}else if(e instanceof Ti)t instanceof Ti?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof zn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof kn&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof hr){const i=e.newRange;if(!i)return;if(t instanceof Ti){const s=i.start.isEqual(t.targetPosition),r=i.start.isEqual(t.deletionPosition),o=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(s||r||o||a)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(e,t,i){const s=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function c3(n,e){for(const t of n)t.baseVersion=e++}function u3(n){const e=new Map;for(let t=0;t<n.length;t++){const i=n[t];i instanceof hr&&(i.baseVersion!==-1?e.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&e.get(i.name).ranges.push(i.newRange),n.splice(t,1),t--))}for(const{op:t,ranges:i}of e.values())i.length?t.newRange=Me._createFromRanges(i):t.newRange=null}yn(Wi,Wi,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(r=>new Wi(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(e.range);return s&&t.aIsStrong&&i.push(new Wi(s,e.key,e.newValue,n.newValue,0)),i.length==0?[new as(0)]:i}else return[n]});yn(Wi,ws,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Wi(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const s=q8(e,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function q8(n,e,t){const s=n.nodes.getNode(0).getAttribute(e);if(s==t)return null;const r=new Me(n.position,n.position.getShiftedBy(n.howMany));return new Wi(r,e,s,t,0)}yn(Wi,Ti,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(Me._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(s=>new Wi(s,n.key,n.oldValue,n.newValue,n.baseVersion))});yn(Wi,kn,(n,e)=>fz(n.range,e).map(i=>new Wi(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function fz(n,e){const t=Me._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,s=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(s=n.getDifference(t),i=n.getIntersection(t)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),c=o.start.hasSameParentAs(a),h=o._getTransformedByInsertion(a,e.howMany,c);r.push(...h)}return i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}yn(Wi,zn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new Me(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});yn(ws,Wi,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=q8(n,e.key,e.newValue);i&&t.push(i)}return t});yn(ws,ws,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));yn(ws,kn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));yn(ws,zn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));yn(ws,Ti,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));yn(hr,ws,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));yn(hr,hr,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new as(0)];return[n]});yn(hr,Ti,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));yn(hr,kn,(n,e)=>{const t=[n];if(n.oldRange&&(n.oldRange=Me._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(e);n.newRange=i[0];for(let s=1;s<i.length;s++){const r=n.clone();r.oldRange=null,r.newRange=i[s],r.baseVersion=-1,t.push(r)}}return t});yn(hr,zn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)?t.abRelation.wasStartBeforeMergedElement?n.newRange.start=We._createAt(e.insertionPosition):t.abRelation.wasInLeftElement?n.newRange.start=We._createAt(n.newRange.start):n.newRange.start=We._createAt(e.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(e.splitPosition)?n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=We._createAt(e.insertionPosition):t.abRelation.wasInRightElement?n.newRange.end=We._createAt(e.moveTargetPosition):n.newRange.end=We._createAt(n.newRange.end):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});yn(Ti,ws,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));yn(Ti,Ti,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new We(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new as(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const c=e.targetPosition._getTransformedByMergeOperation(e),h=n.targetPosition._getTransformedByMergeOperation(e);return[new kn(c,n.howMany,h,0)]}else return[new as(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});yn(Ti,kn,(n,e,t)=>{const i=Me._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new as(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});yn(Ti,zn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition)||t.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n];if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});yn(kn,ws,(n,e)=>{const i=Me._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});yn(kn,kn,(n,e,t)=>{const i=Me._createFromPositionAndShift(n.sourcePosition,n.howMany),s=Me._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),h3(n,e)&&h3(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),zd([i],a);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),zd([i],a);const f=cr(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),zd([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?r=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(r=!1);const p=[],v=i.getDifference(s);for(const k of v){k.start=k.start._getTransformedByDeletion(e.sourcePosition,e.howMany),k.end=k.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const A=cr(k.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",N=k._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,A);p.push(...N)}const y=i.getIntersection(s);return y!==null&&r&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),p.length===0?p.push(y):p.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?p.unshift(y):p.push(y):p.splice(1,0,y)),p.length===0?[new as(n.baseVersion)]:zd(p,a)});yn(kn,zn,(n,e,t)=>{let i=n.targetPosition.clone();if((!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e)),n.sourcePosition.isEqual(e.insertionPosition)&&t.abRelation=="firstToMoveMerged")return n.howMany++,n.targetPosition=i,[n];const s=Me._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(e.insertionPosition))return(!e.graveyardPosition||t.abRelation=="lastToMoveMerged")&&n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let a=new Me(e.splitPosition,s.end);a=a._getTransformedBySplitOperation(e);const c=[new Me(s.start,e.splitPosition),a];return zd(c,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(Me._createFromPositionAndShift(e.insertionPosition,1))}return zd(o,i)});yn(kn,Ti,(n,e,t)=>{const i=Me._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),c=e.targetPosition._getTransformedByMergeOperation(e);const h=n.targetPosition.getTransformedByOperation(e);n.howMany>1&&(o.push(new kn(n.sourcePosition,n.howMany-1,h,0)),a=a._getTransformedByMove(n.sourcePosition,h,n.howMany-1),c=c._getTransformedByMove(n.sourcePosition,h,n.howMany-1));const f=e.deletionPosition._getCombined(n.sourcePosition,h),p=new kn(a,1,f,0),v=p.getMovedRangeStart().path.slice();v.push(0);const y=new We(p.targetPosition.root,v);c=c._getTransformedByMove(a,f,1);const k=new kn(c,e.howMany,y,0);return o.push(p),o.push(k),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new as(0)]}const r=Me._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});yn(Cr,ws,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));yn(Cr,Ti,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));yn(Cr,kn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));yn(Cr,Cr,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new as(0)];return[n]});yn(Cr,zn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if(cr(t,i)=="same"&&!e.graveyardPosition){const s=new Cr(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});yn(Xl,Xl,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new as(0)];n.oldValue=e.newValue}return[n]});yn(Ja,Ja,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new as(0)]:[n]);yn(zn,ws,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));yn(zn,Ti,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const s=new We(e.graveyardPosition.root,i),r=zn.getInsertionPosition(new We(e.graveyardPosition.root,i)),o=new zn(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=zn.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=zn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});yn(zn,kn,(n,e,t)=>{const i=Me._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),c=a.path.slice();c.push(0);const h=new We(a.root,c);return[new kn(o,n.howMany,h,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const s=n.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=zn.getInsertionPosition(n.splitPosition),[n];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:r,offset:o}=t.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=zn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=zn.getInsertionPosition(n.splitPosition),[n]});yn(zn,zn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new as(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new as(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const c=[];return e.howMany&&c.push(new kn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&c.push(new kn(n.splitPosition,n.howMany,n.moveTargetPosition,0)),c}else return[new as(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const s=new We(e.insertionPosition.root,i),r=new kn(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=zn.getInsertionPosition(n.splitPosition),[n]});function h3(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function zd(n,e){const t=[];for(let i=0;i<n.length;i++){const s=n[i],r=new kn(s.start,s.end.offset-s.start.offset,e,0);t.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return t}class Gs extends Gn(We){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new fe("model-liveposition-root-not-rootelement",e);gz.call(this)}detach(){this.stopListening()}toPosition(){return new We(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Gs.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function gz(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&mz.call(this,t)},{priority:"low"})}function mz(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Ad{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Mi("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=s,this.isTyping=r}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}class e1{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const r=Me._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const o of r.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=Me._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const i=t.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,t.splitPosition.offset,t.howMany);const s=Me._createFromPositionAndShift(t.splitPosition,t.howMany);for(const r of s.getItems({shallow:!0}))this._setElementState(r,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1),this._setElementState(i,"move");const r=t.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,t.targetPosition.offset,i.maxOffset);const o=Me._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=i:(s={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,s=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(i||s||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((f,p)=>f.offset===p.offset?f.type!=p.type?f.type=="remove"?-1:1:0:f.offset<p.offset?-1:1),r=this._elementChildrenSnapshots.get(i),o=f3(i.getChildren()),a=pz(r.length,s);let c=0,h=0;for(const f of a)if(f==="i"){const p=this._getDiffActionForNode(o[c].node,"insert"),v=this._elementsSnapshots.get(o[c].node),y=this._getInsertDiff(i,c,p,o[c],v);t.push(y),c++}else if(f==="r"){const p=this._getDiffActionForNode(r[h].node,"remove"),v=this._getRemoveDiff(i,c,p,r[h]);t.push(v),h++}else if(f==="a"){const p=r[h].attributes,v=o[c].attributes;let y;if(o[c].name=="$text")y=new Me(We._createAt(i,c),We._createAt(i,c+1));else{const A=i.offsetToIndex(c);y=new Me(We._createAt(i,c),We._createAt(i.getChild(A),0))}const k=this._getAttributesDiff(y,p,v);t.push(...k),c++,h++}else c++,h++}t.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<t.length;i++){const r=t[s],o=t[i],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),c=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,h=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||c||h?(r.length++,h&&(r.range.end=r.range.end.getShiftedBy(1)),t[i]=null):s=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(bz),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=Me._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const i=t.getData();this.bufferMarkerChange(t.name,{...i,range:null},i)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,s){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const a=o[t];s===a.oldValue?delete o[t]:a.newValue=s}else o[t]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_setElementState(e,t){if(!e.is("element"))return;const i=e1._statesPriority.indexOf(this._elementState.get(e));e1._statesPriority.indexOf(t)>i&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element")||!this._elementsSnapshots.has(e))return t;const i=this._elementState.get(e);return!i||i=="move"?t:i}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=f3(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const i of t)this._elementsSnapshots.set(i.node,i)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const s=e.offset+e.howMany,r=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<r&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<r){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=e.howMany;else if(s<=r)if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o,e.nodesToHandle-=o}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<r){const o=r-e.offset;i.howMany-=o,e.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o}else if(e.offset<r)if(s<=r){const o=i.howMany;i.howMany=e.offset-i.offset;const a=o-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<r&&(s>r?(e.nodesToHandle=s-r,e.offset=r):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&s<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&s>=r&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i,s,r){const o={type:"insert",position:We._createAt(e,t),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&r&&(o.before={name:r.name,attributes:new Map(r.attributes)}),o}_getRemoveDiff(e,t,i,s){return{type:"remove",action:i,position:We._createAt(e,t),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const s=[];i=new Map(i);for(const[r,o]of t){const a=i.has(r)?i.get(r):null;a!==o&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),s=e.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const s=new Me(We._createAt(e,t),We._createAt(e,t+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function d3(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function f3(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;++i)e.push(d3(t));else e.push(d3(t));return e}function pz(n,e){const t=[];let i=0,s=0;for(const r of e){if(r.offset>i){for(let o=0;o<r.offset-i;o++)t.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)t.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)t.push("r");i=r.offset,s+=r.howMany}else{if(r.howMany>1500)for(let o=0;o<r.howMany;o++)t.push("a");else t.push(..."a".repeat(r.howMany).split(""));i=r.offset+r.howMany,s+=r.howMany}}if(s<n)for(let r=0;r<n-s-i;r++)t.push("e");return t}function bz(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class yz{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new fe("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let s=t-1;for(const[a,c]of this._gaps)e>a&&e<c&&(e=c),s>a&&s<c&&(s=a-1);if(s<i.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class t1 extends Qn{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,i="main"){super(t),this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}t1.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const g3="$graveyard";class vz extends Gn(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new yz,this.selection=new la(this),this.roots=new ff({idProperty:"rootName"}),this.differ=new e1(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",g3),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,s,r,o)=>{const a={...i.getData(),range:r};this.differ.bufferMarkerChange(i.name,o,a),s===null&&i.on("change",(c,h)=>{const f=i.getData();this.differ.bufferMarkerChange(i.name,{...f,range:h},f)})}),this.registerPostFixer(t=>{let i=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),i=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(g3)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new fe("model-document-createroot-name-exists",this,{name:t});const i=new t1(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=QD(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,s=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&m3(e.start)&&m3(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function m3(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!e5(t,i)&&!t5(t,i)}return!0}class xz extends Gn(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Rd?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,s=!1){const r=e instanceof Rd?e.name:e;if(r.includes(","))throw new fe("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const h=o.getData(),f=o.getRange();let p=!1;return f.isEqual(t)||(o._attachLiveRange(Ao.fromRange(t)),p=!0),i!=o.managedUsingOperations&&(o._managedUsingOperations=i,p=!0),typeof s=="boolean"&&s!=o.affectsData&&(o._affectsData=s,p=!0),p&&this.fire(`update:${r}`,o,f,t,h),o}const a=Ao.fromRange(t),c=new Rd(r,a,i,s);return this._markers.set(r,c),this.fire(`update:${r}`,c,null,t,{...c.getData(),range:null}),c}_remove(e){const t=e instanceof Rd?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const t=e instanceof Rd?e.name:e,i=this._markers.get(t);if(!i)throw new fe("markercollection-refresh-marker-not-exists",this);const s=i.getRange();this.fire(`update:${t}`,i,s,s,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Rd extends Gn(mu){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,i,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new fe("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new fe("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new fe("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new fe("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new fe("marker-destroyed",this);return this._liveRange.toRange()}toJSON(){return{name:this.name,range:this._liveRange?.toJSON(),usingOperations:this._managedUsingOperations,affectsData:this._affectsData}}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Rd.prototype.is=function(n){return n==="marker"||n==="model:marker"};class wz extends eo{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new fe("detach-operation-on-document-node",this)}_execute(){z8(Me._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ga extends mu{markers=new Map;_children=new qg;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(Qn.fromJSON(i)):t.push(Zn.fromJSON(i));return new Ga(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=_z(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}}Ga.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function _z(n){return typeof n=="string"?[new Zn(n)]:(Qr(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Zn(e):e instanceof aa?new Zn(e.data,e.getAttributes()):e))}class Sz{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Zn(e,t)}createElement(e,t){return new Qn(e,t)}createDocumentFragment(){return new Ga}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof Zn&&e.data=="")return;const s=We._createAt(t,i);if(e.parent)if(y3(e.root,s.root)){this.move(Me._createOn(e),s);return}else{if(e.root.document)throw new fe("model-writer-insert-forbidden-move",this);this.remove(e)}const r=s.root.document?s.root.document.version:null,o=e instanceof Ga?e._removeChildren(0,e.childCount):e,a=new ws(s,o,r);if(e instanceof Zn&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),e instanceof Ga)for(const[c,h]of e.markers){const f=We._createAt(h.root,0),v={range:new Me(h.start._getCombined(f,s),h.end._getCombined(f,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(c)?this.updateMarker(c,v):this.addMarker(c,v)}}insertText(e,t,i,s){t instanceof Ga||t instanceof Qn||t instanceof We?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,s)}insertElement(e,t,i,s){t instanceof Ga||t instanceof Qn||t instanceof We?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof Ga||t instanceof Qn?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof Ga||t instanceof Qn?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof Me){const s=i.getMinimalFlatRanges();for(const r of s)p3(this,e,t,r)}else b3(this,e,t,i)}setAttributes(e,t){for(const[i,s]of bh(e))this.setAttribute(i,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Me){const i=t.getMinimalFlatRanges();for(const s of i)p3(this,e,null,s)}else b3(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(e instanceof Me))t(e);else for(const i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Me))throw new fe("writer-move-invalid-range",this);if(!e.isFlat)throw new fe("writer-move-range-not-flat",this);const s=We._createAt(t,i);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!y3(e.root,s.root))throw new fe("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new kn(e.start,e.end.offset-e.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof Me?e:Me._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),kz(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Qn))throw new fe("writer-merge-no-element-before",this);if(!(i instanceof Qn))throw new fe("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(Me._createIn(i),We._createAt(t,"end")),this.remove(i)}_merge(e){const t=We._createAt(e.nodeBefore,"end"),i=We._createAt(e.nodeAfter,0),s=e.root.document.graveyard,r=new We(s,[0]),o=e.root.document.version,a=new Ti(i,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Qn))throw new fe("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,s=new Cr(We._createBefore(e),e.name,t,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new fe("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new fe("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,c=zn.getInsertionPosition(e),h=new zn(e,a,c,null,o);this.batch.addOperation(h),this.model.applyOperation(h),!s&&!r&&(s=i,r=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new Me(We._createAt(s,"end"),We._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new fe("writer-wrap-range-not-flat",this);const i=t instanceof Qn?t:new Qn(t);if(i.childCount>0)throw new fe("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new fe("writer-wrap-element-attached",this);this.insert(i,e.start);const s=new Me(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,We._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new fe("writer-unwrap-element-no-parent",this);this.move(Me._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new fe("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,s=t.range,r=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new fe("writer-addmarker-marker-exists",this);if(!s)throw new fe("writer-addmarker-no-range",this);return i?(pg(this,e,null,s,r),this.model.markers.get(e)):this.model.markers._set(e,s,i,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new fe("writer-updatemarker-marker-not-exists",this);if(!t){Mi("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:s.affectsData;if(!r&&!t.range&&!o)throw new fe("writer-updatemarker-wrong-options",this);const c=s.getRange(),h=t.range?t.range:c;if(r&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?pg(this,i,null,h,a):(pg(this,i,c,null,a),this.model.markers._set(i,h,void 0,a));return}s.managedUsingOperations?pg(this,i,c,h,a):this.model.markers._set(i,h,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new fe("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const s=i.getRange();pg(this,t,s,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new fe("writer-addroot-root-exists",this);const s=this.model.document,r=new Ja(e,t,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new fe("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===t&&this.removeMarker(r);for(const r of t.getAttributeKeys())this.removeAttribute(r,t);this.remove(this.createRangeIn(t));const i=this.model.document,s=new Ja(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,s]of bh(e))this._setSelectionAttribute(i,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=la._getStoreAttributeKey(e);this.setAttribute(s,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=la._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new fe("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(e==="move"){const o=t;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=t,a=o.nodeBefore,c=o.nodeAfter,h=s.start.parent==a&&s.start.isAtEnd,f=s.end.parent==c&&s.end.offset==0,p=s.end.nodeAfter==c,v=s.start.nodeAfter==c;r=h||f||p||v}r&&this.updateMarker(i.name,{range:s})}}}function p3(n,e,t,i){const s=n.model,r=s.document;let o=i.start,a,c,h;for(const p of i.getWalker({shallow:!0}))h=p.item.getAttribute(e),a&&c!=h&&(c!=t&&f(),o=a),a=p.nextPosition,c=h;a instanceof We&&a!=o&&c!=t&&f();function f(){const p=new Me(o,a),v=p.root.document?r.version:null,y=new Wi(p,e,c,t,v);n.batch.addOperation(y),s.applyOperation(y)}}function b3(n,e,t,i){const s=n.model,r=s.document,o=i.getAttribute(e);let a,c;if(o!=t){if(i.root===i){const f=i.document?r.version:null;c=new Xl(i,e,o,t,f)}else{a=new Me(We._createBefore(i),n.createPositionAfter(i));const f=a.root.document?r.version:null;c=new Wi(a,e,o,t,f)}n.batch.addOperation(c),s.applyOperation(c)}}function pg(n,e,t,i,s){const r=n.model,o=r.document,a=new hr(e,t,i,r.markers,!!s,o.version);n.batch.addOperation(a),r.applyOperation(a)}function kz(n,e,t,i){let s;if(n.root.document){const r=i.document,o=new We(r.graveyard,[0]);s=new kn(n,e,o,r.version)}else s=new wz(n,e);t.addOperation(s),i.applyOperation(s)}function y3(n,e){return n===e||n instanceof t1&&e instanceof t1}function Az(n){n.document.registerPostFixer(e=>Cz(e,n))}function Cz(n,e){const t=e.document.selection,i=e.schema,s=[];let r=!1;for(const o of t.getRanges()){const a=u5(o,i);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&n.setSelection(Pz(s),{backward:t.isBackward}),!1}function u5(n,e){return n.isCollapsed?Nz(n,e):Ez(n,e)}function Nz(n,e){const t=n.start,i=e.getNearestSelectionRange(t);if(!i){const r=t.getAncestors().reverse().find(o=>e.isObject(o));return r?Me._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return t.isEqual(s)?null:new Me(s)}function Ez(n,e){const{start:t,end:i}=n,s=e.checkChild(t,"$text"),r=e.checkChild(i,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(i);if(o===a){if(s&&r)return null;if(Tz(t,i,e)){const p=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),y=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),k=p?p.start:t,A=y?y.end:i;return new Me(k,A)}}const c=o&&!o.is("rootElement"),h=a&&!a.is("rootElement");if(c||h){const f=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,p=c&&(!f||!x3(t.nodeAfter,e)),v=h&&(!f||!x3(i.nodeBefore,e));let y=t,k=i;return p&&(y=We._createBefore(v3(o,e))),v&&(k=We._createAfter(v3(a,e))),new Me(y,k)}return null}function v3(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function Tz(n,e,t){const i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||s}function Pz(n){const e=[...n],t=new Set;let i=1;for(;i<e.length;){const r=e[i],o=e.slice(0,i);for(const[a,c]of o.entries())if(!t.has(a)){if(r.isEqual(c))t.add(a);else if(r.isIntersecting(c)){t.add(a),t.add(i);const h=r.getJoined(c);e.push(h)}}i++}return e.filter((r,o)=>!t.has(o))}function x3(n,e){return n&&e.isSelectable(n)}function Mz(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!t.doNotResetEntireContent&&zz(s,e)){Iz(r,e);return}const o={};if(!t.doNotAutoparagraph){const h=e.getSelectedElement();h&&Object.assign(o,s.getAttributesWithProperty(h,"copyOnReplace",!0))}let a,c;t.doNotFixSelection?(a=Gs.fromPosition(i.start,"toPrevious"),c=Gs.fromPosition(i.end,"toNext")):[a,c]=Oz(i),a.isTouching(c)||r.remove(r.createRange(a,c)),t.leaveUnmerged||(Rz(r,a,c),s.removeDisallowedAttributes(a.parent.getChildren(),r)),$8(r,e,a),!t.doNotAutoparagraph&&Fz(s,a)&&G8(r,a,e,o),a.detach(),c.detach()})}function Oz(n){const e=n.root.document.model,t=n.start;let i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const s=Lz(i);if(s&&i.isTouching(e.createPositionAt(s,0))){const r=e.createSelection(n);e.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=e.createRange(o,i);e.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[Gs.fromPosition(t,"toPrevious"),Gs.fromPosition(i,"toNext")]}function Lz(n){const e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function Rz(n,e,t){const i=n.model;if(!h5(n.model.schema,e,t))return;const[s,r]=jz(e,t);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?W8(n,e,t,s.parent):H8(n,e,t,s.parent))}function H8(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(r,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}h5(n.model.schema,e,t)&&H8(n,e,t,i)}}function W8(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(s,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(r),Dz(n,t),h5(n.model.schema,e,t)&&W8(n,e,t,i)}}function Dz(n,e){const t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function h5(n,e,t){const i=e.parent,s=t.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:Bz(e,t,n)}function jz(n,e){const t=n.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]&&t[s]==i[s];)s++;return[t[s],i[s]]}function Fz(n,e){const t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function Bz(n,e,t){const i=new Me(n,e);for(const s of i.getWalker())if(t.isLimit(s.item))return!1;return!0}function G8(n,e,t,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,e),$8(n,t,n.createPositionAt(s,0))}function Iz(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),G8(n,n.createPositionAt(t,0),e)}function zz(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function $8(n,e,t){e instanceof la?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Vz(n,e){return n.change(t=>{const i=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let c;s.start.parent==s.end.parent?c=s:c=t.createRange(t.createPositionAt(a,s.start.path[o.length]),t.createPositionAt(a,s.end.path[o.length]+1));const h=c.end.offset-c.start.offset;for(const f of c.getItems({shallow:!0}))f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),i):t.append(t.cloneElement(f,!0),i);if(c!=s){const f=s._getTransformedByMove(c.start,t.createPositionAt(i,0),h)[0],p=t.createRange(t.createPositionAt(i,0),f.start),v=t.createRange(f.end,t.createPositionAt(i,"end"));w3(v,t),w3(p,t)}return i})}function w3(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=e.createRangeOn(s);s=s.parent,e.remove(r)}})}function Uz(n,e,t){return n.change(i=>{const s=t||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new qz(n,i,s.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const f=[];for(const[p,v]of e.markers){const{start:y,end:k}=v,A=y.isEqual(k);f.push({position:y,name:p,isCollapsed:A},{position:k,name:p,isCollapsed:A})}f.sort(({position:p},{position:v})=>p.isBefore(v)?1:-1);for(const{position:p,name:v,isCollapsed:y}of f){let k=null,A=null;const N=p.parent===e&&p.isAtStart,E=p.parent===e&&p.isAtEnd;!N&&!E?(k=i.createElement("$marker"),i.insert(k,p)):y&&(A=N?"start":"end"),o.push({name:v,element:k,collapsed:A})}}a=e.getChildren()}else a=[e];r.handleNodes(a);let c=r.getSelectionRange();if(e.is("documentFragment")&&o.length){const f=c?Ao.fromRange(c):null,p={};for(let v=o.length-1;v>=0;v--){const{name:y,element:k,collapsed:A}=o[v],N=!p[y];if(N&&(p[y]=[]),k){const E=i.createPositionAt(k,"before");p[y].push(E),i.remove(k)}else{const E=r.getAffectedRange();if(!E){A&&p[y].push(r.position);continue}A?p[y].push(E[A]):p[y].push(N?E.start:E.end)}}for(const[v,[y,k]]of Object.entries(p))y&&k&&y.root===k.root&&y.root.document&&!i.model.markers.has(v)&&i.addMarker(v,{usingOperation:!0,affectsData:!0,range:new Me(y,k)});f&&(c=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */c&&(s instanceof la?i.setSelection(c):s.setTo(c));const h=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),h})}class qz{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,i){this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new fe("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Me._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Me(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(!this._checkAndSplitToAllowedPosition(e)){this.schema.isObject(e)||this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Gs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new fe("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Gs.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gs.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Qn)||!this._canMergeLeft(e))return;const t=Gs._createBefore(e);t.stickiness="toNext";const i=Gs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Gs._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Gs._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Qn)||!this._canMergeRight(e))return;const t=Gs._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new fe("insertcontent-invalid-insertion-position",this);this.position=We._createAt(t.nodeBefore,"end");const i=Gs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Gs._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Gs._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Qn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Qn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Hz(n,e,t,i={}){if(!n.schema.isObject(e))throw new fe("insertobject-element-not-an-object",n,{object:e});const s=t||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(e)&&(r=n.createSelection(n.schema.findOptimalInsertionRange(s,i.findOptimalPosition)));const o=Om(s.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(c=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let h=e;const f=r.anchor.parent;!n.schema.checkChild(f,e)&&n.schema.checkChild(f,"paragraph")&&n.schema.checkChild("paragraph",e)&&(h=c.createElement("paragraph"),c.insert(e,h)),n.schema.setAllowedAttributes(h,a,c);const p=n.insertContent(h,r);return p.isCollapsed||i.setSelection&&Wz(c,e,i.setSelection,a),p})}function Wz(n,e,t,i){const s=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new fe("insertobject-invalid-place-parameter-value",s);let r=e.nextSibling;if(s.schema.isInline(e)){n.setSelection(e,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(e))),r&&n.setSelection(r,0)}const Gz=' ,.?!:;"-()';function $z(n,e,t={}){const i=n.schema,s=t.direction!="backward",r=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,c=new Gl({boundaries:Jz(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),h={walker:c,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let f;for(;f=c.next();){if(f.done)return;const p=Kz(h,f.value);if(p){e instanceof la?n.change(v=>{v.setSelectionFocus(p)}):e.setFocus(p);return}}}function Kz(n,e){const{isForward:t,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:a,item:c,nextPosition:h}=e;if(a=="text")return n.unit==="word"?Xz(i,t):Yz(i,s,o);if(a==(t?"elementStart":"elementEnd")){if(r.isSelectable(c))return We._createAt(c,t?"after":"before");if(r.checkChild(h,"$text"))return h}else{if(r.isLimit(c)){i.skip(()=>!0);return}if(r.checkChild(h,"$text"))return h}}function Yz(n,e,t){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;e5(s,r)||e=="character"&&t5(s,r)||t&&o8(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function Xz(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const i=n.position.offset-t.startOffset;if(Zz(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(Qz(t.data,i,e))break;n.next()}}return n.position}function Jz(n,e){const t=n.root,i=We._createAt(t,e?"end":0);return e?new Me(n,i):new Me(i,n)}function Qz(n,e,t){const i=e+(t?0:-1);return Gz.includes(n.charAt(i))}function Zz(n,e,t){return e===(t?n.offsetSize:0)}class eV extends ss(){markers;document;schema;_pendingChanges;_currentWriter;constructor(){super(),this.markers=new xz,this.document=new vz(this),this.schema=new jI,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),Az(this),this.document.registerPostFixer(R8),this.on("insertContent",(e,[t,i])=>{e.return=Uz(this,t,i)}),this.on("insertObject",(e,[t,i,s])=>{e.return=Hz(this,t,i,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ad,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ad):e instanceof Ad||(e=new Ad(e)):e=new Ad,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...s){const r=Nb(t,i);return this.fire("insertContent",[e,r,i,...s])}insertObject(e,t,i,s,...r){const o=Nb(t,i);return this.fire("insertObject",[e,o,s,s,...r])}deleteContent(e,t){Mz(this,e,t)}modifySelection(e,t){$z(this,e,t)}getSelectedContent(e){return Vz(this,e)}hasContent(e,t={}){const i=e instanceof Me?e:Me._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:r=!1}=t;if(!r){for(const o of this.markers.getMarkersIntersectingRange(i))if(o.affectsData)return!0}for(const o of i.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(s){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Nb(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new We(e,t,i)}createPositionAt(e,t){return We._createAt(e,t)}createPositionAfter(e){return We._createAfter(e)}createPositionBefore(e){return We._createBefore(e)}createRange(e,t){return new Me(e,t)}createRangeIn(e){return Me._createIn(e)}createRangeOn(e){return Me._createOn(e)}createSelection(...e){return new Yr(...e)}createBatch(e){return new Ad(e)}createOperationFromJSON(e){return lz.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new Sz(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Nb(n,e){if(n)return n instanceof Yr||n instanceof la?n:n instanceof Eh?e||e===0?new Yr(n,e):n.is("rootElement")?new Yr(n,"in"):new Yr(n,"on"):new Yr(n)}class tV extends Nh{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}class K8 extends Nh{domEventType=["pointerdown","pointerup","pointermove"];onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Y8{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const s of i)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qy(n,e=new Set){const t=[n],i=new Set;let s=0;for(;t.length>s;){const r=t[s++];if(!(i.has(r)||!nV(r)||e.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)t.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&t.push(r[o])}return i}function nV(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function X8(n,e,t=new Set){if(n===e&&iV(n))return!0;const i=qy(n,t),s=qy(e,t);for(const r of i)if(s.has(r))return!0;return!1}function iV(n){return typeof n=="object"&&n!==null}class J8 extends Y8{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=G0(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,s)=>e.create(i,s)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],i=this._config.rootsAttributes||{},s={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",s[o]=i[o]||{}):t.push(o);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(sV),this._initUsingData?this.create(e,r,r.context):cu(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:i}=e,s=i.has("CommentsRepository")&&i.get("CommentsRepository"),r=i.has("TrackChanges")&&i.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return s&&(o.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(o.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return X8(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return P1(e,(t,i)=>{if(cu(t)||i==="context")return t})}}class sV{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const i=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)i._appendChild(this._createNode(e,s));return i}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([i,{content:s,attributes:r}])=>{const o=JSON.parse(s),a=JSON.parse(r),c=t.model.document.getRoot(i);for(const[h,f]of a)e.setAttribute(h,f,c);for(const h of o){const f=this._createNode(e,h);e.insert(f,c,"end")}}),Object.entries(this._data.markers).forEach(([i,s])=>{const{document:r}=t.model,{rangeJSON:{start:o,end:a},...c}=s,h=r.getRoot(o.root),f=e.createPositionFromPath(h,o.path,o.stickiness),p=e.createPositionFromPath(h,a.path,a.stickiness),v=e.createRange(f,p);e.addMarker(i,{range:v,...c})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);if(this.editor.plugins.has("CommentsRepository")){const i=this.editor.plugins.get("CommentsRepository");for(const s of i.getCommentThreads())i._removeCommentThread({threadId:s.id});e.forEach(s=>{const r=this.editor.config.get("collaboration.channelId");this.editor.plugins.get("CommentsRepository").addCommentThread({channelId:r,...s})})}if(this.editor.plugins.has("TrackChangesEditing")){const i=this.editor.plugins.get("TrackChangesEditing");for(const s of i.getSuggestions())i._removeSuggestion(s);t.forEach(s=>{i.addSuggestionData(s)})}}}const Hg=Symbol("MainQueueId");class rV extends Y8{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new oV;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Hg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=_3(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new J8(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(r,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:o}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(c=>{const h=()=>{s.off("restart",h),this._fire("itemRestart",{itemId:i.id}),c()};s.on("restart",h)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const t=_3(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Hg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Hg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=qy(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return X8(this._context,e.context)}}class oV{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Hg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Hg),this._queues.get(e)])).then(t),o=r.catch(()=>{});return this._queues.set(e,o),r.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function _3(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Nn extends ss(){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",S3,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",S3),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function S3(n){n.return=!1,n.stop()}class ac extends ss(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const i=e.model.document.selection,r=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",k3,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",k3),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function k3(n){n.return=!1,n.stop()}class aV{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new fe("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Q8 extends Gn(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],i=[]){super(),this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,r]of i)this._contextPlugins.set(s,r),this._contextPlugins.set(r,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new fe("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const s=this,r=this._context;y(e),A(e);const o=e.filter(se=>!p(se,t)),a=[...k(o)];J(a,i);const c=U(a);return V(c,"init").then(()=>V(c,"afterInit")).then(()=>c);function h(se){return typeof se=="function"}function f(se){return h(se)&&!!se.isContextPlugin}function p(se,ee){return ee.some(M=>M===se||v(se)===M||v(M)===se)}function v(se){return h(se)?se.pluginName||se.name:se}function y(se,ee=new Set){se.forEach(M=>{h(M)&&(ee.has(M)||(ee.add(M),M.pluginName&&!s._availablePlugins.has(M.pluginName)&&s._availablePlugins.set(M.pluginName,M),M.requires&&y(M.requires,ee)))})}function k(se,ee=new Set){return se.map(M=>h(M)?M:s._availablePlugins.get(M)).reduce((M,P)=>ee.has(P)?M:(ee.add(P),P.requires&&(A(P.requires,P),k(P.requires,ee).forEach(W=>M.add(W))),M.add(P)),new Set)}function A(se,ee=null){se.map(M=>h(M)?M:s._availablePlugins.get(M)||M).forEach(M=>{N(M,ee),E(M,ee),D(M,ee)})}function N(se,ee){if(!h(se))throw ee?new fe("plugincollection-soft-required",r,{missingPlugin:se,requiredBy:v(ee)}):new fe("plugincollection-plugin-not-found",r,{plugin:se})}function E(se,ee){if(f(ee)&&!f(se))throw new fe("plugincollection-context-required",r,{plugin:v(se),requiredBy:v(ee)})}function D(se,ee){if(ee&&p(se,t))throw new fe("plugincollection-required",r,{plugin:v(se),requiredBy:v(ee)})}function U(se){return se.map(ee=>{let M=s._contextPlugins.get(ee);return M=M||new ee(r),s._add(ee,M),M})}function V(se,ee){return se.reduce((M,P)=>!P[ee]||s._contextPlugins.has(P)?M:M.then(P[ee].bind(P)),Promise.resolve())}function J(se,ee){for(const M of ee){if(typeof M!="function")throw new fe("plugincollection-replace-plugin-invalid-type",null,{pluginItem:M});const P=M.pluginName;if(!P)throw new fe("plugincollection-replace-plugin-missing-name",null,{pluginItem:M});if(M.requires&&M.requires.length)throw new fe("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:P});const W=s._availablePlugins.get(P);if(!W)throw new fe("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:P});const R=se.indexOf(W);if(R===-1){if(s._contextPlugins.has(W))return;throw new fe("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:P})}if(W.requires&&W.requires.length)throw new fe("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:P});se.splice(R,1,M),s._availablePlugins.set(P,M)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new fe("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}class A3{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...i}=e||{};this.config=new $A(i,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Q8(this,s);const r=this.config.get("language")||{};this.locale=new dF({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new ff}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new fe("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new fe("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new fe("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}class lV extends gu{editor;constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const s=t;t=(r,o)=>{this.editor.execute(s),o()}}super.set(e,t,i)}}const Eb="contentEditing",C3="common";class cV{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),i=e.locale.t;this.addKeystrokeInfoCategory({id:Eb,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const s=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&s.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:s}]})}addKeystrokeInfoCategory({id:e,label:t,description:i,groups:s}){this.keystrokeInfos.set(e,{id:e,label:t,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:C3}),s&&s.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:e,...r})})}addKeystrokeInfoGroup({categoryId:e=Eb,id:t,label:i,keystrokes:s}){const r=this.keystrokeInfos.get(e);if(!r)throw new fe("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});r.groups.set(t,{id:t,label:i,keystrokes:s||[]})}addKeystrokeInfos({categoryId:e=Eb,groupId:t=C3,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new fe("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});const s=this.keystrokeInfos.get(e);if(!s.groups.has(t))throw new fe("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:i});s.groups.get(t).keystrokes.push(...i)}}function uV(n){return{sessionId:mV(),pageSessionId:pV(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:hV(n),plugins:dV(n.plugins),distribution:fV(),env:gV(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:Tb(n.config.get("toolbar")),block:Tb(n.config.get("blockToolbar")),balloon:Tb(n.config.get("balloonToolbar"))}}}function hV(n){return Object.getPrototypeOf(n).constructor.editorName}function dV(n){return Array.from(n).filter(([e])=>!!e.pluginName).map(([e])=>{const{pluginName:t,isContextPlugin:i,isOfficialPlugin:s,isPremiumPlugin:r}=e;return{isContext:!!i,isOfficial:!!s,isPremium:!!r,name:t}})}function Tb(n){if(!n)return;const e=Array.isArray(n)?{items:n}:n,t=r(e.items||[]);return{isMultiline:t.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:s(t)};function s(o){return o.filter(a=>a!=="|"&&a!=="-")}function r(o){return o.flatMap(a=>typeof a=="string"?[a]:r(a.items))}}function fV(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function gV(){let n="unknown",e="unknown";return Et.isMac?n="mac":Et.isWindows?n="windows":Et.isiOS?n="ios":Et.isAndroid&&(n="android"),Et.isGecko?e="gecko":Et.isBlink?e="blink":Et.isSafari&&(e="safari"),{os:n,browser:e}}function mV(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",ha()),localStorage.getItem("__ckeditor-session-id")}function pV(){return it.window.CKEDITOR_PAGE_SESSION_ID=it.window.CKEDITOR_PAGE_SESSION_ID||ha(),it.window.CKEDITOR_PAGE_SESSION_ID}class bV extends ss(){static get editorName(){return"Editor"}accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(e={}){if(super(),"sanitizeHtml"in e)throw new fe("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:i,...s}=t.defaultConfig||{},{translations:r=i,...o}=e,a=e.language||s.language;this._context=e.context||new A3({language:a,translations:r}),this._context._addEditor(this,!e.context);const c=Array.from(t.builtinPlugins||[]);this.config=new $A(o,s),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),f(this.config),this.plugins=new Q8(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new aV,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new eV,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const h=new DF;this.data=new sz(this.model,h),this.editing=new DI(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new oz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new lV(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new cV(this),p(this);function f(v){let y=v.get("licenseKey");if(!y&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(y=window.CKEDITOR_GLOBAL_LICENSE_KEY,v.set("licenseKey",y)),!y)throw new fe("license-key-missing")}function p(v){const y=v.config.get("licenseKey"),k=window[Symbol.for("cke distribution")]||"sh";function A(P){v.enableReadOnlyMode(Symbol("invalidLicense")),v._showLicenseError(P)}function N(P){const W=P.split(".");return W.length!=3?null:W[1]}function E(P){return["exp","jti","vc"].every(R=>R in P)}function D(P){return Object.getOwnPropertyNames(P).sort().filter(B=>B!="vc"&&P[B]!=null).map(B=>P[B])}function U(P){const{hostname:W}=new URL(window.location.href);if(P.includes(W))return!0;const R=W.split(".");return P.filter(B=>B.includes("*")).map(B=>B.split(".")).filter(B=>B.length<=R.length).map(B=>Array(R.length-B.length).fill(B[0]==="*"?"*":"").concat(B)).some(B=>R.every((ie,oe)=>B[oe]===ie||B[oe]==="*"))}function V(P){const W=P[0].toUpperCase()+P.slice(1),R=P==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${W} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${R} ${P} license of CKEditor 5${P==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(y=="GPL"){k=="cloud"&&A("distributionChannel");return}const J=N(y);if(!J){A("invalid");return}const se=Zv(J);if(!se){A("invalid");return}if(!E(se)){A("invalid");return}if(se.distributionChannel&&!Zr(se.distributionChannel).includes(k)){A("distributionChannel");return}if(bF(D(se))!=se.vc.toLowerCase()){A("invalid");return}if(new Date(se.exp*1e3)<_j){A("expired");return}const M=se.licensedHosts;if(M&&M.length>0&&!U(M)){A("domainLimit");return}if(["evaluation","trial"].includes(se.licenseType)&&se.exp*1e3<Date.now()){A("expired");return}if(["development","evaluation","trial"].includes(se.licenseType)){const{licenseType:P}=se;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[P]||(V(P),window.CKEDITOR_WARNING_SUPPRESSIONS[P]=!0)}if(["evaluation","trial"].includes(se.licenseType)){const P=se.licenseType,W=setTimeout(()=>{A(`${P}Limit`)},6e5);v.on("destroy",()=>{clearTimeout(W)})}se.usageEndpoint&&v.once("ready",()=>{const P={requestId:ha(),requestTime:Math.round(Date.now()/1e3),license:y,editor:yV(v)};v._sendUsageRequest(se.usageEndpoint,P).then(W=>{const{status:R,message:B}=W;B&&console.warn(B),R!="ok"&&A("usageLimit")},()=>{vj("license-key-validation-endpoint-not-reachable",{url:se.usageEndpoint})})},{priority:"high"})}}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new fe("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new fe("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new fe("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),i,r)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){/* istanbul ignore next -- @preserve */fe.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}static Context=A3;static EditorWatchdog=J8;static ContextWatchdog=rV;_showLicenseError(e,t){setTimeout(()=>{if(e=="invalid")throw new fe("invalid-license-key");if(e=="expired")throw new fe("license-key-expired");if(e=="domainLimit")throw new fe("license-key-domain-limit");if(e=="featureNotAllowed")throw new fe("license-key-plugin-not-allowed",null,{pluginName:t});if(e=="evaluationLimit")throw new fe("license-key-evaluation-limit");if(e=="trialLimit")throw new fe("license-key-trial-limit");if(e=="developmentLimit")throw new fe("license-key-development-limit");if(e=="usageLimit")throw new fe("license-key-usage-limit");if(e=="distributionChannel")throw new fe("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,t){const i=new Headers({"Content-Type":"application/json"}),s=await fetch(new URL(e),{method:"POST",headers:i,body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP Response: ${s.status}`);return s.json()}}function yV(n){const e=uV(n);function t(i,s){if(lu(e,i)!==void 0)throw new fe("editor-usage-data-path-already-set",{path:i});FA(e,i,s)}return n.fire("collectUsageData",{setUsageData:t}),e}function vV(n){if(!K0(n.updateSourceElement))throw new fe("attachtoform-missing-elementapi-interface",n);const e=n.sourceElement;if(xV(e)&&e.form){let t;const i=e.form,s=()=>n.updateSourceElement();K0(i.submit)&&(t=i.submit,i.submit=()=>{s(),t.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),t&&(i.submit=t)})}}function xV(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function wV(n){class e extends n{sourceElement;updateSourceElement(i){if(!this.sourceElement)throw new fe("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!r){T4(this.sourceElement,"");return}const o=typeof i=="string"?i:this.data.get();T4(this.sourceElement,o)}}return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var N3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103z"/><path d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17m0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10" clip-rule="evenodd"/></svg>',_V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',Z8='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.187 17H5.773q-.956 0-1.364-.415-.41-.416-.409-1.323V4.738q0-.926.419-1.332.418-.405 1.354-.406h4.68q1.035 0 1.793.124.76.124 1.36.478.512.296.906.75a3.26 3.26 0 0 1 .808 2.162q0 2.102-2.167 3.075 2.846.879 2.847 3.421a3.76 3.76 0 0 1-2.296 3.504 6 6 0 0 1-1.517.377q-.857.11-2 .11zm-.217-6.217H7v4.087h3.069q2.965 0 2.965-2.072 0-1.061-.768-1.537-.768-.478-2.296-.478M7 5.13v3.619h2.606q1.093 0 1.69-.2a1.6 1.6 0 0 0 .91-.765q.247-.4.247-.897 0-1.06-.778-1.409-.778-.348-2.375-.348z"/></svg>',SV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414z"/></svg>',kV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.972 16.615a1 1 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a1 1 0 0 1-.745.292"/></svg>',AV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m-7 6.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',d5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136z"/></svg>',CV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822zM14 5V2l3.3 3zm-3.692 12.5q.093.157.213.303L11.52 19H8v-.876a2.24 2.24 0 0 0 1.82-.624zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',NV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.586 14.633.021.004q-.054.502.393.962.123.125.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15q.711-.106 1.005-.334.235-.182.404-.597l2.416-9.55a1.05 1.05 0 0 0-.281-.823 1.1 1.1 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195q-.564.084-.823.296-.323.263-.623.79z"/></svg>',EV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5M5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1"/></svg>',TV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4"/></svg>',PV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1"/></svg>',MV=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,E3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.75.75 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.8.8 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032z"/></svg>',OV='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',LV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75m18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75m-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2z"/></svg>',RV='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254z"/></svg>',f5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',T3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.75.75 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.8.8 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032z"/></svg>';const bm={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},eC={};for(const n of Object.keys(bm))eC[bm[n]]=n;const nt={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Jl=(6/29)**3;function Wd(n){const e=n>.0031308?1.055*n**.4166666666666667-.055:n*12.92;return Math.min(Math.max(0,e),1)}function Gd(n){return n>.04045?((n+.055)/1.055)**2.4:n/12.92}for(const n of Object.keys(nt)){if(!("channels"in nt[n]))throw new Error("missing channels property: "+n);if(!("labels"in nt[n]))throw new Error("missing channel labels property: "+n);if(nt[n].labels.length!==nt[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=nt[n];delete nt[n].channels,delete nt[n].labels,Object.defineProperty(nt[n],"channels",{value:e}),Object.defineProperty(nt[n],"labels",{value:t})}nt.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.min(e,t,i),r=Math.max(e,t,i),o=r-s;let a,c;switch(r){case s:{a=0;break}case e:{a=(t-i)/o;break}case t:{a=2+(i-e)/o;break}case i:{a=4+(e-t)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const h=(s+r)/2;return r===s?c=0:h<=.5?c=o/(r+s):c=o/(2-r-s),[a,c*100,h*100]};nt.rgb.hsv=function(n){let e,t,i,s,r;const o=n[0]/255,a=n[1]/255,c=n[2]/255,h=Math.max(o,a,c),f=h-Math.min(o,a,c),p=function(v){return(h-v)/6/f+1/2};if(f===0)s=0,r=0;else{switch(r=f/h,e=p(o),t=p(a),i=p(c),h){case o:{s=i-t;break}case a:{s=1/3+e-i;break}case c:{s=2/3+t-e;break}}s<0?s+=1:s>1&&(s-=1)}return[s*360,r*100,h*100]};nt.rgb.hwb=function(n){const e=n[0],t=n[1];let i=n[2];const s=nt.rgb.hsl(n)[0],r=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[s,r*100,i*100]};nt.rgb.oklab=function(n){const e=Gd(n[0]/255),t=Gd(n[1]/255),i=Gd(n[2]/255),s=Math.cbrt(.4122214708*e+.5363325363*t+.0514459929*i),r=Math.cbrt(.2119034982*e+.6806995451*t+.1073969566*i),o=Math.cbrt(.0883024619*e+.2817188376*t+.6299787005*i),a=.2104542553*s+.793617785*r-.0040720468*o,c=1.9779984951*s-2.428592205*r+.4505937099*o,h=.0259040371*s+.7827717662*r-.808675766*o;return[a*100,c*100,h*100]};nt.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.min(1-e,1-t,1-i),r=(1-e-s)/(1-s)||0,o=(1-t-s)/(1-s)||0,a=(1-i-s)/(1-s)||0;return[r*100,o*100,a*100,s*100]};function DV(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}nt.rgb.keyword=function(n){const e=eC[n];if(e)return e;let t=Number.POSITIVE_INFINITY,i;for(const s of Object.keys(bm)){const r=bm[s],o=DV(n,r);o<t&&(t=o,i=s)}return i};nt.keyword.rgb=function(n){return bm[n]};nt.rgb.xyz=function(n){const e=Gd(n[0]/255),t=Gd(n[1]/255),i=Gd(n[2]/255),s=e*.4124564+t*.3575761+i*.1804375,r=e*.2126729+t*.7151522+i*.072175,o=e*.0193339+t*.119192+i*.9503041;return[s*100,r*100,o*100]};nt.rgb.lab=function(n){const e=nt.rgb.xyz(n);let t=e[0],i=e[1],s=e[2];t/=95.047,i/=100,s/=108.883,t=t>Jl?t**(1/3):7.787*t+16/116,i=i>Jl?i**(1/3):7.787*i+16/116,s=s>Jl?s**(1/3):7.787*s+16/116;const r=116*i-16,o=500*(t-i),a=200*(i-s);return[r,o,a]};nt.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;let s,r;if(t===0)return r=i*255,[r,r,r];const o=i<.5?i*(1+t):i+t-i*t,a=2*i-o,c=[0,0,0];for(let h=0;h<3;h++)s=e+1/3*-(h-1),s<0&&s++,s>1&&s--,6*s<1?r=a+(o-a)*6*s:2*s<1?r=o:3*s<2?r=a+(o-a)*(2/3-s)*6:r=a,c[h]=r*255;return c};nt.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,i=n[2]/100,s=t;const r=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,s*=r<=1?r:2-r;const o=(i+t)/2,a=i===0?2*s/(r+s):2*t/(i+t);return[e,a*100,o*100]};nt.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let i=n[2]/100;const s=Math.floor(e)%6,r=e-Math.floor(e),o=255*i*(1-t),a=255*i*(1-t*r),c=255*i*(1-t*(1-r));switch(i*=255,s){case 0:return[i,c,o];case 1:return[a,i,o];case 2:return[o,i,c];case 3:return[o,a,i];case 4:return[c,o,i];case 5:return[i,o,a]}};nt.hsv.hsl=function(n){const e=n[0],t=n[1]/100,i=n[2]/100,s=Math.max(i,.01);let r,o;o=(2-t)*i;const a=(2-t)*s;return r=t*s,r/=a<=1?a:2-a,r=r||0,o/=2,[e,r*100,o*100]};nt.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,i=n[2]/100;const s=t+i;let r;s>1&&(t/=s,i/=s);const o=Math.floor(6*e),a=1-i;r=6*e-o,(o&1)!==0&&(r=1-r);const c=t+r*(a-t);let h,f,p;switch(o){default:case 6:case 0:{h=a,f=c,p=t;break}case 1:{h=c,f=a,p=t;break}case 2:{h=t,f=a,p=c;break}case 3:{h=t,f=c,p=a;break}case 4:{h=c,f=t,p=a;break}case 5:{h=a,f=t,p=c;break}}return[h*255,f*255,p*255]};nt.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,s=n[3]/100,r=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,i*(1-s)+s);return[r*255,o*255,a*255]};nt.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100;let s,r,o;return s=e*3.2404542+t*-1.5371385+i*-.4985314,r=e*-.969266+t*1.8760108+i*.041556,o=e*.0556434+t*-.2040259+i*1.0572252,s=Wd(s),r=Wd(r),o=Wd(o),[s*255,r*255,o*255]};nt.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>Jl?e**(1/3):7.787*e+16/116,t=t>Jl?t**(1/3):7.787*t+16/116,i=i>Jl?i**(1/3):7.787*i+16/116;const s=116*t-16,r=500*(e-t),o=200*(t-i);return[s,r,o]};nt.xyz.oklab=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,s=Math.cbrt(.8189330101*e+.3618667424*t-.1288597137*i),r=Math.cbrt(.0329845436*e+.9293118715*t+.0361456387*i),o=Math.cbrt(.0482003018*e+.2643662691*t+.633851707*i),a=.2104542553*s+.793617785*r-.0040720468*o,c=1.9779984951*s-2.428592205*r+.4505937099*o,h=.0259040371*s+.7827717662*r-.808675766*o;return[a*100,c*100,h*100]};nt.oklab.oklch=function(n){return nt.lab.lch(n)};nt.oklab.xyz=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,s=(.999999998*e+.396337792*t+.215803758*i)**3,r=(1.000000008*e-.105561342*t-.063854175*i)**3,o=(1.000000055*e-.089484182*t-1.291485538*i)**3,a=1.227013851*s-.55779998*r+.281256149*o,c=-.040580178*s+1.11225687*r-.071676679*o,h=-.076381285*s-.421481978*r+1.58616322*o;return[a*100,c*100,h*100]};nt.oklab.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,s=(e+.3963377774*t+.2158037573*i)**3,r=(e-.1055613458*t-.0638541728*i)**3,o=(e-.0894841775*t-1.291485548*i)**3,a=Wd(4.0767416621*s-3.3077115913*r+.2309699292*o),c=Wd(-1.2684380046*s+2.6097574011*r-.3413193965*o),h=Wd(-.0041960863*s-.7034186147*r+1.707614701*o);return[a*255,c*255,h*255]};nt.oklch.oklab=function(n){return nt.lch.lab(n)};nt.lab.xyz=function(n){const e=n[0],t=n[1],i=n[2];let s,r,o;r=(e+16)/116,s=t/500+r,o=r-i/200;const a=r**3,c=s**3,h=o**3;return r=a>Jl?a:(r-16/116)/7.787,s=c>Jl?c:(s-16/116)/7.787,o=h>Jl?h:(o-16/116)/7.787,s*=95.047,r*=100,o*=108.883,[s,r,o]};nt.lab.lch=function(n){const e=n[0],t=n[1],i=n[2];let s;s=Math.atan2(i,t)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(t*t+i*i);return[e,o,s]};nt.lch.lab=function(n){const e=n[0],t=n[1],s=n[2]/360*2*Math.PI,r=t*Math.cos(s),o=t*Math.sin(s);return[e,r,o]};nt.rgb.ansi16=function(n,e=null){const[t,i,s]=n;let r=e===null?nt.rgb.hsv(n)[2]:e;if(r=Math.round(r/50),r===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return r===2&&(o+=60),o};nt.hsv.ansi16=function(n){return nt.rgb.ansi16(nt.hsv.rgb(n),n[2])};nt.rgb.ansi256=function(n){const e=n[0],t=n[1],i=n[2];return e>>4===t>>4&&t>>4===i>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};nt.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,i=(e&1)*t*255,s=(e>>1&1)*t*255,r=(e>>2&1)*t*255;return[i,s,r]};nt.ansi256.rgb=function(n){if(n=n[0],n>=232){const r=(n-232)*10+8;return[r,r,r]}n-=16;let e;const t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,s=e%6/5*255;return[t,i,s]};nt.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};nt.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(a=>a+a).join(""));const i=Number.parseInt(t,16),s=i>>16&255,r=i>>8&255,o=i&255;return[s,r,o]};nt.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.max(Math.max(e,t),i),r=Math.min(Math.min(e,t),i),o=s-r;let a;const c=o<1?r/(1-o):0;return o<=0?a=0:s===e?a=(t-i)/o%6:s===t?a=2+(i-e)/o:a=4+(e-t)/o,a/=6,a%=1,[a*360,o*100,c*100]};nt.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t);let s=0;return i<1&&(s=(t-.5*i)/(1-i)),[n[0],i*100,s*100]};nt.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=e*t;let s=0;return i<1&&(s=(t-i)/(1-i)),[n[0],i*100,s*100]};nt.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];const s=[0,0,0],r=e%1*6,o=r%1,a=1-o;let c=0;switch(Math.floor(r)){case 0:{s[0]=1,s[1]=o,s[2]=0;break}case 1:{s[0]=a,s[1]=1,s[2]=0;break}case 2:{s[0]=0,s[1]=1,s[2]=o;break}case 3:{s[0]=0,s[1]=a,s[2]=1;break}case 4:{s[0]=o,s[1]=0,s[2]=1;break}default:s[0]=1,s[1]=0,s[2]=a}return c=(1-t)*i,[(t*s[0]+c)*255,(t*s[1]+c)*255,(t*s[2]+c)*255]};nt.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);let s=0;return i>0&&(s=e/i),[n[0],s*100,i*100]};nt.hcg.hsl=function(n){const e=n[1]/100,i=n[2]/100*(1-e)+.5*e;let s=0;return i>0&&i<.5?s=e/(2*i):i>=.5&&i<1&&(s=e/(2*(1-i))),[n[0],s*100,i*100]};nt.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};nt.hwb.hcg=function(n){const e=n[1]/100,i=1-n[2]/100,s=i-e;let r=0;return s<1&&(r=(i-s)/(1-s)),[n[0],s*100,r*100]};nt.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};nt.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};nt.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};nt.gray.hsl=function(n){return[0,0,n[0]]};nt.gray.hsv=nt.gray.hsl;nt.gray.hwb=function(n){return[0,100,n[0]]};nt.gray.cmyk=function(n){return[0,0,0,n[0]]};nt.gray.lab=function(n){return[n[0],0,0]};nt.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(i.length)+i};nt.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function jV(){const n={},e=Object.keys(nt);for(let{length:t}=e,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function FV(n){const e=jV(),t=[n];for(e[n].distance=0;t.length>0;){const i=t.pop(),s=Object.keys(nt[i]);for(let{length:r}=s,o=0;o<r;o++){const a=s[o],c=e[a];c.distance===-1&&(c.distance=e[i].distance+1,c.parent=i,t.unshift(a))}}return e}function BV(n,e){return function(t){return e(n(t))}}function IV(n,e){const t=[e[n].parent,n];let i=nt[e[n].parent][n],s=e[n].parent;for(;e[s].parent;)t.unshift(e[s].parent),i=BV(nt[e[s].parent][s],i),s=e[s].parent;return i.conversion=t,i}function zV(n){const e=FV(n),t={},i=Object.keys(e);for(let{length:s}=i,r=0;r<s;r++){const o=i[r];e[o].parent!==null&&(t[o]=IV(o,e))}return t}const bg={},VV=Object.keys(nt);function UV(n){const e=function(...t){const i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function qV(n){const e=function(...t){const i=t[0];if(i==null)return i;i.length>1&&(t=i);const s=n(t);if(typeof s=="object")for(let{length:r}=s,o=0;o<r;o++)s[o]=Math.round(s[o]);return s};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of VV){bg[n]={},Object.defineProperty(bg[n],"channels",{value:nt[n].channels}),Object.defineProperty(bg[n],"labels",{value:nt[n].labels});const e=zV(n),t=Object.keys(e);for(const i of t){const s=e[i];bg[n][i]=qV(s),bg[n][i].raw=UV(s)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Th extends ff{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,s)=>{this._renderViewIntoCollectionParent(i,s)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!HV(e))throw new fe("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const s of e)i.delegate(s).to(t);this.on("add",(i,s)=>{for(const r of e)s.delegate(r).to(t)}),this.on("remove",(i,s)=>{for(const r of e)s.stopDelegating(r,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function HV(n){return n.every(e=>typeof e=="string")}const WV="http://www.w3.org/1999/xhtml";class Qa extends Gn(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,M3(P3(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=R3(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new fe("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const i of t.children)n1(i)?yield i:g5(i)&&(yield*e(i))}yield*e(this)}static bind(e,t){return{to(i,s){return new GV({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:s})},if(i,s,r){return new tC({observable:e,emitter:t,attribute:i,valueIfTrue:s,callback:r})}}}static extend(e,t){if(e._isRendered)throw new fe("template-extend-render",[this,e]);rC(e,M3(P3(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new fe("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||WV,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),S0(this.text)?this._bindToObservable({schema:this.text,updater:KV(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const s in this.attributes){const r=t.getAttribute(s),o=this.attributes[s];i&&(i.attributes[s]=r);const a=L3(o)?o[0].ns:null;if(S0(o)){const c=L3(o)?o[0].value:o;i&&D3(s)&&c.unshift(r),this._bindToObservable({schema:c,updater:YV(t,s,a),data:e})}else if(s=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{i&&r&&D3(s)&&o.unshift(r);const c=o.map(h=>h&&(h.value||h)).reduce((h,f)=>h.concat(f),[]).reduce(sC,"");af(c)||t.setAttributeNS(a,s,c)}}}_renderStyleAttribute(e,t){const i=t.node;for(const s in e){const r=e[s];S0(r)?this._bindToObservable({schema:[r],updater:XV(i,s),data:t}):i.style[s]=r}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let r=0;for(const o of this.children)if(m5(o)){if(!s){o.setParent(t);for(const a of o)i.appendChild(a.element)}}else if(n1(o))s||(o.isRendered||o.render(),i.appendChild(o.element));else if(uu(o))i.appendChild(o);else if(s){const a=e.revertData,c=R3();a.children.push(c),o._renderNode({intoFragment:!1,node:i.childNodes[r++],isApplying:!0,revertData:c})}else i.appendChild(o.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(s=>{const[r,o]=t.split("@");return s.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const s=i.revertData;nC(e,t,i);const r=e.filter(o=>!af(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,i));s&&s.bindings.push(r)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const r of s)r();if(t.text){e.textContent=t.text;return}const i=e;for(const s in t.attributes){const r=t.attributes[s];r===null?i.removeAttribute(s):i.setAttribute(s,r)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(i.childNodes[s],t.children[s])}}class Lm{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const s=()=>nC(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class GV extends Lm{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const s=(r,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,s),()=>{this.emitter.stopListening(i.node,e,s)}}}class tC extends Lm{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return af(t)?!1:this.valueIfTrue||!0}}function S0(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(S0):n instanceof Lm):!1}function $V(n,e){return n.map(t=>t instanceof Lm?t.getValue(e):t)}function nC(n,e,{node:t}){const i=$V(n,t);let s;n.length==1&&n[0]instanceof tC?s=i[0]:s=i.reduce(sC,""),af(s)?e.remove():e.set(s)}function KV(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function YV(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function XV(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function P3(n){return P1(n,t=>{if(t&&(t instanceof Lm||g5(t)||n1(t)||m5(t)))return t})}function M3(n){if(typeof n=="string"?n=ZV(n):n.text&&eU(n),n.on&&(n.eventListeners=QV(n.on),delete n.on),!n.text){n.attributes&&JV(n.attributes);const e=[];if(n.children)if(m5(n.children))e.push(n.children);else for(const t of n.children)g5(t)||n1(t)||uu(t)?e.push(t):e.push(new Qa(t));n.children=e}return n}function JV(n){for(const e in n)n[e].value&&(n[e].value=Zr(n[e].value)),iC(n,e)}function QV(n){for(const e in n)iC(n,e);return n}function ZV(n){return{text:[n]}}function eU(n){n.text=Zr(n.text)}function iC(n,e){n[e]=Zr(n[e])}function sC(n,e){return af(e)?n:af(n)?e:`${n} ${e}`}function O3(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function rC(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),O3(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),O3(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new fe("ui-template-extend-children-mismatch",n);let t=0;for(const i of e.children)rC(n.children[t++],i)}}function af(n){return!n&&n!==0}function n1(n){return n instanceof en}function g5(n){return n instanceof Qa}function m5(n){return n instanceof Th}function L3(n){return Co(n[0])&&n[0].ns}function R3(){return{children:[],bindings:[],attributes:{}}}function D3(n){return n=="class"||n=="style"}class en extends da(ss()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ff,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Qa.bind(this,this)}createCollection(e){const t=new Th(e);return this._viewCollections.add(t),t}registerChild(e){Qr(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Qr(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Qa(e)}extendTemplate(e){Qa.extend(this.template,e)}render(){if(this.isRendered)throw new fe("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const j3={POLITE:"polite",ASSERTIVE:"assertive"};class tU{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(j3))this.announce("",t)})}announce(e,t=j3.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new nU(i.locale),i.ui.view.body.add(this.view));const{politeness:s,isUnsafeHTML:r}=typeof t=="string"?{politeness:t}:t;let o=this.view.regionViews.find(a=>a.politeness===s);o||(o=new iU(i,s),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:r})}}class nU extends en{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class iU extends en{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const i=document.createElement("li");t?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function oC({emitter:n,activator:e,callback:t,contextElements:i,listenerOptions:s}){n.listenTo(document,"mousedown",(r,o)=>{if(!e())return;const a=typeof o.composedPath=="function"?o.composedPath():[],c=typeof i=="function"?i():i;for(const h of c)if(h.contains(o.target)||a.includes(h))return;t()},s)}function sU(n){class e extends n{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...i){super(...i),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(it.document,"mouseup",this._onDragEndBound),this.listenTo(it.document,"touchend",this._onDragEndBound),this.listenTo(it.document,"mousemove",this._onDragBound),this.listenTo(it.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(it.document,"mouseup",this._onDragEndBound),this.stopListening(it.document,"touchend",this._onDragEndBound),this.stopListening(it.document,"mousemove",this._onDragBound),this.stopListening(it.document,"touchmove",this._onDragBound)}_onDragStart(i,s){if(!this._isHandleElementPressed(s))return;this._attachDragListeners();let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),this._lastDraggingCoordinates={x:r,y:o},this.isDragging=!0}_onDrag(i,s){if(!this.isDragging){this._detachDragListeners();return}let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),s.preventDefault(),this.fire("drag",{deltaX:Math.round(r-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:r,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return e}class p5 extends en{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ha()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class rU extends en{constructor(e,t){super(e);const i=e.t,s=new p5;s.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":s.id,role:"document",tabindex:-1},children:[ra(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),s]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const i=[ra(document,"h3",{},t.label),...Array.from(t.groups.values()).map(s=>this._createGroup(s)).flat()];return t.description&&i.splice(1,0,ra(document,"p",{},t.description)),ra(document,"section",{},i)})}_createGroup(e){const t=e.keystrokes.sort((s,r)=>s.label.localeCompare(r.label)).map(s=>this._createGroupRow(s)).flat(),i=[ra(document,"dl",{},t)];return e.label&&i.unshift(ra(document,"h4",{},e.label)),i}_createGroupRow(e){const t=this.locale.t,i=ra(document,"dt"),s=ra(document,"dd"),r=aU(e.keystroke),o=[];for(const a of r)o.push(a.map(oU).join(""));return i.innerHTML=e.label,s.innerHTML=o.join(", ")+(e.mayRequireFn&&Et.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[i,s]}}function oU(n){return X0(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function aU(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}class pu extends en{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!t)throw new fe("ui-iconview-invalid-svg",this);const i=t.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(t.attributes))pu.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}class aC extends en{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class to extends en{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new aC){super(e);const i=this.bindTemplate,s=ha();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new pu,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",o=>!o),i.if("isVisible","ck-hidden",o=>!o),i.to("isOn",o=>o?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",o=>o||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,o=>!o),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(o,a,c)=>!a||F3(c)?!1:String(!!o)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(o,a,c)=>!a||!F3(c)?!1:String(!!o)),Et.isSafari&&(this._focusDelayed||(this._focusDelayed=Qv(()=>this.focus(),0)),r.on.mousedown=i.to(()=>{this._focusDelayed()}),r.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(r)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,t,i,s)=>{i&&!s?this.children.add(this.iconView,0):!i&&s&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new en;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>X0(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=X0(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}function F3(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class lU extends en{children;iconView;constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),t.icon&&(this.iconView=new pu,this.iconView.content=t.icon,this.children.add(this.iconView));const s=new en(e);s.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(s)}}class Rm extends Gn(){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const s of i)e.keystrokeHandler.set(s,(r,o)=>{this[t](),o()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Pb)||null}get last(){return this.focusables.filter(Pb).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=i),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",i=>{const s=t();this.focusNext(),s!==t()&&i.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",i=>{const s=t();this.focusPrevious(),s!==t()&&i.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const i=this.current;if(i===null)return this[e===1?"first":"last"];let s=this.focusables.get(i),r=(i+t+e)%t;do{const o=this.focusables.get(r);if(Pb(o)){s=o;break}r=(r+t+e)%t}while(r!==i);return s}}function Pb(n){return Dm(n)&&ec(n.element)}function Dm(n){return"focus"in n&&typeof n.focus=="function"}function cU(n){return Dm(n)&&"focusCycler"in n&&n.focusCycler instanceof Rm}class uU extends en{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new gu,this._focusTracker=new sc,this._focusables=new Th,this.focusCycler=new Rm({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const i=new to(this.locale);let s;i.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(i);for(s in t)s!="onExecute"&&s!="onCreate"&&i.set(s,t[s]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class hU extends en{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ia={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},B3=O1("px");class ym extends sU(en){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,{getCurrentDomRoot:t,getViewportOffset:i,keystrokeHandlerOptions:s}){super(e);const r=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",ia.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new gu,this.focusTracker=new sc,this._focusables=new Th,this._focusCycler=new Rm({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:s}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",a=>!a),r.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.if("isModal","ck-dialog_modal"),r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",a=>B3(a)),left:r.to("_left",a=>B3(a)),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),t())}),this.on("drag",(e,{deltaX:t,deltaY:i})=>{this.wasMoved=!0,this.moveBy(t,i)}),this.listenTo(it.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(it.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:i=!0,content:s,actionButtons:r}){t&&(this.headerView=new lU(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),s&&(s instanceof en&&(s=[s]),this.contentView=new hU(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),r&&(this.actionsView=new uU(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const i=this._getViewportRect(),s=this._getDialogRect();e+s.width>i.right&&(e=i.right-s.width),e<i.left&&(e=i.left),t<i.top&&(t=i.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,i;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(e):t=ia.SCREEN_CENTER;const s=ym.defaultOffset,r=this._getDialogRect();switch(t){case ia.EDITOR_TOP_SIDE:{if(i){const o=this.locale.contentLanguageDirection==="ltr"?i.right-r.width-s:i.left+s;this.moveTo(o,i.top+s)}else this._moveOffScreen();break}case ia.EDITOR_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),Math.round(i.top+i.height/2-r.height/2)):this._moveOffScreen();break}case ia.SCREEN_CENTER:{this.moveTo(Math.round((e.width-r.width)/2),Math.round((e.height-r.height)/2));break}case ia.EDITOR_TOP_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.top+s):this._moveOffScreen();break}case ia.EDITOR_BOTTOM_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.bottom-r.height-s):this._moveOffScreen();break}case ia.EDITOR_ABOVE_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.top-r.height-s):this._moveOffScreen();break}case ia.EDITOR_BELOW_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.bottom+s):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let t=new nn(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new nn(this.element.firstElementChild)}_getViewportRect(){const e=new nn(it.window);if(this.isModal)return e;const t={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)Dm(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),cU(t)&&this._focusCycler.chain(t.focusCycler)})}_createCloseButton(){const e=new to(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:SV}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}class Wa extends Nn{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),Wa._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{Wa._visibleDialogPlugin&&Wa._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,i)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const i of t)i.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:i,hasCloseButton:s=!0,content:r,actionButtons:o,className:a,isModal:c,position:h,onHide:f,keystrokeHandlerOptions:p}){const v=this.editor;this.view=new ym(v.locale,{getCurrentDomRoot:()=>v.editing.view.getDomRoot(v.model.document.selection.anchor.root.rootName),getViewportOffset:()=>v.ui.viewportOffset,keystrokeHandlerOptions:p});const y=this.view;y.on("close",()=>{this.hide()}),v.ui.view.body.add(y),v.keystrokes.listenTo(y.element),h||(h=c?ia.SCREEN_CENTER:ia.EDITOR_CENTER),c&&this._lockBodyScroll(),y.set({position:h,_isVisible:!0,className:a,isModal:c}),y.setupParts({icon:t,title:i,hasCloseButton:s,content:r,actionButtons:o}),this.id=e,f&&(this._onHide=f),this.isOpen=!0,Wa._visibleDialogPlugin=this}hide(){Wa._visibleDialogPlugin&&Wa._visibleDialogPlugin.fire(`hide:${Wa._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Wa._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class D1 extends to{_checkIconHolderView=new dU;constructor(e,t=new aC){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(s,r)=>s||r)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,i)=>{const{children:s,_checkIconHolderView:r}=this;i?s.add(r,0):s.remove(r)})}}class dU extends en{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,i)=>{const{children:s,_checkIconView:r}=this;i&&!s.has(r)?s.add(r):!i&&s.has(r)&&s.remove(r)})}_createCheckIconView(){const e=new pu;return e.content=kV,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class Ph extends D1{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class fU extends Nn{contentView=null;static get requires(){return[Wa]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(to);return i.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),i}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(Ph);return i.label=t("Accessibility"),i}),e.keystrokes.set("Alt+0",(i,s)=>{this._toggleDialog(),s()}),this._setupRootLabels()}_createButton(e){const t=this.editor,i=t.plugins.get("Dialog"),s=t.locale,r=new e(s);return r.set({keystroke:"Alt+0",icon:N3,isToggleable:!0}),r.on("execute",()=>this._toggleDialog()),r.bind("isOn").to(i,"id",o=>o==="accessibilityHelp"),r}_setupRootLabels(){const e=this.editor,t=e.editing.view,i=e.t;e.ui.on("ready",()=>{t.change(r=>{for(const o of t.document.roots)s(r,o)}),e.on("addRoot",(r,o)=>{const a=e.editing.view.document.getRoot(o.rootName);t.change(c=>s(c,a))},{priority:"low"})});function s(r,o){const c=[o.getAttribute("aria-label"),i("Press %0 for help.",[X0("Alt+0")])].filter(h=>h).join(". ");r.setAttribute("aria-label",c,o)}}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new rU(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:N3,hasCloseButton:!0,content:this.contentView})}}class sa extends Th{locale;_bodyCollectionContainer;static _bodyWrapper;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Qa({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!sa._bodyWrapper||!sa._bodyWrapper.isConnected)&&(sa._bodyWrapper=ra(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(sa._bodyWrapper)),sa._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),sa._bodyWrapper&&!sa._bodyWrapper.childElementCount&&(sa._bodyWrapper.remove(),delete sa._bodyWrapper)}}const I3=O1("px"),gU={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class $a extends en{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",i=>`ck-balloon-panel_${i}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",I3),left:t.to("left",I3)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=k0(e.target);if(t&&!ec(t))return!1;this.show();const i=$a.defaultPositions,s=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:it.document.body,fitInViewport:!0},e),r=$a._getOptimalPosition(s)||gU,o=parseInt(r.left),a=parseInt(r.top),c=r.name,h=r.config||{},{withArrow:f=!0}=h;return this.top=a,this.left=o,this.position=c,this.withArrow=f,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=k0(e.target);const i=e.limiter?k0(e.limiter):it.document.body;if(this.listenTo(it.document,"scroll",(s,r)=>{const o=r.target,a=t&&o.contains(t),c=i&&o.contains(i);(a||c||!t||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(it.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&di(t)&&(t=t.parentElement),t)){const s=()=>{ec(t)||this.unpin()};this._resizeObserver=new Kv(t,s)}return!0}_stopPinning(){this.stopListening(it.document,"scroll"),this.stopListening(it.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=$a.arrowSideOffset,heightOffset:i=$a.arrowHeightOffset,stickyVerticalOffset:s=$a.stickyVerticalOffset,config:r}=e;return{northWestArrowSouthWest:(c,h)=>({top:o(c,h),left:c.left-t,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(c,h)=>({top:o(c,h),left:c.left-h.width*.25-t,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(c,h)=>({top:o(c,h),left:c.left-h.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(c,h)=>({top:o(c,h),left:c.left-h.width*.75+t,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(c,h)=>({top:o(c,h),left:c.left-h.width+t,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(c,h)=>({top:o(c,h),left:c.left+c.width/2-t,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(c,h)=>({top:o(c,h),left:c.left+c.width/2-h.width*.25-t,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(c,h)=>({top:o(c,h),left:c.left+c.width/2-h.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(c,h)=>({top:o(c,h),left:c.left+c.width/2-h.width*.75+t,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(c,h)=>({top:o(c,h),left:c.left+c.width/2-h.width+t,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(c,h)=>({top:o(c,h),left:c.right-t,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(c,h)=>({top:o(c,h),left:c.right-h.width*.25-t,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(c,h)=>({top:o(c,h),left:c.right-h.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(c,h)=>({top:o(c,h),left:c.right-h.width*.75+t,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(c,h)=>({top:o(c,h),left:c.right-h.width+t,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:c=>({top:a(c),left:c.left-t,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(c,h)=>({top:a(c),left:c.left-h.width*.25-t,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(c,h)=>({top:a(c),left:c.left-h.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(c,h)=>({top:a(c),left:c.left-h.width*.75+t,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(c,h)=>({top:a(c),left:c.left-h.width+t,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:c=>({top:a(c),left:c.left+c.width/2-t,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(c,h)=>({top:a(c),left:c.left+c.width/2-h.width*.25-t,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(c,h)=>({top:a(c),left:c.left+c.width/2-h.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(c,h)=>({top:a(c),left:c.left+c.width/2-h.width*.75+t,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(c,h)=>({top:a(c),left:c.left+c.width/2-h.width+t,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:c=>({top:a(c),left:c.right-t,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(c,h)=>({top:a(c),left:c.right-h.width*.25-t,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(c,h)=>({top:a(c),left:c.right-h.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(c,h)=>({top:a(c),left:c.right-h.width*.75+t,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(c,h)=>({top:a(c),left:c.right-h.width+t,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(c,h)=>({top:c.top+c.height/2-h.height/2,left:c.left-h.width-i,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(c,h)=>({top:c.top+c.height/2-h.height/2,left:c.right+i,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(c,h,f)=>{const p=new nn(it.document.body).getIntersection(f.getVisible());if(!p)return null;const v=p.getVisible();return!c.getIntersection(v)||!(v.top-c.top-s<h.height&&v.bottom-c.bottom<h.height)?null:{top:v.top+s,left:c.left+c.width/2-h.width/2,name:"arrowless",config:{withArrow:!1,...r}}}};function o(c,h){return c.top-h.height-i}function a(c){return c.bottom+i}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=Yv;static defaultPositions=$a.generatePositions()}function k0(n){return cu(n)?n:M1(n)?n.commonAncestorContainer:typeof n=="function"?k0(n()):null}const mU=50,pU=350;class lC extends da(){editor;_balloonView=null;_showBalloonThrottled=G0(()=>this._showBalloon(),50,{leading:!0});_lastFocusedEditableElement=null;_balloonClass;constructor(e,t={}){super(),this.editor=e,this._balloonClass=t.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,i,s)=>{this._updateLastFocusedEditableElement(),s?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,i,s)=>{this._updateLastFocusedEditableElement(),s&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,t=new $a,i=this._createBadgeContent();return t.content.add(i),this._balloonClass&&(t.class=this._balloonClass),e.ui.view.body.add(t),t}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),t=e.side==="right"?bU(this._lastFocusedEditableElement,e):yU(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[t]}}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(r=>e.ui.getEditableElement(r));s.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=s[0]}}function bU(n,e){return cC(n,e,(t,i)=>t.left+t.width-i.width-e.horizontalOffset)}function yU(n,e){return cC(n,e,t=>t.left+e.horizontalOffset)}function cC(n,e,t){return(i,s)=>{const r=new nn(n);if(r.width<pU||r.height<mU)return null;let o;e.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=e.verticalOffset;const a=t(r,s),h=i.clone().moveTo(a,o).getIntersection(s.clone().moveTo(a,o)).getVisible();return!h||h.getArea()<s.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}const vU="Powered by";class xU extends lC{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const i=e.config.get("licenseKey");if(i=="GPL")return!0;const s=Zv(i.split(".")[1]);return s?!s.whiteLabel:!0}_createBadgeContent(){return new wU(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},i=t.position||e.position,s=i==="inside"?5:e.verticalOffset;return{position:i,side:t.side||e.side,label:t.label===void 0?vU:t.label,verticalOffset:t.verticalOffset!==void 0?t.verticalOffset:s,horizontalOffset:t.horizontalOffset!==void 0?t.horizontalOffset:e.horizontalOffset,forceVisible:!!t.forceVisible}}}class wU extends en{constructor(e,t){super(e);const i=new pu,s=this.bindTemplate;i.set({content:MV,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}class _U extends to{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new en;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class SU extends kU(D1){}function kU(n){class e extends n{_fileInputView;constructor(...i){super(...i),this._fileInputView=new AU(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return e}class AU extends en{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element?.files?.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class CU extends en{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Mi("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}class i1 extends en{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,i){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new gu,this.focusTracker=new sc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",r=>!r)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,i,s)=>{if(s)if(this.panelPosition==="auto"){const r=i1._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(t,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(t,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:s,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:c,northMiddleEast:h,northMiddleWest:f}=i1.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,a,c,e,r,o,h,f,t]:[s,i,c,a,e,o,r,f,h,t]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})};static _getOptimalPosition=Yv}class NU extends to{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pu;return e.content=d5,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class vm extends en{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class uC extends en{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Mb extends en{labelView;items;children;constructor(e,t=new p5){super(e);const i=this.bindTemplate,s=new hC(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,s]),s.set({role:"group",ariaLabelledBy:t.id}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",r=>!r)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof uC));e&&e.focus()}}}class hC extends en{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);const t=this.bindTemplate;this.focusables=new Th,this.items=this.createCollection(),this.focusTracker=new sc,this.keystrokes=new gu,this._focusCycler=new Rm({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Mb?this._registerFocusableItemsGroup(e):e instanceof vm&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const i of t.removed)i instanceof Mb?this._deregisterFocusableItemsGroup(i):i instanceof vm&&this._deregisterFocusableListItem(i);for(const i of Array.from(t.added).reverse())i instanceof Mb?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(const s of i.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,r)=>{const o=typeof t<"u"?t+r:void 0;this._registerFocusableListItem(s,o)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class dC extends en{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class EU extends en{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function TU(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fC(n){if(Array.isArray(n))return{items:n,removeItems:[]};const e={items:[],removeItems:[]};return n?{...e,...n}:e}const PU={alignLeft:_V,bold:Z8,importExport:CV,paragraph:EV,plus:PV,text:RV,threeVerticalDots:f5,pilcrow:TV,dragIndicator:AV};class gC extends en{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const i=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new sc,this.keystrokes=new gu,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new MU(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=e.uiLanguageDirection==="rtl";this._focusCycler=new Rm({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact"),i.if("isGrouping","ck-toolbar_grouping"),i.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:i.to("role"),"aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:TU(this)}}),this._behavior=this.options.shouldGroupWhenFull?new V3(this):new z3(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,t)=>{this.focusTracker.add(t)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new V3(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new z3(this),this._behavior.render(this)))}_buildItemsFromConfig(e,t,i){const s=fC(e),r=i||s.removeItems;return this._cleanItemsConfiguration(s.items,t,r).map(a=>Co(a)?this._createNestedToolbarDropdown(a,t,r):a==="|"?new dC:a==="-"?new EU:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){const s=e.filter((r,o,a)=>r==="|"?!0:i.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(Mi("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!Co(r)&&!t.has(r)?(Mi("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",i=e.length,s=e.findIndex(t);if(s===-1)return[];const r=i-e.slice().reverse().findIndex(t);return e.slice(s,r).filter((o,a,c)=>t(o)?!0:!(a>0&&c[a-1]===o))}_createNestedToolbarDropdown(e,t,i){let{label:s,icon:r,items:o,tooltip:a=!0,withText:c=!1}=e;if(o=this._cleanItemsConfiguration(o,t,i),!o.length)return null;const h=this.locale,f=mC(h);return s||Mi("toolbarview-nested-toolbar-dropdown-missing-label",e),f.class="ck-toolbar__nested-toolbar-dropdown",f.buttonView.set({label:s,tooltip:a,withText:!!c}),r!==!1?f.buttonView.icon=PU[r]||r||f5:f.buttonView.withText=!0,pC(f,()=>f.toolbarView._buildItemsFromConfig(o,t,i)),f}}class MU extends en{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class z3{type="static";constructor(e){e.isGrouping=!1,e.itemsView.children.bindTo(e.items).using(t=>t),e.focusables.bindTo(e.items).using(t=>Dm(t)?t:null)}render(){}destroy(){}}class V3{type="dynamic";view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.view.isGrouping=!0,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const e=this.view;if(e.items.length){for(let t=0;t<e.items.length;t++){const i=[...e.items][t];this.ungroupedItems.add(i,t)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ec(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new nn(e.lastChild),s=new nn(e);if(!this.cachedPadding){const r=it.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return t==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Kv(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new dC),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=mC(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",pC(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:f5}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Dm(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class OU extends en{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new gu,this.focusTracker=new sc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new to;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new to,t=e.bindTemplate;return e.icon=d5,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function mC(n,e=NU){const t=typeof e=="function"?new e(n):e,i=new CU(n),s=new i1(n,t,i);return t.bind("isEnabled").to(s),t instanceof OU?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),RU(s),s}function pC(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?U3(n,e,t):n.once("change:isOpen",()=>U3(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&LU(n,()=>n.toolbarView.items.find(i=>i.isOn))}function U3(n,e,t){const i=n.locale,s=i.t,r=n.toolbarView=new gC(i),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(r.maxWidth=t.maxWidth),t.class&&(r.class=t.class),t.isCompact&&(r.isCompact=t.isCompact),t.isVertical&&(r.isVertical=!0),o instanceof Th?r.items.bindTo(o).using(a=>a):r.items.addMany(o),n.panelView.children.add(r),n.focusTracker.add(r),r.items.delegate("execute").to(n)}function LU(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Mi("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:hh.low-10})}function RU(n){DU(n),jU(n),FU(n),BU(n),IU(n),zU(n)}function DU(n){oC({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...bC(n.focusTracker).filter(e=>!n.element.contains(e))]})}function bC(n){return[...n.elements,...n.externalViews.flatMap(e=>bC(e.focusTracker))]}function jU(n){n.on("execute",e=>{e.source instanceof _U||(n.isOpen=!1)})}function FU(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function BU(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function IU(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;n.focusTracker.elements.some(r=>r.contains(it.document.activeElement))&&n.buttonView.focus()})}function zU(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}class VU{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Ob(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new fe("componentfactory-item-missing",this,{name:e});return this._components.get(Ob(e)).callback(this.editor.locale)}has(e){return this._components.has(Ob(e))}}function Ob(n){return String(n).toLowerCase()}const q3="ck-tooltip";class lr extends da(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=$a.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),lr._editors.add(e),lr._instance)return lr._instance;lr._instance=this,this.tooltipTextView=new en(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new $a(e.locale),this.balloonPanelView.class=q3,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=UU(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=ph(this._pinTooltip,600),this._unpinTooltipDebounced=ph(this._unpinTooltip,400),this.listenTo(it.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(it.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(it.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(it.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(it.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(it.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;lr._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),lr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),lr._instance=null)}static getPositioningFunctions(e){const t=lr.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const i=Lb(t);if(!i){e.name==="focus"&&this._unpinTooltip();return}if(i===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!i.matches(":hover")||i.matches("[data-cke-tooltip-instant]")?this._pinTooltip(i,Rb(i)):this._pinTooltipDebounced(i,Rb(i))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!cu(t))return;const s=this.balloonPanelView.element,r=s&&(s===i||s.contains(i)),o=!r&&t===s;if(r){this._unpinTooltipDebounced.cancel();return}if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=Lb(t),c=Lb(i);(o||a&&a!==c)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||a&&a.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:s}){this._unpinTooltip();const r=Om(lr._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[q3,s].filter(o=>o).join(" "),this.balloonPanelView.pin({target:e,positions:lr.getPositioningFunctions(i)}),this._mutationObserver.attach(e);for(const o of lr._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of lr._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=Rb(this._currentElementWithTooltip);if(!ec(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:lr.getPositioningFunctions(e.position)})}}function Lb(n){return cu(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function Rb(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function UU(n){const e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}class qU extends lC{licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"};constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"})}_isEnabled(){const t=this.editor.config.get("licenseKey"),i=H3(t);return!!(i&&this.licenseTypeMessage[i])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),t=H3(e);return new HU(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},i=t.position||e.position,s=t.side||e.side;return{position:i,side:s==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class HU extends en{constructor(e,t){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[t]}]})}}function H3(n){if(n=="GPL")return"GPL";const e=Zv(n.split(".")[1]);return e?e.licenseType||"production":null}class yC extends vm{constructor(e,t){super(e);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const n0=5,Cd={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const t of n.menus){const i=e.path[0],s=i instanceof yC&&i.children.first===t;t.isOpen=(e.path.includes(t)||s)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){const e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{t(i.source,e?-1:1)}),n.on("menu:arrowleft",i=>{t(i.source,e?1:-1)});function t(i,s){const r=n.children.getIndex(i),o=i.isOpen,a=n.children.length,c=n.children.get((r+a+s)%a);i.isOpen=!1,o&&(c.isOpen=!0),c.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,i)=>{i&&n.menus.filter(s=>e.source.parentMenuView===s.parentMenuView&&e.source!==s&&s.isOpen).forEach(s=>{s.isOpen=!1})})},closeOnClickOutside(n){oC({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(n){let e=!1;n.on("change:isOpen",(t,i,s)=>{s||(e||(n.isFocusBorderEnabled=!1),e=!1)}),n.listenTo(n.element,"keydown",()=>{e=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{e=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{e&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},Xc={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),t())})},closeOnArrowLeftKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,i)=>{!i&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},WU={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-n0,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-n0,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+n0,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n0,name:"wn"})},GU=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:lineHeight","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function $U(n){let e;return!("items"in n)||!n.items?e={items:Nr(GU),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:e={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},e}function KU({normalizedConfig:n,locale:e,componentFactory:t,extraItems:i}){const s=Nr(n);return W3(n,s,i),YU(n,s),W3(n,s,s.addItems),XU(n,s,t),vC(n,s),JU(s,e),s}function YU(n,e){const t=e.removeItems,i=[];e.items=e.items.filter(({menuId:s})=>t.includes(s)?(i.push(s),!1):!0),gf(e.items,s=>{s.groups=s.groups.filter(({groupId:r})=>t.includes(r)?(i.push(r),!1):!0);for(const r of s.groups)r.items=r.items.filter(o=>{const a=xC(o);return t.includes(a)?(i.push(a),!1):!0})});for(const s of t)i.includes(s)||Mi("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:s})}function W3(n,e,t){const i=[];if(t.length!=0){for(const s of t){const r=eq(s.position),o=tq(s.position);if(QU(s))if(!o)r==="start"?(e.items.unshift(s.menu),i.push(s)):r==="end"&&(e.items.push(s.menu),i.push(s));else{const a=e.items.findIndex(c=>c.menuId===o);a!=-1?r==="before"?(e.items.splice(a,0,s.menu),i.push(s)):r==="after"&&(e.items.splice(a+1,0,s.menu),i.push(s)):G3(e,s.menu,o,r)&&i.push(s)}else ZU(s)?gf(e.items,a=>{if(a.menuId===o)r==="start"?(a.groups.unshift(s.group),i.push(s)):r==="end"&&(a.groups.push(s.group),i.push(s));else{const c=a.groups.findIndex(h=>h.groupId===o);c!==-1&&(r==="before"?(a.groups.splice(c,0,s.group),i.push(s)):r==="after"&&(a.groups.splice(c+1,0,s.group),i.push(s)))}}):G3(e,s.item,o,r)&&i.push(s)}for(const s of t)i.includes(s)||Mi("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:s})}}function G3(n,e,t,i){let s=!1;return gf(n.items,r=>{for(const{groupId:o,items:a}of r.groups){if(s)return;if(o===t)i==="start"?(a.unshift(e),s=!0):i==="end"&&(a.push(e),s=!0);else{const c=a.findIndex(h=>xC(h)===t);c!==-1&&(i==="before"?(a.splice(c,0,e),s=!0):i==="after"&&(a.splice(c+1,0,e),s=!0))}}}),s}function XU(n,e,t){gf(e.items,i=>{for(const s of i.groups)s.items=s.items.filter(r=>{const o=typeof r=="string"&&!t.has(r);return o&&!e.isUsingDefaultConfig&&Mi("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Nr(i),componentName:r}),!o})})}function vC(n,e){const t=e.isUsingDefaultConfig;let i=!1;if(e.items=e.items.filter(s=>s.groups.length?!0:(Db(n,s,t),!1)),!e.items.length){Db(n,n,t);return}gf(e.items,s=>{s.groups=s.groups.filter(r=>r.items.length?!0:(i=!0,!1));for(const r of s.groups)r.items=r.items.filter(o=>wC(o)&&!o.groups.length?(Db(n,o,t),i=!0,!1):!0)}),i&&vC(n,e)}function Db(n,e,t){t||Mi("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function JU(n,e){const t=e.t,i={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};gf(n.items,s=>{s.label in i&&(s.label=i[s.label])})}function gf(n,e){if(Array.isArray(n))for(const i of n)t(i);function t(i){e(i);for(const s of i.groups)for(const r of s.items)wC(r)&&t(r)}}function QU(n){return typeof n=="object"&&"menu"in n}function ZU(n){return typeof n=="object"&&"group"in n}function eq(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function tq(n){const e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function xC(n){return typeof n=="string"?n:n.menuId}function wC(n){return typeof n=="object"&&"menuId"in n}class nq extends ss(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;evaluationBadge;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;_domEmitter;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new VU(e),this.focusTracker=new sc,this.tooltipManager=new lr(e),this.poweredBy=new xU(e),this.evaluationBadge=new qU(e),this.ariaLiveAnnouncer=new tU(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const i=$U(this.editor.config.get("menuBar")||{});e.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(s,r)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),r())}),this.editor.keystrokes.set("Alt+F9",(s,r)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),r())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(i,s)=>{this._saveLastFocusedForeignElement();const r=this._getCurrentFocusedToolbarDefinition();(!r||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let o=0;o<t.length;o++){const a=t.shift();if(t.push(a),a!==r&&this._focusFocusableCandidateToolbar(a)){r&&r.options.afterBlur&&r.options.afterBlur();break}}s()}),e.keystrokes.set("Esc",(i,s)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),s())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:s}=t;(ec(i.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,i)=>$3(t)-$3(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),ec(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(t,i)=>{this.focusTracker.add(i.element)}),e.on("remove",(t,i)=>{this.focusTracker.remove(i.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(t,i,s)=>{const r=this._getVisualViewportTopOffset(s);s.visualTop!==r&&(t.return={...s,visualTop:r})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!it.window.visualViewport)return;const e=()=>{const t=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==t&&(this.viewportOffset={...this.viewportOffset,visualTop:t})};this._domEmitter=new(da()),this._domEmitter.listenTo(it.window.visualViewport,"scroll",e),this._domEmitter.listenTo(it.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const t=w0().top,i=e.top||0;return t>i?0:i-t}}function $3(n){const{toolbarView:e,options:t}=n;let i=10;return ec(e.element)&&i--,t.isContextual&&(i-=2),i}class iq extends en{body;menuBarView;toolbar;constructor(e){super(e),this.body=new sa(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class sq extends iq{top;main;_voiceLabelView;constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new p5;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class rq extends en{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,i){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(s){e.change(r=>{const o=e.document.getRoot(s.name);r.addClass(s.isFocused?"ck-focused":"ck-blurred",o),r.removeClass(s.isFocused?"ck-blurred":"ck-focused",o)})}function i(s){e.once("change:isRenderingInProgress",(r,o,a)=>{a?i(s):t(s)})}}}class oq extends rq{_options;constructor(e,t,i,s={}){super(e,t,i),this._options=s,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),i)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,i=this._editableElement,s=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[s];if(typeof t=="function")return t(this);if(i){const r=i.getAttribute("aria-label");if(r)return r}return e("Rich Text Editor. Editing area: %0",s)}}const Nd=O1("px");class aq extends en{content;contentPanelElement;_contentPanelPlaceholder;constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Qa({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?Nd(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Qa({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?Nd(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",i=>i&&Nd(i)),bottom:t.to("_stickyBottomOffset",i=>i&&Nd(i)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(it.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()}),it.window.visualViewport&&(this.listenTo(it.window.visualViewport,"scroll",()=>{this.checkIfShouldBeSticky()}),this.listenTo(it.window.visualViewport,"resize",()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new nn(this.limiterElement);let t=e.getVisible();if(t){const r=new nn(it.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,t=t.getIntersection(r)}const{left:i,top:s}=w0();if(e.moveBy(i,s),t&&t.moveBy(i,s),t&&e.top<t.top)if(this._contentPanelRect.height+this.limiterBottomOffset>t.height){const r=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;this._contentPanelRect.height+r+1<e.height?this._stickToBottomOfLimiter(r):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(t.top):this._unstick();else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Nd(-it.window.scrollX+w0().left)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Nd(-it.window.scrollX+w0().left)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new nn(this.contentPanelElement)}}class lq extends D1{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pu;return e.content=d5,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class cq extends en{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),t.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}class Wg extends en{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new lq(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new cq(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new gu,this.focusTracker=new sc,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",i=>!i),t.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Xc.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Xc.openOnButtonClick(this),Xc.openOnArrowRightKey(this),Xc.closeOnArrowLeftKey(this),Xc.openAndFocusOnEnterKeyPress(this),Xc.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Xc.openAndFocusPanelOnArrowDownKey(this),Xc.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,i)=>{if(!i)return;const s=Wg._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:i,northWest:s,westSouth:r,eastSouth:o,westNorth:a,eastNorth:c}=WU;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[o,c,r,a]:[e,t,i,s]:this.parentMenuView?[r,a,o,c]:[t,e,s,i]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}static _getOptimalPosition=Yv}class K3 extends hC{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(t=>{const i=Y3(t);return i&&i.isToggleable});this.items.forEach(t=>{const i=Y3(t);i&&(i.hasCheckSpace=e)})}}function Y3(n){return n instanceof vm?n.children.map(e=>uq(e)?e.buttonView:e).find(e=>e instanceof D1):null}function uq(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof to}class hq extends SU{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const X3=["mouseenter","arrowleft","arrowright","change:isOpen"];class dq extends en{children;menus=[];constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,i=[]){const s=this.locale,o=KU({normalizedConfig:e,locale:s,componentFactory:t,extraItems:i}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(o)}render(){super.render(),Cd.toggleMenusAndFocusItemsOnHover(this),Cd.closeMenusWhenTheBarCloses(this),Cd.closeMenuWhenAnotherOnTheSameLevelOpens(this),Cd.focusCycleMenusOnArrows(this),Cd.closeOnClickOutside(this),Cd.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,t=null){t?(e.delegate(...X3).to(t),e.parentMenuView=t):e.delegate(...X3).to(this,i=>"menu:"+i),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:i}){const s=this.locale,r=new Wg(s);return this.registerMenu(r,i),r.buttonView.set({label:t.label}),r.once("change:isOpen",()=>{const o=new K3(s);o.ariaLabel=t.label,r.panelView.children.add(o),o.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:r,componentFactory:e}))}),r}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:i}){const s=this.locale,r=[];for(const o of e.groups){for(const a of o.items){const c=new yC(s,t);if(Co(a))c.children.add(this._createMenu({componentFactory:i,menuDefinition:a,parentMenuView:t}));else{const h=this._createMenuItemContentFromFactory({componentName:a,componentFactory:i,parentMenuView:t});if(!h)continue;c.children.add(h)}r.push(c)}o!==e.groups[e.groups.length-1]&&r.push(new uC(s))}return r}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:i}){const s=i.create(e);return s instanceof Wg||s instanceof Ph||s instanceof hq?(this._registerMenuTree(s,t),s.on("execute",()=>{this.close()}),s):(Mi("menu-bar-component-unsupported",{componentName:e,componentView:s}),null)}_registerMenuTree(e,t){if(!(e instanceof Wg)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const i=e.panelView.children.filter(r=>r instanceof K3)[0];if(!i){e.delegate("mouseenter").to(t);return}const s=i.items.filter(r=>r instanceof vm);for(const r of s)this._registerMenuTree(r.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,i,s)=>{clearTimeout(e),s?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(r=>r.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class _C{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class fq extends ac{_buffer;constructor(e,t){super(e),this._buffer=new _C(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,s=e.text||"",r=s.length;let o=i.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,c=>{this._buffer.lock();const h=Array.from(i.selection.getAttributes());t.deleteContent(o),s&&t.insertContent(c.createText(s,h),o),a?c.setSelection(a):o.is("documentSelection")||c.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}const SC=["insertText","insertReplacementText"],gq=[...SC,"insertCompositionText"];class mq extends oc{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(Z0);const t=Et.isAndroid?gq:SC,i=e.document;i.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{data:o,targetRanges:a,inputType:c,domEvent:h,isComposing:f}=r;if(!t.includes(c))return;this.focusObserver.flush();const p=new Zl(i,"insertText");i.fire(p,new yh(e,h,{text:o,selection:e.createSelection(a),isComposing:f})),p.stop.called&&s.stop()}),Et.isAndroid||i.on("compositionend",(s,{data:r,domEvent:o})=>{this.isEnabled&&r&&i.fire("insertText",new yh(e,o,{text:r,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class pq extends Nn{_typingQueue;static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,i=e.editing.view,s=e.editing.mapper,r=t.document.selection;this._typingQueue=new bq(e),i.addObserver(mq);const o=new fq(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(i.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(i.document,"insertText",(a,c)=>{const{text:h,selection:f}=c;if(i.document.selection.isFake&&f&&i.document.selection.isSimilar(f)&&c.preventDefault(),f&&Array.from(f.getRanges()).some(k=>!k.isCollapsed)&&c.preventDefault(),!o.isEnabled){c.preventDefault();return}let p;f?p=Array.from(f.getRanges()).map(k=>s.toModelRange(k)).map(k=>u5(k,t.schema)||k):p=Array.from(r.getRanges());let v=h;if(Et.isAndroid){const k=Array.from(p[0].getItems()).reduce((A,N)=>A+(N.is("$textProxy")?N.data:""),"");if(k&&(k.length<=v.length?v.startsWith(k)&&(v=v.substring(k.length),p[0].start=p[0].start.getShiftedBy(k.length)):k.startsWith(v)&&(p[0].start=p[0].start.getShiftedBy(v.length),v="")),v.length==0&&p[0].isCollapsed)return}const y={text:v,selection:t.createSelection(p)};this._typingQueue.push(y,!!c.isComposing),c.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),Et.isAndroid?this.listenTo(i.document,"keydown",(a,c)=>{r.isCollapsed||c.keyCode!=229||!i.document.isComposing||J3(t,o)}):this.listenTo(i.document,"compositionstart",()=>{r.isCollapsed||J3(t,o)},{priority:"high"}),this.listenTo(i.document,"mutations",(a,{mutations:c})=>{if(this._typingQueue.hasAffectedElements())for(const{node:h}of c){const f=vq(h,s),p=s.toModelElement(f);if(this._typingQueue.isElementAffected(p)){this._typingQueue.flush("mutations");return}}}),this.listenTo(i.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(i.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const a=[];if(this._typingQueue.hasAffectedElements())for(const c of this._typingQueue.flushAffectedElements()){const h=s.toViewElement(c);h&&a.push({type:"children",node:h})}(a.length||!Et.isAndroid)&&i.document.fire("mutations",{mutations:a})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class bq{editor;flushDebounced=ph(()=>this.flush("timeout"),50);_queue=[];_isComposing=!1;_affectedElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e,t){const i={text:e.text};if(e.selection){i.selectionRanges=[];for(const s of e.selection.getRanges())i.selectionRanges.push(Ao.fromRange(s)),this._affectedElements.add(s.start.parent)}this._queue.push(i),this._isComposing||=t,this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const i=e.selectionRanges.map(s=>yq(s)).filter(s=>!!s);i.length&&(t.selection=this.editor.model.createSelection(i))}return t}flush(e){const t=this.editor,i=t.model,s=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=t.commands.get("insertText").buffer;i.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();t.execute("insertText",a)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),s.scrollToTheSelection()}isElementAffected(e){return this._affectedElements.has(e)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const e=Array.from(this._affectedElements);return this._affectedElements.clear(),e}}function J3(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}function yq(n){const e=n.toRange();return n.detach(),e.root.rootName=="$graveyard"?null:e}function vq(n,e){let t=n.is("$text")?n.parent:n;for(;!e.toModelElement(t);)t=t.parent;return t}class Q3 extends ac{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new _C(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const r=s.createSelection(e.selection||i.selection);if(!t.canEditAt(r))return;const o=e.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(r,o)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let c=0;r.getFirstRange().getMinimalFlatRanges().forEach(h=>{c+=Dy(h.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(c),s.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(r))||!t.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),r=i.schema.getLimitElement(s),o=r.getChild(0);return!(s.parent!=o||!e.containsEntireContent(o)||!i.schema.checkChild(r,"paragraph")||o.name=="paragraph")}}const xq="character",Z3="word",wq="codePoint",Zc="selection",Dd="backward",Ng="forward",kC={deleteContent:{unit:Zc,direction:Dd},deleteContentBackward:{unit:wq,direction:Dd},deleteWordBackward:{unit:Z3,direction:Dd},deleteHardLineBackward:{unit:Zc,direction:Dd},deleteSoftLineBackward:{unit:Zc,direction:Dd},deleteContentForward:{unit:xq,direction:Ng},deleteWordForward:{unit:Z3,direction:Ng},deleteHardLineForward:{unit:Zc,direction:Ng},deleteSoftLineForward:{unit:Zc,direction:Ng}};class _q extends oc{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:c}=r,h=kC[c];if(!h)return;const f={direction:h.direction,unit:h.unit,sequence:i};f.unit==Zc&&(f.selectionToRemove=e.createSelection(o[0])),c==="deleteContentBackward"&&(Et.isAndroid&&(f.sequence=1),kq(o)&&(f.unit=Zc,f.selectionToRemove=e.createSelection(o)));const p=new Ch(t,"delete",o[0]);t.fire(p,new yh(e,a,f)),p.stop.called&&s.stop()}),Et.isBlink&&Sq(this)}observe(){}stopObserving(){}}function Sq(n){const e=n.view,t=e.document;let i=null,s=!1;t.on("keydown",(a,{keyCode:c})=>{i=c,s=!1}),t.on("keyup",(a,{keyCode:c,domEvent:h})=>{const f=t.selection,p=n.isEnabled&&c==i&&r(c)&&!f.isCollapsed&&!s;if(i=null,p){const v=f.getFirstRange(),y=new Ch(t,"delete",v),k={unit:Zc,direction:o(c),selectionToRemove:f};t.fire(y,new yh(e,h,k))}}),t.on("beforeinput",(a,{inputType:c})=>{const h=kC[c];r(i)&&h&&h.direction==o(i)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:c,data:h})=>{i==on.delete&&c=="insertText"&&h==""&&a.stop()},{priority:"high"});function r(a){return a==on.backspace||a==on.delete}function o(a){return a==on.backspace?Dd:Ng}}function kq(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i,item:s}of e){if(i.parent.is("$text")){const r=i.parent.data,o=i.offset;if(e5(r,o)||t5(r,o)||o8(r,o))continue;t++}else(s.is("containerElement")||s.is("emptyElement"))&&t++;if(t>1)return!0}return!1}class b5 extends Nn{_undoOnBackspace;static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.model.document;t.addObserver(_q),this._undoOnBackspace=!1;const r=new Q3(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new Q3(e,"backward")),this.listenTo(i,"delete",(o,a)=>{i.isComposing||a.preventDefault();const{direction:c,sequence:h,selectionToRemove:f,unit:p}=a,v=c==="forward"?"deleteForward":"delete",y={sequence:h};if(p=="selection"){const k=Array.from(f.getRanges()).map(A=>e.editing.mapper.toModelRange(A)).map(A=>u5(A,e.model.schema)||A);y.selection=e.model.createSelection(k)}else y.unit=p;e.execute(v,y),t.scrollToTheSelection()},{priority:"low"}),this.listenTo(i,"keydown",(o,a)=>{if(i.isComposing||a.keyCode!=on.backspace||!s.selection.isCollapsed)return;const c=e.model.schema.getLimitElement(s.selection),h=e.model.createPositionAt(c,0);if(h.isTouching(s.selection.getFirstPosition())){a.preventDefault();const f=e.model.schema.getNearestSelectionRange(h,"forward");if(!f)return;const p=t.createSelection(e.editing.mapper.toViewRange(f)),v=p.getFirstRange(),y=new Ch(document,"delete",v),k={unit:"selection",direction:"backward",selectionToRemove:p};i.fire(y,new yh(t,a.domEvent,k))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Aq extends Nn{static get requires(){return[pq,b5]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class AC extends ac{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,r=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(s.isCollapsed)r?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const c of a)r?o.setAttribute(this.attributeKey,r,c):o.removeAttribute(this.attributeKey,c)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const s of i.getRanges())for(const r of s.getItems())if(t.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}const Ed="bold";class Cq extends Nn{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Ed}),e.model.schema.setAttributeProperties(Ed,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ed,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Ed,new AC(e,Ed)),e.keystrokes.set("CTRL+B",Ed),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function CC({editor:n,commandName:e,plugin:t,icon:i,label:s,keystroke:r}){return o=>{const a=n.commands.get(e),c=new o(n.locale);return c.set({label:s,icon:i,keystroke:r,isToggleable:!0}),c.bind("isEnabled").to(a,"isEnabled"),c.bind("isOn").to(a,"value"),c instanceof Ph?c.set({role:"menuitemcheckbox"}):c.set({tooltip:!0}),t.listenTo(c,"execute",()=>{n.execute(e),n.editing.view.focus()}),c}}const jb="bold";class Nq extends Nn{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=CC({editor:e,commandName:jb,plugin:this,icon:Z8,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(jb,()=>i(to)),e.ui.componentFactory.add("menuBar:"+jb,()=>i(Ph))}}class Eq extends Nn{static get requires(){return[Cq,Nq]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const Td="italic";class Tq extends Nn{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Td}),e.model.schema.setAttributeProperties(Td,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Td,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Td,new AC(e,Td)),e.keystrokes.set("CTRL+I",Td),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const Fb="italic";class Pq extends Nn{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=CC({editor:e,commandName:Fb,plugin:this,icon:NV,keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(Fb,()=>i(to)),e.ui.componentFactory.add("menuBar:"+Fb,()=>i(Ph))}}class Mq extends Nn{static get requires(){return[Tq,Pq]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*NC(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class Oq extends ac{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,s=t.schema,r=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,c=o.end.parent;if(s.isLimit(a)||s.isLimit(c))return!r&&a==c&&t.deleteContent(i),!1;if(r){const h=NC(e.model.schema,i.getAttributes());return e6(e,o.start),e.setSelectionAttribute(h),!0}else{const h=!(o.start.isAtStart&&o.end.isAtEnd),f=a==c;if(t.deleteContent(i,{leaveUnmerged:h}),h){if(f)return e6(e,i.focus),!0;e.setSelection(c,0)}}return!1}}function e6(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}const Lq={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class EC extends oc{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(s,r)=>{i=r.shiftKey}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;Et.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,c=Lq[o];if(!c)return;const h=new Ch(t,"enter",r.targetRanges[0]);t.fire(h,new yh(e,a,{isSoft:c.isSoft})),h.stop.called&&s.stop()})}observe(){}stopObserving(){}}class TC extends Nn{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,s=this.editor.t;t.addObserver(EC),e.commands.add("enter",new Oq(e)),this.listenTo(i,"enter",(r,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Rq extends ac{execute(){const e=this.editor.model,t=e.document;e.change(i=>{jq(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=Dq(e.schema,t.selection)}}function Dq(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const i=e.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((Hy(s,n)||Hy(r,n))&&s!==r)}function jq(n,e,t){const i=t.isCollapsed,s=t.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(i){const c=NC(n.schema,t.getAttributes());t6(n,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(c)}else{const c=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:c}),a?t6(n,e,t.focus):c&&e.setSelection(o,0)}}function t6(n,e,t){const i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function Hy(n,e){return n.is("rootElement")?!1:e.isLimit(n)||Hy(n.parent,e)}class Fq extends Nn{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,i=e.conversion,s=e.editing.view,r=s.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:c})=>c.createEmptyElement("br")}),s.addObserver(EC),e.commands.add("shiftEnter",new Rq(e)),this.listenTo(r,"enter",(a,c)=>{r.isComposing||c.preventDefault(),c.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const n6="ck-widget_selected";function ys(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function Bq(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}const Bl="widget-type-around";function eh(n,e,t){return!!n&&ys(n)&&!t.isInline(e)}function Iq(n){return n.closest(".ck-widget__type-around__button")}function zq(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function Vq(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function th(n){return n.getAttribute(Bl)}const PC=["before","after"],Uq=new DOMParser().parseFromString(OV,"image/svg+xml").firstChild,i6="ck-widget__type-around_disabled";class qq extends Nn{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[TC,b5]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,s,r)=>{t.change(o=>{for(const a of t.document.roots)r?o.removeClass(i6,a):o.addClass(i6,a)}),r||e.model.change(o=>{o.removeSelectionAttribute(Bl)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,s=i.editing.view,r=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:r}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,i,s){this.listenTo(e,t,(...r)=>{this.isEnabled&&i(...r)},s)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,s=th(i);if(!s)return!1;const r=i.getSelectedElement();return this._insertParagraph(r,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,s={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(r,o,a)=>{const c=a.mapper.toViewElement(o.item);c&&eh(c,o.item,t)&&(Hq(a.writer,s,c),c.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,s=t.schema,r=e.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,c)=>{this._handleArrowKeyPress(a,c)},{context:[ys,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,c)=>{c.directChange&&e.model.change(h=>{h.removeSelectionAttribute(Bl)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=i.getSelectedElement();if(a){const c=e.editing.mapper.toViewElement(a);if(eh(c,a,s))return}e.model.change(c=>{c.removeSelectionAttribute(Bl)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,c,h)=>{const f=h.writer;if(this._currentFakeCaretModelElement){const k=h.mapper.toViewElement(this._currentFakeCaretModelElement);k&&(f.removeClass(PC.map(o),k),this._currentFakeCaretModelElement=null)}const p=c.selection.getSelectedElement();if(!p)return;const v=h.mapper.toViewElement(p);if(!eh(v,p,s))return;const y=th(c.selection);y&&(f.addClass(o(y),v),this._currentFakeCaretModelElement=p)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,c,h)=>{h||e.model.change(f=>{f.removeSelectionAttribute(Bl)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const i=this.editor,s=i.model,r=s.document.selection,o=s.schema,a=i.editing.view,c=t.keyCode,h=sF(c,i.locale.contentLanguageDirection),f=a.document.selection.getSelectedElement(),p=i.editing.mapper.toModelElement(f);let v;eh(f,p,o)?v=this._handleArrowKeyPressOnSelectedWidget(h):r.isCollapsed?v=this._handleArrowKeyPressWhenSelectionNextToAWidget(h):t.shiftKey||(v=this._handleArrowKeyPressWhenNonCollapsedSelection(h)),v&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=i.document.selection,r=th(s);return i.change(o=>{if(r){if(!(r===(e?"after":"before")))return o.removeSelectionAttribute(Bl),!0}else return o.setSelectionAttribute(Bl,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,s=i.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return eh(a,o,s)?(i.change(c=>{r._setSelectionOverElement(o),c.setSelectionAttribute(Bl,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,s=i.schema,r=t.editing.mapper,o=i.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,c=r.toViewElement(a);return eh(c,a,s)?(i.change(h=>{h.setSelection(a,"on"),h.setSelectionAttribute(Bl,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,s)=>{const r=Iq(s.domTarget);if(!r)return;const o=zq(r),a=Vq(r,t.domConverter),c=e.editing.mapper.toModelElement(a);this._insertParagraph(c,o),s.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(s,r)=>{if(s.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),c=e.model.schema;let h;this._insertParagraphAccordingToFakeCaretPosition()?h=!0:eh(a,o,c)&&(this._insertParagraph(o,r.isSoft?"before":"after"),h=!0),h&&(r.preventDefault(),s.stop())},{context:ys})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),Et.isAndroid?this._listenToIfEnabled(t,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,s=i.schema;this._listenToIfEnabled(t.document,"delete",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=th(i.document.selection);if(!a)return;const c=o.direction,h=i.document.selection.getSelectedElement(),f=a==="before",p=c=="forward";if(f===p)e.execute("delete",{selection:i.createSelection(h,"on")});else{const y=s.getNearestSelectionRange(i.createPositionAt(h,a),c);if(y)if(!y.isCollapsed)i.change(k=>{k.setSelection(y),e.execute(p?"deleteForward":"delete")});else{const k=i.createSelection(y.start);if(i.modifySelection(k,{direction:c}),!k.focus.isEqual(y.start))i.change(A=>{A.setSelection(y),e.execute(p?"deleteForward":"delete")});else{const A=$q(s,y.start.parent);i.deleteContent(i.createSelection(A,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),r.stop()},{context:ys})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[r,o])=>{if(o&&!o.is("documentSelection"))return;const a=th(i);if(a)return s.stop(),t.change(c=>{const h=i.getSelectedElement(),f=t.createPositionAt(h,a),p=c.createSelection(f),v=t.insertContent(r,p);return c.setSelection(p),v})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,r)=>{const[,o,a={}]=r;if(o&&!o.is("documentSelection"))return;const c=th(i);c&&(a.findOptimalPosition=c,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[r])=>{if(r&&!r.is("documentSelection"))return;th(i)&&s.stop()},{priority:"high"})}}function Hq(n,e,t){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return Wq(r,e),Gq(r),r});n.insert(n.createPositionAt(t,"end"),i)}function Wq(n,e){for(const t of PC){const i=new Qa({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(Uq,!0)]});n.appendChild(i.render())}}function Gq(n){const e=new Qa({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function $q(n,e){let t=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}function Kq(n){const e=n.model;return(t,i)=>{const s=i.keyCode==on.arrowup,r=i.keyCode==on.arrowdown,o=i.shiftKey,a=e.document.selection;if(!s&&!r)return;const c=r;if(o&&Jq(a,c))return;const h=Yq(n,a,c);if(h){if(h.isCollapsed){if(a.isCollapsed)return;if(o)return}(h.isCollapsed||Xq(n,h,c))&&(e.change(f=>{const p=c?h.end:h.start;if(o){const v=e.createSelection(a.anchor);v.setFocus(p),f.setSelection(v)}else f.setSelection(p)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function Yq(n,e,t){const i=n.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),r=s6(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),a=r6(i.schema,o,"backward");return a?i.createRange(s,a):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),r=s6(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),a=r6(i.schema,o,"forward");return a?i.createRange(a,s):null}}function s6(n,e,t){const i=n.schema,s=n.createRangeIn(e.root),r=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:c}of s.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return o;if(c==r&&i.isBlock(a))return null}return null}function r6(n,e,t){const i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of e.getWalker({direction:t}))if(n.checkChild(s,"$text"))return s;return null}function Xq(n,e,t){const i=n.model,s=n.view.domConverter;if(t){const h=i.createSelection(e.start);i.modifySelection(h),!h.focus.isAtEnd&&!e.start.isEqual(h.focus)&&(e=i.createRange(h.focus,e.end))}const r=n.mapper.toViewRange(e),o=s.viewRangeToDom(r),a=nn.getDomRangeRects(o);let c;for(const h of a){if(c===void 0){c=Math.round(h.bottom);continue}if(Math.round(h.top)>=c)return!1;c=Math.max(c,Math.round(h.bottom))}return!0}function Jq(n,e){return!n.isCollapsed&&n.isBackward==e}class Qq extends Nn{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[qq,b5]}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.t;this.editor.editing.downcastDispatcher.on("selection",(r,o,a)=>{const c=a.writer,h=o.selection;if(h.isCollapsed)return;const f=h.getSelectedElement();if(!f)return;const p=e.editing.mapper.toViewElement(f);ys(p)&&a.consumable.consume(h,"selection")&&c.setSelection(c.createRangeOn(p),{fake:!0,label:Bq(p)})}),this.editor.editing.downcastDispatcher.on("selection",(r,o,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const c=a.writer,h=c.document.selection;let f=null;for(const p of h.getRanges())for(const v of p){const y=v.item;ys(y)&&!tH(y,f)&&(c.addClass(n6,y),this._previouslySelected.add(y),f=y)}},{priority:"low"}),t.addObserver(tV),t.addObserver(K8),this.listenTo(i,"mousedown",(...r)=>this._onMousedown(...r)),this.listenTo(i,"pointerdown",(...r)=>this._onPointerdown(...r)),this.listenTo(i,"arrowKey",(...r)=>{this._handleSelectionChangeOnArrowKeyPress(...r)},{context:[ys,"$text"]}),this.listenTo(i,"arrowKey",(...r)=>{this._preventDefaultOnArrowKeyPress(...r)},{context:"$root"}),this.listenTo(i,"arrowKey",Kq(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(r,o)=>{this._handleDelete(o.direction=="forward")&&(o.preventDefault(),r.stop())},{context:"$root"}),this.listenTo(i,"tab",(r,o)=>{r.eventPhase=="atTarget"&&(o.shiftKey||this._selectFirstNestedEditable()&&(o.preventDefault(),r.stop()))},{context:ys,priority:"low"}),this.listenTo(i,"tab",(r,o)=>{o.shiftKey&&this._selectAncestorWidget()&&(o.preventDefault(),r.stop())},{priority:"low"}),this.listenTo(i,"keydown",(r,o)=>{o.keystroke==on.esc&&this._selectAncestorWidget()&&(o.preventDefault(),r.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:s("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:s("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:s("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:s("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:s("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:s("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const i=t.target;i&&t.domEvent.detail>=3&&this._selectBlockContent(i)&&t.preventDefault()}_onPointerdown(e,t){if(!t.domEvent.isPrimary)return;const i=this.editor,s=i.editing.view,r=s.document;let o=t.target;if(!o)return;if(!ys(o)){const c=Zq(o);if(!c)return;if(ys(c))o=c;else{const h=eH(s,t);if(h&&ys(h))o=h;else return}}(Et.isAndroid||Et.isiOS)&&t.preventDefault(),r.isFocused||s.focus();const a=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,i=t.model,s=t.editing.mapper,r=i.schema,o=s.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=nH(s.toModelElement(o),i.schema);return a?(i.change(c=>{const h=r.isLimit(a)?null:iH(c.createPositionAfter(a),r),f=c.createPositionAt(a,0),p=h?c.createPositionAt(h,0):c.createPositionAt(a,"end");c.setSelection(c.createRange(f,p))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,s=this.editor.model,r=s.schema,o=s.document.selection,a=o.getSelectedElement(),c=r8(i,this.editor.locale.contentLanguageDirection),h=c=="down"||c=="right",f=c=="up"||c=="down";if(a&&r.isObject(a)){const v=h?o.getLastPosition():o.getFirstPosition(),y=r.getNearestSelectionRange(v,h?"forward":"backward");y&&(s.change(k=>{k.setSelection(y)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const v=o.getFirstPosition(),y=o.getLastPosition(),k=v.nodeAfter,A=y.nodeBefore;(k&&r.isObject(k)||A&&r.isObject(A))&&(s.change(N=>{N.setSelection(h?y:v)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const p=this._getObjectElementNextToSelection(h);if(p&&r.isObject(p)){if(r.isInline(p)&&f)return;this._setSelectionOverElement(p),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,s=i.schema,r=i.document.selection.getSelectedElement();r&&s.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(r=>{let o=i.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,r.remove(a)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,s=t.document.selection,r=t.createSelection(s);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(s))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&i.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(n6,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const s of i.selection.getFirstRange().getItems())if(s.is("editableElement")){const r=e.editing.mapper.toModelElement(s);/* istanbul ignore next -- @preserve */if(!r)continue;const o=e.model.createPositionAt(r,0),a=e.model.schema.getNearestSelectionRange(o,"forward");return e.model.change(c=>{c.setSelection(a)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,o=(s.is("$text")?s.parent:s).findAncestor(ys);if(!o)return!1;const a=t.toModelElement(o);/* istanbul ignore next -- @preserve */return a?(e.model.change(c=>{c.setSelection(a,"on")}),!0):!1}}function Zq(n){let e=n;for(;e;){if(e.is("editableElement")||ys(e))return e;e=e.parent}return null}function eH(n,e){const t=XA(e.domEvent);let i=null;if(t?i=n.domConverter.domRangeToView(t):i=n.createRange(n.createPositionAt(e.target,0)),!i)return null;const s=i.start;if(!s.parent)return null;let r=s.parent;return s.parent.is("editableElement")&&(s.isAtEnd&&s.nodeBefore?r=s.nodeBefore:s.isAtStart&&s.nodeAfter&&(r=s.nodeAfter)),r.is("$text")?r.parent:r}function tH(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function nH(n,e){for(const t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function iH(n,e){const t=new Gl({startPosition:n});for(const{item:i}of t){if(e.isLimit(i)||!i.is("element"))return null;if(e.checkChild(i,"$text"))return i}return null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class xm extends Nh{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(s){return(r,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,c=new Zl(t,s);t.fire(c,{dataTransfer:o.dataTransfer,method:r.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),c.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",s={dataTransfer:new v8(t,{cacheFiles:i})};if(e.type=="drop"||e.type=="dragover"){const r=XA(e);s.dropRange=r&&this.view.domConverter.domRangeToView(r)}this.fire(e.type,e,s)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sH(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rH(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const o6=["figcaption","li"],a6=["ol","ul"];function MC(n,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let t="",i=null;for(const s of e.getChildren())t+=oH(s,i)+MC(n,s),i=s;if(e.is("rawElement")){const r=document.implementation.createHTMLDocument("").createElement("div");e.render(r,n),t+=OC(r)}return t}function OC(n){let e="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const t of n.childNodes)e+=OC(t);return e}function oH(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||a6.includes(n.name)&&a6.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":o6.includes(n.name)||o6.includes(e.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class LC extends Nn{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,i=s=>s.model.getSelectedContent(s.model.document.selection)){return this.editor.model.change(s=>{const r=s.model.document.selection;s.setSelection(t);const o=this._insertFakeMarkersIntoSelection(s,s.model.document.selection,e),a=i(s),c=this._removeFakeMarkersInsideElement(s,a);for(const[h,f]of Object.entries(o)){c[h]||=s.createRangeIn(a);for(const p of f)s.remove(p)}a.markers.clear();for(const[h,f]of Object.entries(c))a.markers.set(h,f);return s.setSelection(r),a})}_pasteMarkersIntoTransformedElement(e,t){const i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(s=>{const r=this._insertFakeMarkersElements(s,i),o=t(s),a=this._removeFakeMarkersInsideElement(s,o);for(const c of Object.values(r).flat())s.remove(c);for(const[c,h]of Object.entries(a))s.model.markers.has(c)||s.addMarker(c,{usingOperation:!0,affectsData:!0,range:h});return o})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const i of t)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const s=this._markersToCopy.get(e);this._markersToCopy.set(e,i),t(),s?this._markersToCopy.set(e,s):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!t)return!0;const{allowedActions:s}=i;return s==="all"||s.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,i){const s=this._getCopyableMarkersFromSelection(e,t,i);return this._insertFakeMarkersElements(e,s)}_getCopyableMarkersFromSelection(e,t,i){const s=Array.from(t.getRanges()),r=new Set(s.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),o=a=>{if(!this._isMarkerCopyable(a.name,i))return!1;const{copyPartiallySelected:h}=this._getMarkerClipboardConfig(a.name);if(!h){const f=a.getRange();return s.some(p=>p.containsRange(f,!0))}return!0};return Array.from(r).filter(o).map(a=>({name:i==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([r,o])=>{if(!this._hasMarkerConfiguration(r))return[{name:r,range:o}];if(this._isMarkerCopyable(r,t)){const a=this._getMarkerClipboardConfig(r),c=i.markers.has(r)&&i.markers.get(r).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||c)&&(r=this._getUniqueMarkerName(r)),[{name:r,range:o}]}return[]})}_insertFakeMarkersElements(e,t){const i={},s=t.flatMap(r=>{const{start:o,end:a}=r.range;return[{position:o,marker:r,type:"start"},{position:a,marker:r,type:"end"}]}).sort(({position:r},{position:o})=>r.isBefore(o)?1:-1);for(const{position:r,marker:o,type:a}of s){const c=e.createElement("$marker",{"data-name":o.name,"data-type":a});i[o.name]||(i[o.name]=[]),i[o.name].push(c),e.insert(c,r)}return i}_removeFakeMarkersInsideElement(e,t){const s=this._getAllFakeMarkersFromElement(e,t).reduce((r,o)=>{const a=o.markerElement&&e.createPositionBefore(o.markerElement);let c=r[o.name],h=!1;return c?.start&&c?.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?r[this._getUniqueMarkerName(o.name)]=r[o.name]:h=!0,c=null),h||(r[o.name]={...c,[o.type]:a}),o.markerElement&&e.remove(o.markerElement),r},{});return sj(s,r=>new Me(r.start||e.createPositionFromPath(t,[0]),r.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const i=Array.from(e.createRangeIn(t)).flatMap(({item:o})=>{if(!o.is("element","$marker"))return[];const a=o.getAttribute("data-name"),c=o.getAttribute("data-type");return[{markerElement:o,name:a,type:c}]}),s=[],r=[];for(const o of i)o.type==="end"&&(i.some(c=>c.name===o.name&&c.type==="start")||s.push({markerElement:null,name:o.name,type:"start"})),o.type==="start"&&(i.some(c=>c.name===o.name&&c.type==="end")||r.unshift({markerElement:null,name:o.name,type:"end"}));return[...s,...i,...r]}_getUniqueMarkerName(e){const t=e.split(":"),i=ha().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${i}`:`${t.join(":")}:${i}`}}class wm extends Nn{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[LC]}init(){this.editor.editing.view.addObserver(xm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){const s=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const r=s._copySelectedFragmentWithMarkers(i,t);this.fire("outputTransformation",{dataTransfer:e,content:r,method:i})})}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(s,"clipboardInput",(o,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(o,a)=>{const c=a.dataTransfer;let h;if(a.content)h=a.content;else{let v="";c.getData("text/html")?v=rH(c.getData("text/html")):c.getData("text/plain")&&(v=sH(c.getData("text/plain"))),h=this.editor.data.htmlProcessor.toView(v)}const f=new Zl(this,"inputTransformation"),p=c.getData("application/ckeditor5-editor-id")||null;this.fire(f,{content:h,dataTransfer:c,sourceEditorId:p,targetRanges:a.targetRanges,method:a.method}),f.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const h=this.editor.data.toModel(a.content,"$clipboardHolder");h.childCount!=0&&(o.stop(),t.change(()=>{this.fire("contentInsertion",{content:h,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=r._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,r=(o,a)=>{const c=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(c,t.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?r(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const c=e.data.toView(a.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:c,method:a.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",MC(e.data.htmlProcessor.domConverter,a.content)),a.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}const Bb=O1("px");class aH extends en{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>Bb(t)),top:e.to("top",t=>Bb(t)),width:e.to("width",t=>Bb(t))}}})}}class i0 extends Nn{removeDropMarkerDelayed=Qv(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=G0(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=G0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new aH;_domEmitter=new(da());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,s,r,o){this.removeDropMarkerDelayed.cancel();const a=l6(this.editor,e,t,i,s,r,o);/* istanbul ignore next -- @preserve */if(a){if(o&&o.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,t,i,s,r,o){const a=l6(this.editor,e,t,i,s,r,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(s=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const i=this.toDomElement(t);return i.append("",t.createElement("span"),""),i})}_updateDropTargetLine(e){const t=this.editor.editing,i=e.start.nodeBefore,s=e.start.nodeAfter,r=e.start.parent,o=i?t.mapper.toViewElement(i):null,a=o?t.view.domConverter.mapViewToDom(o):null,c=s?t.mapper.toViewElement(s):null,h=c?t.view.domConverter.mapViewToDom(c):null,f=t.mapper.toViewElement(r);if(!f)return;const p=t.view.domConverter.mapViewToDom(f),v=this._getScrollableRect(f),{scrollX:y,scrollY:k}=it.window,A=a?new nn(a):null,N=h?new nn(h):null,E=new nn(p).excludeScrollbarsAndBorders(),D=A?A.bottom:E.top,U=N?N.top:E.bottom,V=it.window.getComputedStyle(p),J=D<=U?(D+U)/2:U;if(v.top<J&&J<v.bottom){const se=E.left+parseFloat(V.paddingLeft),ee=E.right-parseFloat(V.paddingRight),M=Math.max(se+y,v.left),P=Math.min(ee+y,v.right);this._dropTargetLineView.set({isVisible:!0,left:M,top:J+k,width:P-M})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);i=cH(s),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new Kv(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:r})}return new nn(i).excludeScrollbarsAndBorders()}}function l6(n,e,t,i,s,r,o){const a=n.model,c=n.editing.mapper;let f=c6(n,e);for(;f;){if(!r){if(a.schema.checkChild(f,"$text")){if(t){const p=t[0].start,v=c.toModelPosition(p);if(!o||Array.from(o.getItems({shallow:!0})).every(k=>a.schema.checkChild(v,k))){if(a.schema.checkChild(v,"$text"))return a.createRange(v);if(p)return s0(n,c6(n,p.parent),i,s)}}}else if(a.schema.isInline(f))return s0(n,f,i,s)}if(a.schema.isBlock(f))return s0(n,f,i,s);if(a.schema.checkChild(f,"$block")){const p=Array.from(f.getChildren()).filter(k=>k.is("element")&&!lH(n,k));let v=0,y=p.length;if(y==0)return a.createRange(a.createPositionAt(f,"end"));for(;v<y-1;){const k=Math.floor((v+y)/2);RC(n,p[k],i,s)=="before"?y=k:v=k}return s0(n,p[v],i,s)}f=f.parent}return null}function lH(n,e){const t=n.editing.mapper,i=n.editing.view.domConverter,s=t.toViewElement(e);if(!s)return!0;const r=i.mapViewToDom(s);return it.window.getComputedStyle(r).float!="none"}function s0(n,e,t,i){const s=n.model;return s.createRange(s.createPositionAt(e,RC(n,e,t,i)))}function RC(n,e,t,i){const s=n.editing.mapper,r=n.editing.view.domConverter,o=s.toViewElement(e),a=r.mapViewToDom(o),c=new nn(a);return n.model.schema.isInline(e)?t<(c.left+c.right)/2?"before":"after":i<(c.top+c.bottom)/2?"before":"after"}function c6(n,e){const t=n.editing.mapper,i=n.editing.view,s=t.toModelElement(e);if(s)return s;const r=i.createPositionBefore(e),o=t.findMappedViewAncestor(r);return t.toModelElement(o)}function cH(n){let e=n;do{e=e.parentElement;const t=it.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class uH extends Nn{_isBlockDragging=!1;_domEmitter=new(da());static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,i,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),Et.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(s,r)=>this._handleBlockDragStart(r)),this._domEmitter.listenTo(it.document,"dragover",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(it.document,"drop",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(it.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(s,r,o)=>{i.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,i=t.document.selection,s=this.editor.editing.view,r=Array.from(i.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(r[0]),t.createPositionAfter(r[r.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,s.focus(),s.getObserver(xm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,s=document.elementFromPoint(t,i),r=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||r.getObserver(xm).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class hH extends Nn{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=Qv(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(da());_previewContainer;static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[wm,Qq,i0,uH]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(xm),t.addObserver(K8),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,s,r)=>{r||this._finalizeDragging(!1)}),Et.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=e.plugins.get(i0);this.listenTo(s,"dragstart",(o,a)=>{if(a.target?.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=ha(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,c,"dragstart");const{dataTransfer:f,domTarget:p,domEvent:v}=a,{clientX:y}=v;this._updatePreview({dataTransfer:f,domTarget:p,clientX:y}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(it.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(s,"dragleave",()=>{r.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:c,clientY:h}=a.domEvent;r.updateDropMarker(a.target,a.targetRanges,c,h,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),Et.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get(i0);this.listenTo(i,"clipboardInput",(r,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:c}=o.domEvent,h=s.getFinalDropRange(o.target,o.targetRanges,a,c,this._blockMode,this._draggedRange);if(!h){this._finalizeDragging(!1),r.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),u6(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0)){this._finalizeDragging(!1),r.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(wm);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=i.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=u6(i.dataTransfer)=="move",r=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(r&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"pointerdown",(s,r)=>{if(Et.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=h6(r.target);if(Et.isBlink&&!e.isReadOnly&&!o&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();(!a||!ys(a))&&(o=i.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(i,"pointerup",()=>{Et.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,i=t.model;t.plugins.get(i0).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(r=>{const o=i.createSelection(this._draggedRange);i.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!i.schema.checkChild(a,"$text")&&i.schema.checkChild(a,"paragraph")&&r.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,i=t.model,s=i.document.selection,r=e?h6(e):null;if(r){const h=t.editing.mapper.toModelElement(r);this._draggedRange=Ao.fromRange(i.createRangeOn(h)),this._blockMode=i.schema.isBlock(h),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const o=Array.from(s.getSelectedBlocks()),a=s.getFirstRange();if(o.length==0){this._draggedRange=Ao.fromRange(a);return}const c=DC(i,o);if(o.length>1)this._draggedRange=Ao.fromRange(c),this._blockMode=!0;else if(o.length==1){const h=a.start.isTouching(c.start)&&a.end.isTouching(c.end);this._draggedRange=Ao.fromRange(h?c:a),this._blockMode=h}i.change(h=>h.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){const s=this.editor.editing.view,r=s.document.selection.editableElement,o=s.domConverter.mapViewToDom(r),a=it.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ra(it.document,"div",{style:"position: fixed; left: -999999px;"}),it.document.body.appendChild(this._previewContainer));const c=ra(it.document,"div");c.className="ck ck-content ck-clipboard-preview";const h=new nn(o),f=parseFloat(a.paddingLeft),p=parseFloat(a.paddingRight),v=parseFloat(a.width)-f-p;if(o.contains(t))if(Et.isiOS)c.style.maxWidth=`${v}px`,c.style.padding="10px",c.style.minWidth="200px",c.style.minHeight="20px",c.style.boxSizing="border-box",c.style.backgroundColor="var(--ck-color-base-background)";else return;else if(Et.isiOS)c.style.width=`${v}px`,c.style.backgroundColor="var(--ck-color-base-background)";else{const y=h.left-i+f;c.style.width=`${v+y}px`,c.style.paddingLeft=`${y}px`}s.domConverter.setContentOf(c,e.getData("text/html")),e.setDragImage(c,0,0),this._previewContainer.appendChild(c)}}function u6(n){return Et.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function h6(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(ys);if(ys(n))return n;const e=n.findAncestor(t=>ys(t)||t.is("editableElement"));return ys(e)?e:null}function DC(n,e){const t=e[0],i=e[e.length-1],s=t.getCommonAncestor(i),r=n.createPositionBefore(t),o=n.createPositionAfter(i);if(s&&s.is("element")&&!n.schema.isLimit(s)){const a=n.createRangeOn(s),c=r.isTouching(a.start),h=o.isTouching(a.end);if(c&&h)return DC(n,[s])}return n.createRange(r,o)}class dH extends Nn{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[wm]}init(){const e=this.editor,t=e.model,i=e.editing.view,s=t.document.selection;i.addObserver(xm),e.plugins.get(wm).on("contentInsertion",(r,o)=>{fH(o.content,t)&&t.change(a=>{const c=Array.from(s.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0}),c.push(...s.getAttributes());const h=a.createRangeIn(o.content);for(const f of h.getItems())for(const p of c)t.schema.checkAttribute(f,p[0])&&a.setAttribute(p[0],p[1],f)})})}}function fH(n,e){let t=e.createRangeIn(n);if(n.childCount==1){const i=n.getChild(0);i.is("element")&&e.schema.isBlock(i)&&!e.schema.isObject(i)&&!e.schema.isLimit(i)&&(t=e.createRangeIn(i))}for(const i of t.getItems())if(!e.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(r=>e.schema.getAttributeProperties(r).isFormatting))return!1;return!0}class gH extends Nn{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[LC,wm,hH,dH]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class mH extends nq{view;_toolbarConfig;_elementReplacer;constructor(e,t){super(e),this.view=t,this._toolbarConfig=fC(e.config.get("toolbar")),this._elementReplacer=new Fj,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,s=t.editing.view,r=i.editable,o=s.document.getRoot();r.name=o.rootName,i.render();const a=r.element;this.setEditableElement(r.name,a),i.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&this.initMenuBar(i.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({visualTop:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),s=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r=typeof o=="string"?o:o[this.view.editable.name]),!r&&s&&s.tagName.toLowerCase()==="textarea"&&(r=s.getAttribute("placeholder")),r&&(i.placeholder=r),SF({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",s=>{const r=s.return;if(!r||!e.isSticky||!e.element)return;const o=new nn(e.element).height,a=typeof r.target=="function"?r.target():r.target,c=typeof r.limiter=="function"?r.limiter():r.limiter;if(a&&c&&new nn(a).height>=new nn(c).height-o)return;const h={...r.viewportOffsetConfig},f=(h.top||0)+o;s.return={...r,viewportOffsetConfig:{...h,top:f}}},{priority:"low"});const i=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",i),this.listenTo(this.editor.ui,"change:viewportOffset",i)}_handleScrollToTheSelectionWithStickyPanel(e,t,i){const s=this.view.stickyPanel;if(s.isSticky){const r=new nn(s.element).height;t.viewportOffset.top+=r}else{const r=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(s,"change:isSticky",r),setTimeout(()=>{this.stopListening(s,"change:isSticky",r)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const i=t.view;i.on("moveTo",(s,r)=>{if(!e.isSticky||i.wasMoved||i.isModal)return;const o=new nn(e.contentPanelElement);r[1]<o.bottom+ym.defaultOffset&&(r[1]=o.bottom+ym.defaultOffset)},{priority:"high"})},{priority:"low"})}}class pH extends sq{stickyPanel;toolbar;editable;constructor(e,t,i={}){super(e),this.stickyPanel=new aq(e),this.toolbar=new gC(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new dq(e)),this.editable=new oq(e,t,void 0,{label:i.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class bH extends wV(bV){static get editorName(){return"ClassicEditor"}ui;constructor(e,t={}){if(!A0(e)&&t.initialData!==void 0)throw new fe("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",yH(e)),A0(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=this.config.get("menuBar"),r=new pH(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:s.isVisible,label:this.config.get("label")});this.ui=new mH(this,r),vV(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const s=new this(e,t);i(s.initPlugins().then(()=>s.ui.init(A0(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function yH(n){return A0(n)?qj(n):n}function A0(n){return cu(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class vH extends ac{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!d6(e.schema,i))do if(i=i.parent,!i)return;while(!d6(e.schema,i));e.change(s=>{s.setSelection(i,"in")})}}function d6(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}const xH=Jv("Ctrl+A");class wH extends Nn{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,s=e.editing.view.document;e.commands.add("selectAll",new vH(e)),this.listenTo(s,"keydown",(r,o)=>{of(o)===xH&&(e.execute("selectAll"),o.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class _H extends Nn{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(to);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Ph))}_createButton(e){const t=this.editor,i=t.locale,s=t.commands.get("selectAll"),r=new e(t.locale),o=i.t;return r.set({label:o("Select all"),icon:LV,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),r}}class SH extends Nn{static get requires(){return[wH,_H]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class jC extends ac{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,i)=>{i[1]={...i[1]};const s=i[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const s=this.editor.model,r=s.document,o=[],a=e.map(h=>h.getTransformedByOperations(i)),c=a.flat();for(const h of a){const f=h.filter(p=>p.root!=r.graveyard).filter(p=>!AH(p,c));f.length&&(kH(f),o.push(f[0]))}o.length&&s.change(h=>{h.setSelection(o,{backward:t})})}_undo(e,t){const i=this.editor.model,s=i.document;this._createdBatches.add(t);const r=e.operations.slice().filter(o=>o.isDocumentOperation);r.reverse();for(const o of r){const a=o.baseVersion+1,c=Array.from(s.history.getOperations(a)),f=hz([o.getReversed()],c,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let p of f){const v=p.affectedSelectable;v&&!i.canEditAt(v)&&(p=new as(p.baseVersion)),t.addOperation(p),i.applyOperation(p),s.history.setOperationAsUndone(o,p)}}}}function kH(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function AH(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}class CH extends jC{execute(e=null){const t=e?this._stack.findIndex(r=>r.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r)}),this.fire("revert",i.batch,s),this.refresh()}}class NH extends jC{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}class EH extends Nn{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new CH(e),this._redoCommand=new NH(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,s)=>{const r=s[0];if(!r.isDocumentOperation)return;const o=r.batch,a=this._redoCommand.createdBatches.has(o),c=this._undoCommand.createdBatches.has(o);this._batchRegistry.has(o)||(this._batchRegistry.add(o),o.isUndoable&&(a?this._undoCommand.addBatch(o):c||(this._undoCommand.addBatch(o),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,r)=>{this._redoCommand.addBatch(r)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class TH extends Nn{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,i=e.t,s=t.uiLanguageDirection=="ltr"?T3:E3,r=t.uiLanguageDirection=="ltr"?E3:T3;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",s),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",r)}_addButtonsToFactory(e,t,i,s){const r=this.editor;r.ui.componentFactory.add(e,()=>{const o=this._createButton(to,e,t,i,s);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Ph,e,t,i,s))}_createButton(e,t,i,s,r){const o=this.editor,a=o.locale,c=o.commands.get(t),h=new e(a);return h.set({label:i,icon:r,keystroke:s}),h.bind("isEnabled").to(c,"isEnabled"),this.listenTo(h,"execute",()=>{o.execute(t),o.editing.view.focus()}),h}}class PH extends Nn{static get requires(){return[EH,TH]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class MH extends Nn{static get requires(){return[fU,gH,TC,SH,Fq,Aq,PH]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class OH extends ac{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,i=Om(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&f6(i,e.schema)}execute(e={}){const t=this.editor.model,i=t.document,s=e.selection||i.selection;t.canEditAt(s)&&t.change(r=>{const o=s.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&f6(a,t.schema)&&r.rename(a,"paragraph")})}}function f6(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}class LH extends ac{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,i=e.attributes;let s=e.position;return t.canEditAt(s)?t.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return null;const o=r.createElement("paragraph");return i&&t.schema.setAllowedAttributes(o,i,r),t.insertContent(o,s),r.setSelection(o,"in"),r.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(e,t){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const s=i.schema.findAllowedParent(e,"paragraph");if(!s)return null;const r=e.parent,o=i.schema.checkChild(r,"$text");return r.isEmpty||o&&e.isAtEnd?i.createPositionAfter(r):!r.isEmpty&&o&&e.isAtStart?i.createPositionBefore(r):t.split(e,s).position}}class y5 extends Nn{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new OH(e)),e.commands.add("insertParagraph",new LH(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!y5.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const RH=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:e,listType:t}of RH);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */on.arrowup,on.arrowdown,on.esc;on.enter,on.tab;const DH=()=>{const[n,e]=we.useState("aboutApp");return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage content",link:""}),m.jsx("div",{className:"max-w-screen-2xl mx-auto",children:m.jsxs("div",{className:"mx-4 sm:mx-9 my-3",children:[m.jsxs("div",{className:"flex flex-wrap gap-4 justify-start bg-white px-4 py-2",children:[m.jsx("button",{className:`rounded-md w-full sm:w-auto text-sm px-6 py-2 font-medium capitalize ${n==="privacyPolicy"?"bg-primary text-white":"border text-primary"}`,onClick:()=>e("privacyPolicy"),children:"Privacy Policy"}),m.jsx("button",{className:`rounded-md w-full sm:w-auto text-sm px-6 py-2 font-medium capitalize ${n==="termsConditions"?"bg-primary text-white":"border text-primary"}`,onClick:()=>e("termsConditions"),children:"Terms and Conditions"})]}),m.jsxs("div",{className:"space-y-2 my-3",children:[m.jsx(PA,{editor:bH,config:{licenseKey:"GPL",plugins:[MH,y5,Eq,Mq],toolbar:["undo","redo","|","bold","italic","|"]},data:"<p>Start typing here...</p>",onChange:(t,i)=>{const s=i.getData();console.log(s,t)}}),m.jsx("button",{className:`inline-flex my-5 text-white justify-center rounded-md border border-transparent bg-primary
           w-1/3 bg-opacity-25 px-4 py-2 text-sm font-medium focus:outline-none focus-visible:ring-2 `,children:"Save"})]})]})})]})},jH=({setModalOpen:n,modalOpen:e})=>{if(e)return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Quote "}),m.jsxs("form",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Author"}),m.jsx("input",{type:"text",placeholder:"Enter author",className:"mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quote"}),m.jsx("textarea",{placeholder:"Enter quote",className:"mt-1 block w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-secondary text-white ",children:"Save"})]})]})]})})},FH=()=>{const[n,e]=we.useState(!1),[t,i]=we.useState(""),s=[{id:1,author:"Albert Einstein",text:"Life is like riding a bicycle. To keep your balance, you must keep moving.",category:"Inspirational",status:"Approved"},{id:2,author:"Oscar Wilde",text:"Be yourself; everyone else is already taken.",category:"Philosophy",status:"Pending"},{id:3,author:"Maya Angelou",text:"You will face many defeats in life, but never let yourself be defeated.",category:"Motivational",status:"Rejected"}];return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage Quotes",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search quotes...",value:t,onChange:r=>i(r.target.value)})]}),m.jsx("button",{onClick:()=>e(!0),className:"px-4 py-2 rounded-lg bg-secondary text-white cursor-pointer",children:"+ Add Quote"})]}),m.jsx("div",{className:"relative overflow-x-auto bg-white sm:rounded-lg border-b border-gray-200",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-600 rounded-lg overflow-hidden shadow-sm",children:[m.jsx("thead",{className:"text-xs font-semibold text-gray-700 uppercase bg-gray-100/80 backdrop-blur-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Author"}),m.jsx("th",{className:"px-6 py-3",children:"Quote"}),m.jsx("th",{className:"px-6 py-3",children:"Category"}),m.jsx("th",{className:"px-6 py-3",children:"Status"}),m.jsx("th",{className:"px-6 py-3",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200/60",children:s.map(r=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4",children:r.author}),m.jsx("td",{className:"px-6 py-4 max-w-xs truncate",children:r.text}),m.jsx("td",{className:"px-6 py-4",children:r.category}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="Approved"?"bg-green-100 text-green-700":r.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:r.status})}),m.jsxs("td",{className:"px-6 py-4",children:[m.jsx("button",{className:"text-blue-600 hover:underline mr-3",children:"Edit"}),m.jsx("button",{className:"text-red-600 hover:underline",children:"Delete"})]})]},r.id))})]})})]}),n&&m.jsx(jH,{setModalOpen:e,modalOpen:n})]})},BH=[{id:1,name:"John Doe",email:"john@example.com",message:"Great platform! Very easy to use.",date:"2025-09-01"},{id:2,name:"Jane Smith",email:"jane@example.com",message:"I love the new features added last week.",date:"2025-09-05"},{id:3,name:"Michael Johnson",email:"michael@example.com",message:"Found a few bugs but overall experience is good.",date:"2025-09-08"}],IH=()=>{const[n,e]=we.useState("");return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage Feedback",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:[m.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search feedback...",value:n,onChange:t=>e(t.target.value)})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"relative overflow-x-auto bg-white sm:rounded-lg border-b border-gray-200",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-600 rounded-lg overflow-hidden shadow-sm",children:[m.jsx("thead",{className:"text-xs font-semibold text-gray-700 uppercase bg-gray-100/80 backdrop-blur-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Message"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200/60",children:BH.map(t=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4",children:t.name}),m.jsx("td",{className:"px-6 py-4",children:t.email}),m.jsx("td",{className:"px-6 py-4",children:t.message}),m.jsx("td",{className:"px-6 py-4",children:t.date}),m.jsx("td",{className:"px-4 py-3 text-center",children:m.jsx("button",{className:"text-red-500 cursor-pointer hover:text-red-700 font-medium",children:"Delete"})})]},t.id))})]})})})]})]})},zH=()=>{const[n,e]=we.useState(""),[t,i]=we.useState([{id:1,title:"Happiness is free",description:"Happiness is free , always stay happy",category:"happy",user:"Jane Smith"},{id:2,title:"Happiness is free",description:"Happiness is free , always stay happy",category:"happy",user:"John Doe"},{id:3,title:"Happiness is free",description:"Happiness is free , always stay happy",category:"happy",user:"Michael Johnson"}]),[s,r]=we.useState(!1),[o,a]=we.useState({title:"",description:"",category:"",user:""}),c=()=>{if(o.title&&o.description&&o.category&&o.user){const h={id:t.length+1,...o};i([...t,h]),a({title:"",description:"",category:"",user:""}),r(!1)}};return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage Discussions",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search discussion...",value:n,onChange:h=>e(h.target.value)})]}),m.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-secondary cursor-pointer text-white rounded-lg shadow",children:"+ Add Discussion"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"relative overflow-x-auto bg-white sm:rounded-lg border-b border-gray-200",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-600 rounded-lg overflow-hidden shadow-sm",children:[m.jsx("thead",{className:"text-xs font-semibold text-gray-700 uppercase bg-gray-100/80 backdrop-blur-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Title"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"User"}),m.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200/60",children:t.map(h=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:h.title}),m.jsx("td",{className:"px-6 py-4",children:h.description}),m.jsx("td",{className:"px-6 py-4",children:h.category}),m.jsx("td",{className:"px-6 py-4",children:h.user}),m.jsxs("td",{className:"px-4 py-3 text-center",children:[m.jsx("button",{className:"text-blue-600 cursor-pointer hover:underline mr-3",children:"Edit"}),m.jsx("button",{className:"text-red-500 cursor-pointer hover:text-red-700 font-medium",children:"Delete"})]})]},h.id))})]})})})]}),s&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Discussion"}),m.jsx("input",{type:"text",placeholder:"Title",value:o.title,onChange:h=>a({...o,title:h.target.value}),className:"w-full mb-3 px-3 py-2 border rounded-lg"}),m.jsx("textarea",{placeholder:"Description",value:o.description,onChange:h=>a({...o,description:h.target.value}),className:"w-full mb-3 px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"Category",value:o.category,onChange:h=>a({...o,category:h.target.value}),className:"w-full mb-3 px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"User",value:o.user,onChange:h=>a({...o,user:h.target.value}),className:"w-full mb-3 px-3 py-2 border rounded-lg"}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 rounded-lg border",children:"Cancel"}),m.jsx("button",{onClick:c,className:"px-4 py-2 bg-primary text-white rounded-lg",children:"Add"})]})]})})]})},Ib=({name:n,value:e,onChange:t,placeholder:i="",className:s="",type:r,labelText:o})=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o}),m.jsx("input",{type:r,name:n,value:e,onChange:t,placeholder:i,className:`w-full px-3 py-2 border border-gray-300 rounded-md ${s}`})]}),VH=({isEditMode:n,handleSubmit:e,setIsModalOpen:t})=>m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Subscription Plan":"Add New Subscription Plan"}),m.jsxs("form",{onSubmit:e,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{children:m.jsx(Ib,{labelText:"Plan Name",type:"text",name:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})}),m.jsx("div",{children:m.jsx(Ib,{type:"number",name:"price",labelText:"Price ($)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})}),m.jsx("div",{children:m.jsx(Ib,{labelText:"Duration",type:"text",name:"duration",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., 1 Month, 1 Year, Forever"})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Features (comma separated)"}),m.jsx("textarea",{name:"features",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,placeholder:"e.g., Basic listing, Limited photos, Basic support"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",className:"mr-2"}),m.jsx("label",{htmlFor:"isActive",className:"text-gray-700",children:"Active Plan"})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-secondary text-white ",children:"Add Plan"})]})]})]})})}),UH=()=>{const n=[{id:1,name:"Basic",price:0,duration:"Forever",features:["Basic listing","Limited photos","Basic support"],isActive:!0},{id:2,name:"Monthly",price:30,duration:"1 Month",features:["Enhanced listing","10 photos","Priority support","Analytics"],isActive:!0},{id:3,name:"Yearly",price:300,duration:"1 Year",features:["Premium listing","Unlimited photos","24/7 support","Advanced analytics","Featured placement"],isActive:!0}],[e,t]=we.useState(n),[i,s]=we.useState(""),[r,o]=we.useState(!1),[a,c]=we.useState(null),[h,f]=we.useState(!1),p=e.filter(E=>E.name.toLowerCase().includes(i.toLowerCase())),v=E=>{t(e.map(D=>D.id===E?{...D,isActive:!D.isActive}:D))},y=E=>{window.confirm("Are you sure you want to delete this plan?")&&t(e.filter(D=>D.id!==E))},k=E=>{c(E),f(!0),o(!0)},A=()=>{c({id:Math.max(...e.map(E=>E.id),0)+1,name:"",price:0,duration:"",features:[],isActive:!0}),f(!1),o(!0)},N=E=>{E.preventDefault();const D=new FormData(E.target),U={id:a?.id||Math.max(...e.map(V=>V.id),0)+1,name:D.get("name"),price:Number(D.get("price")),duration:D.get("duration"),features:D.get("features").split(",").map(V=>V.trim()),isActive:D.get("isActive")==="on"};t(h&&a?e.map(V=>V.id===U.id?U:V):[...e,U]),o(!1)};return m.jsxs("div",{children:[m.jsx(nc,{header:"Manage Restaurant Subscriptions",link:""}),m.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search plans...",value:i,onChange:E=>s(E.target.value)})]}),m.jsx("div",{className:"",children:m.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg bg-secondary text-white cursor-pointer",children:"+ Add New Plan"})})]}),m.jsx("div",{className:"my-3",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(E=>m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:`p-6 ${E.isActive?"bg-gradient-to-r from-primary/40 to-primary/20":"bg-gray-50"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:E.name}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>k(E),className:"text-primary p-1 cursor-pointer",title:"Edit",children:m.jsx(p0,{})}),m.jsx("button",{onClick:()=>y(E.id),className:"text-red-600 hover:text-red-800 p-1 cursor-pointer",title:"Delete",children:m.jsx(Pg,{})}),m.jsx("button",{onClick:()=>v(E.id),className:"text-gray-600 hover:text-gray-800 p-1",title:E.isActive?"Deactivate":"Activate",children:E.isActive?m.jsx(B9,{className:"text-green-500"}):m.jsx(F9,{className:"text-gray-400"})})]})]}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("span",{className:"text-3xl font-bold",children:["$",E.price]}),m.jsxs("span",{className:"text-gray-500 ml-1",children:["/",E.duration]})]}),m.jsx("div",{className:`mt-2 inline-block px-3 py-1 text-sm rounded-full ${E.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:E.isActive?"Active":"Inactive"})]}),m.jsxs("div",{className:"p-6 border-t border-gray-200",children:[m.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Features:"}),m.jsx("ul",{className:"space-y-2",children:E.features.map((D,U)=>m.jsxs("li",{className:"flex items-start",children:[m.jsx("svg",{className:"h-5 w-5 text-primary mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m.jsx("span",{className:"text-gray-600",children:D})]},U))})]})]},E.id))})})]})}),r&&m.jsx(VH,{setIsModalOpen:o,handleSubmit:N,isEditMode:h})]})},qH=()=>{const[n,e]=we.useState(""),[t,i]=we.useState([{id:1,user:"John Smith",amount:120.5,priceStatus:"Completed",paymentMethod:"Credit Card"},{id:2,user:"Sarah Johnson",amount:75,priceStatus:"Refunded",paymentMethod:"PayPal"},{id:3,user:"Michael Brown",amount:200.99,priceStatus:"Pending",paymentMethod:"Debit Card"}]),s=a=>{switch(a){case"Pending":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-green-100 text-green-800";case"Failed":return"bg-red-100 text-red-800";case"Refunded":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},r=(a,c)=>{i(t.map(h=>h.id===a?{...h,priceStatus:c}:h))},o=["Pending","Completed","Failed","Refunded"];return m.jsxs("div",{children:[m.jsx(nc,{header:"Payments",link:""}),m.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-8 py-6",children:[m.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:m.jsxs("div",{className:"relative w-full sm:w-96",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(df,{className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg bg-white",placeholder:"Search payments...",value:n,onChange:a=>e(a.target.value)})]})}),m.jsx("div",{className:"my-3",children:m.jsx("div",{className:"relative overflow-x-auto bg-white sm:rounded-lg border-b border-gray-200",children:m.jsxs("table",{className:"w-full text-sm text-left text-gray-600 rounded-lg overflow-hidden shadow-sm",children:[m.jsx("thead",{className:"text-xs font-semibold text-gray-700 uppercase bg-gray-100/80 backdrop-blur-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"User"}),m.jsx("th",{className:"px-6 py-3",children:"Amount"}),m.jsx("th",{className:"px-6 py-3",children:"Payment Method"}),m.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200/60",children:t?.map(a=>m.jsxs("tr",{className:"bg-white hover:bg-gray-50 transition-colors duration-150 ease-in-out",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-800",children:a.user}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-gray-800",children:["$",a.amount.toFixed(2)]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:a.paymentMethod}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("select",{value:a.priceStatus,onChange:c=>r(a.id,c.target.value),className:`px-2 py-1 rounded-full text-xs font-medium ${s(a.priceStatus)} cursor-pointer`,children:o.map(c=>m.jsx("option",{value:c,children:c},c))})})]},a.id))})]})})})]})]})},Eg=[{id:"USR001",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 123-4567",registrationDate:"2024-01-15",status:"Active",baselineData:{age:34,gender:"Female",height:"165 cm",weight:"62 kg",bloodType:"A+",chronicConditions:["Chronic Back Pain","Mild Anxiety"],medications:["Ibuprofen 400mg","Vitamin D3"]},phenotype:{painSensitivity:"High",stressResponse:"Moderate",sleepQuality:"Poor",physicalActivity:"Sedentary",dietQuality:"Good",cognitiveFunction:"Above Average"},progress:{painLevelTrend:[7,6.5,6,5.5,5,4.5,4],moodScores:[5,5.5,6,6.5,7,7.5,8],exerciseMinutes:[0,10,15,20,25,30,35],sleepHours:[5.5,6,6,6.5,7,7,7.5],dates:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7"]}},{id:"USR002",name:"Michael Chen",email:"michael.chen@email.com",phone:"+1 (555) 234-5678",registrationDate:"2024-02-03",status:"Active",baselineData:{age:45,gender:"Male",height:"178 cm",weight:"82 kg",bloodType:"O+",chronicConditions:["Type 2 Diabetes","Hypertension"],medications:["Metformin 500mg","Lisinopril 10mg"]},phenotype:{painSensitivity:"Moderate",stressResponse:"High",sleepQuality:"Fair",physicalActivity:"Moderate",dietQuality:"Fair",cognitiveFunction:"Average"},progress:{painLevelTrend:[5,4.8,4.5,4.2,4,3.8,3.5],moodScores:[6,6.2,6.5,6.8,7,7.2,7.5],exerciseMinutes:[15,20,25,30,35,40,45],sleepHours:[6,6.5,6.5,7,7,7.5,7.5],dates:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7"]}},{id:"USR003",name:"Emily Rodriguez",email:"emily.rodriguez@email.com",phone:"+1 (555) 345-6789",registrationDate:"2023-11-20",status:"Active",baselineData:{age:29,gender:"Female",height:"160 cm",weight:"58 kg",bloodType:"B+",chronicConditions:["Fibromyalgia","Depression"],medications:["Duloxetine 60mg","Pregabalin 75mg"]},phenotype:{painSensitivity:"Very High",stressResponse:"Very High",sleepQuality:"Very Poor",physicalActivity:"Low",dietQuality:"Excellent",cognitiveFunction:"High"},progress:{painLevelTrend:[8,7.8,7.5,7,6.8,6.5,6.2],moodScores:[4,4.5,5,5.5,6,6.5,7],exerciseMinutes:[0,5,10,15,20,25,30],sleepHours:[4.5,5,5.5,6,6,6.5,6.5],dates:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7"]}},{id:"USR004",name:"David Thompson",email:"david.thompson@email.com",phone:"+1 (555) 456-7890",registrationDate:"2024-03-10",status:"Inactive",baselineData:{age:52,gender:"Male",height:"182 cm",weight:"95 kg",bloodType:"AB+",chronicConditions:["Osteoarthritis","Sleep Apnea"],medications:["Naproxen 500mg","CPAP therapy"]},phenotype:{painSensitivity:"High",stressResponse:"Low",sleepQuality:"Poor",physicalActivity:"Low",dietQuality:"Poor",cognitiveFunction:"Average"},progress:{painLevelTrend:[6,6,5.8,5.5,5.5,5.2,5],moodScores:[5.5,5.8,6,6,6.2,6.5,6.5],exerciseMinutes:[5,10,10,15,15,20,20],sleepHours:[5,5.5,5.5,6,6,6.5,6.5],dates:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7"]}},{id:"USR005",name:"Lisa Anderson",email:"lisa.anderson@email.com",phone:"+1 (555) 567-8901",registrationDate:"2024-01-28",status:"Active",baselineData:{age:38,gender:"Female",height:"170 cm",weight:"68 kg",bloodType:"O-",chronicConditions:["Migraine","IBS"],medications:["Sumatriptan 50mg","Probiotics"]},phenotype:{painSensitivity:"High",stressResponse:"High",sleepQuality:"Fair",physicalActivity:"Moderate",dietQuality:"Good",cognitiveFunction:"High"},progress:{painLevelTrend:[7.5,7,6.5,6,5.5,5,4.5],moodScores:[5.5,6,6.5,7,7.5,8,8.5],exerciseMinutes:[10,15,20,25,30,35,40],sleepHours:[6,6.5,6.5,7,7,7.5,8],dates:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7"]}}],Tg=[{id:"QR001",userId:"USR001",userName:"Sarah Johnson",questionnaireName:"Pain Assessment Scale",domain:"Biological",date:"2024-12-20",status:"Complete",score:65,responses:{q1:"Pain level: 6/10",q2:"Location: Lower back",q3:"Duration: 3 months",q4:"Triggers: Sitting for long periods",q5:"Relief factors: Heat therapy, stretching"}},{id:"QR002",userId:"USR002",userName:"Michael Chen",questionnaireName:"Stress & Anxiety Inventory",domain:"Psychological",date:"2024-12-19",status:"Complete",score:72,responses:{q1:"Stress level: 7/10",q2:"Main stressors: Work deadlines, family",q3:"Coping mechanisms: Exercise, meditation",q4:"Sleep affected: Yes, occasionally",q5:"Professional support: Considering therapy"}},{id:"QR003",userId:"USR003",userName:"Emily Rodriguez",questionnaireName:"Social Support Assessment",domain:"Social",date:"2024-12-18",status:"Incomplete",score:45,responses:{q1:"Support network: Small but close",q2:"Family involvement: Moderate",q3:"Social activities: 1-2 per month",q4:"Isolation feelings: Sometimes",q5:"Not answered"}},{id:"QR004",userId:"USR001",userName:"Sarah Johnson",questionnaireName:"Cognitive Function Test",domain:"Psychological",date:"2024-12-15",status:"Complete",score:88,responses:{q1:"Memory recall: Excellent",q2:"Concentration: Good",q3:"Problem solving: Above average",q4:"Processing speed: Fast",q5:"Mental clarity: High"}},{id:"QR005",userId:"USR004",userName:"David Thompson",questionnaireName:"Physical Activity Readiness",domain:"Biological",date:"2024-12-14",status:"Complete",score:58,responses:{q1:"Current activity level: Low",q2:"Physical limitations: Joint pain",q3:"Exercise history: Sporadic",q4:"Medical clearance: Yes",q5:"Goals: Improve mobility, reduce pain"}},{id:"QR006",userId:"USR005",userName:"Lisa Anderson",questionnaireName:"Sleep Quality Index",domain:"Biological",date:"2024-12-12",status:"Incomplete",score:52,responses:{q1:"Hours per night: 6-7",q2:"Sleep interruptions: 2-3 times",q3:"Morning energy: Low to moderate",q4:"Not answered",q5:"Not answered"}}],g6=[{id:"EX001",title:"Lower Back Stretching Routine",description:"Gentle stretches to relieve lower back tension and improve flexibility",duration:"15 minutes",difficulty:"Beginner",videoUrl:"https://example.com/videos/back-stretch.mp4",thumbnailUrl:"https://via.placeholder.com/400x225/4F46E5/FFFFFF?text=Back+Stretching",category:"Stretching",targetArea:"Lower Back",equipment:"Yoga mat",views:1247,createdDate:"2024-11-05"},{id:"EX002",title:"Core Strengthening for Pain Relief",description:"Build core stability to support your spine and reduce pain",duration:"20 minutes",difficulty:"Intermediate",videoUrl:"https://example.com/videos/core-strength.mp4",thumbnailUrl:"https://via.placeholder.com/400x225/7C3AED/FFFFFF?text=Core+Strength",category:"Strength",targetArea:"Core",equipment:"None",views:892,createdDate:"2024-11-10"},{id:"EX003",title:"Gentle Neck Mobility Exercises",description:"Reduce neck tension and improve range of motion",duration:"10 minutes",difficulty:"Beginner",videoUrl:"https://example.com/videos/neck-mobility.mp4",thumbnailUrl:"https://via.placeholder.com/400x225/EC4899/FFFFFF?text=Neck+Mobility",category:"Mobility",targetArea:"Neck & Shoulders",equipment:"None",views:1523,createdDate:"2024-11-15"},{id:"EX004",title:"Mindful Walking Practice",description:"Low-impact cardio combined with mindfulness for pain management",duration:"30 minutes",difficulty:"Beginner",videoUrl:"https://example.com/videos/mindful-walking.mp4",thumbnailUrl:"https://via.placeholder.com/400x225/10B981/FFFFFF?text=Mindful+Walking",category:"Cardio",targetArea:"Full Body",equipment:"Comfortable shoes",views:2041,createdDate:"2024-11-20"}],m6=[{id:"COG001",title:"Memory Enhancement Module",description:"Interactive exercises to improve short-term and working memory",duration:"15 minutes",difficulty:"Beginner",apiStatus:"Connected",lastSync:"2024-12-23 10:30 AM",completionRate:78,averageScore:82,sessions:456,category:"Memory"},{id:"COG002",title:"Attention & Focus Training",description:"Games designed to enhance sustained attention and concentration",duration:"20 minutes",difficulty:"Intermediate",apiStatus:"Connected",lastSync:"2024-12-23 11:15 AM",completionRate:65,averageScore:75,sessions:332,category:"Attention"},{id:"COG003",title:"Problem-Solving Challenges",description:"Logic puzzles and scenarios to boost analytical thinking",duration:"25 minutes",difficulty:"Advanced",apiStatus:"Syncing...",lastSync:"2024-12-23 09:00 AM",completionRate:52,averageScore:68,sessions:198,category:"Logic"},{id:"COG004",title:"Processing Speed Drills",description:"Rapid response exercises to improve mental processing speed",duration:"10 minutes",difficulty:"Beginner",apiStatus:"Connected",lastSync:"2024-12-23 11:45 AM",completionRate:84,averageScore:88,sessions:612,category:"Speed"}],p6=[{id:"EDU001",title:"Understanding Chronic Pain",description:"Comprehensive overview of chronic pain mechanisms and management strategies",type:"Lesson",duration:"30 minutes",imageUrl:"https://via.placeholder.com/600x400/F59E0B/FFFFFF?text=Chronic+Pain",content:"Detailed lesson content about pain science...",completed:234,rating:4.7,category:"Pain Science",createdDate:"2024-10-15"},{id:"EDU002",title:"Stress Management Techniques",description:"Learn evidence-based methods to reduce and manage stress",type:"Video",duration:"45 minutes",imageUrl:"https://via.placeholder.com/600x400/3B82F6/FFFFFF?text=Stress+Management",videoUrl:"https://example.com/videos/stress-management.mp4",completed:412,rating:4.9,category:"Mental Health",createdDate:"2024-10-22"},{id:"EDU003",title:"Nutrition for Pain Relief",description:"How diet and nutrition impact pain levels and overall health",type:"Lesson",duration:"25 minutes",imageUrl:"https://via.placeholder.com/600x400/10B981/FFFFFF?text=Nutrition",content:"Detailed lesson about anti-inflammatory foods...",completed:189,rating:4.5,category:"Nutrition",createdDate:"2024-11-01"},{id:"EDU004",title:"Sleep Hygiene Masterclass",description:"Practical strategies to improve sleep quality and duration",type:"Video",duration:"35 minutes",imageUrl:"https://via.placeholder.com/600x400/8B5CF6/FFFFFF?text=Sleep+Hygiene",videoUrl:"https://example.com/videos/sleep-hygiene.mp4",completed:356,rating:4.8,category:"Sleep",createdDate:"2024-11-10"}],b6=[{id:"TPL001",name:"Daily Check-in Reminder",message:"Don't forget to log your pain level and mood today!",type:"Reminder",frequency:"Daily",time:"09:00 AM"},{id:"TPL002",name:"Exercise Streak Celebration",message:"Amazing! You're on a {streak_days}-day exercise streak! Keep it up!",type:"Motivation",frequency:"On Achievement",trigger:"Exercise Streak"},{id:"TPL003",name:"Questionnaire Follow-up",message:"You have an incomplete questionnaire. Complete it to track your progress!",type:"Alert",frequency:"Weekly",time:"06:00 PM"},{id:"TPL004",name:"Bedtime Relaxation",message:"Wind down with a guided meditation to improve your sleep quality.",type:"Reminder",frequency:"Daily",time:"09:30 PM"}],zb=[{id:"NOT001",userId:"USR001",userName:"Sarah Johnson",message:"Don't forget to log your pain level and mood today!",type:"Reminder",status:"Delivered",sentDate:"2024-12-23 09:00 AM",readDate:"2024-12-23 09:15 AM"},{id:"NOT002",userId:"USR002",userName:"Michael Chen",message:"Amazing! You're on a 7-day exercise streak! Keep it up!",type:"Motivation",status:"Delivered",sentDate:"2024-12-23 08:30 AM",readDate:"2024-12-23 08:45 AM"},{id:"NOT003",userId:"USR003",userName:"Emily Rodriguez",message:"You have an incomplete questionnaire. Complete it to track your progress!",type:"Alert",status:"Delivered",sentDate:"2024-12-22 06:00 PM",readDate:null},{id:"NOT004",userId:"USR005",userName:"Lisa Anderson",message:"Wind down with a guided meditation to improve your sleep quality.",type:"Reminder",status:"Pending",sentDate:"2024-12-23 09:30 PM",readDate:null}],wi={globalUsageStats:{totalUsers:5432,activeUsers:3876,totalSessions:45678,averageSessionDuration:"24 minutes",totalExercisesCompleted:12456,totalAssessmentsCompleted:8934,userGrowth:"+12.5%",engagement:"71.3%"},painTrends:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],data:[6.5,6.3,6.1,5.9,5.7,5.5,5.3,5.1,4.9,4.7,4.5,4.3],title:"Average Pain Level Over Time"},cognitivePerformance:{labels:["Memory","Attention","Logic","Speed","Flexibility"],data:[82,75,68,88,71],title:"Cognitive Performance Scores"},exerciseMoodSleep:{labels:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7","Week 8"],exercise:[120,145,168,189,210,235,258,280],mood:[5.5,5.8,6.1,6.4,6.7,7,7.3,7.6],sleep:[5.8,6,6.2,6.5,6.7,7,7.2,7.5],title:"Exercise, Mood & Sleep Evolution"},userEngagement:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[425,478,512,489,523,398,356],title:"Daily Active Users"}},Vb=[{id:"ROLE001",name:"Super Admin",description:"Full system access with all permissions",permissions:["read","write","delete","manage_users","manage_roles","system_settings","export_data"],userCount:2},{id:"ROLE002",name:"Admin",description:"Standard admin with most permissions",permissions:["read","write","delete","export_data"],userCount:5},{id:"ROLE003",name:"Researcher",description:"Read access with export capabilities",permissions:["read","export_data"],userCount:12},{id:"ROLE004",name:"Read-only",description:"View-only access without modifications",permissions:["read"],userCount:8}],HH=[{id:"ADM001",name:"Dr. Jennifer Williams",email:"j.williams@beiadmin.com",role:"Super Admin",lastLogin:"2024-12-23 11:30 AM",status:"Active",twoFactorEnabled:!0},{id:"ADM002",name:"Dr. Robert Martinez",email:"r.martinez@beiadmin.com",role:"Admin",lastLogin:"2024-12-23 10:15 AM",status:"Active",twoFactorEnabled:!0},{id:"ADM003",name:"Dr. Patricia Lee",email:"p.lee@beiadmin.com",role:"Researcher",lastLogin:"2024-12-22 03:45 PM",status:"Active",twoFactorEnabled:!1},{id:"ADM004",name:"John Davis",email:"j.davis@beiadmin.com",role:"Read-only",lastLogin:"2024-12-20 09:00 AM",status:"Active",twoFactorEnabled:!1}],yg=[{id:"LOG001",adminId:"ADM001",adminName:"Dr. Jennifer Williams",action:"Created new user account",target:"USR006 - Mark Wilson",timestamp:"2024-12-23 11:15 AM",ipAddress:"192.168.1.105",status:"Success"},{id:"LOG002",adminId:"ADM002",adminName:"Dr. Robert Martinez",action:"Updated exercise content",target:"EX002 - Core Strengthening",timestamp:"2024-12-23 10:30 AM",ipAddress:"192.168.1.112",status:"Success"},{id:"LOG003",adminId:"ADM001",adminName:"Dr. Jennifer Williams",action:"Exported user data",target:"All active users (CSV)",timestamp:"2024-12-23 09:45 AM",ipAddress:"192.168.1.105",status:"Success"},{id:"LOG004",adminId:"ADM003",adminName:"Dr. Patricia Lee",action:"Attempted role modification",target:"ADM004 - John Davis",timestamp:"2024-12-22 04:00 PM",ipAddress:"192.168.1.128",status:"Failed - Insufficient permissions"},{id:"LOG005",adminId:"ADM002",adminName:"Dr. Robert Martinez",action:"Sent push notification",target:"All active users",timestamp:"2024-12-22 09:00 AM",ipAddress:"192.168.1.112",status:"Success"}],za={language:{current:"en-US",available:[{code:"en-US",name:"English (US)"},{code:"es-ES",name:"Spanish (Spain)"},{code:"fr-FR",name:"French (France)"},{code:"de-DE",name:"German (Germany)"},{code:"zh-CN",name:"Chinese (Simplified)"}]},apiKeys:[{id:"API001",name:"Cognitive Training API",key:"ct_live_4Rf8n2K9mP3xQ7sT1vW6",status:"Active",createdDate:"2024-01-15",lastUsed:"2024-12-23 11:45 AM",requestsToday:1247},{id:"API002",name:"Push Notification Service",key:"pns_live_9Xy2L4bV7nH1pW8jK3mR",status:"Active",createdDate:"2024-02-03",lastUsed:"2024-12-23 09:30 AM",requestsToday:456},{id:"API003",name:"Analytics Platform",key:"ap_live_5Qw8T2nM6kB9xC4vZ7yL",status:"Active",createdDate:"2024-03-10",lastUsed:"2024-12-23 12:00 PM",requestsToday:89},{id:"API004",name:"Video Storage CDN",key:"vsc_live_3Hj7P1qF4xN8bM2sV5tW",status:"Inactive",createdDate:"2024-11-05",lastUsed:"2024-12-15 02:30 PM",requestsToday:0}],backupSchedule:{frequency:"Daily",lastBackup:"2024-12-23 02:00 AM",nextBackup:"2024-12-24 02:00 AM",status:"Completed",retentionDays:30,location:"AWS S3 - us-east-1"},systemPreferences:{maintenanceMode:!1,debugMode:!1,emailNotifications:!0,autoBackup:!0,sessionTimeout:30,maxLoginAttempts:5}},WH=()=>{const[n,e]=we.useState("send"),[t,i]=we.useState({title:"",message:"",targetUsers:"all"}),s=()=>{alert(`Notification sent to ${t.targetUsers} users!`),i({title:"",message:"",targetUsers:"all"})};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Send push notifications and manage automated reminders"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Sent Today"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"247"})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(Uw,{className:"text-indigo-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Delivered"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:zb.filter(r=>r.status==="Delivered").length})]}),m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(el,{className:"text-green-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:zb.filter(r=>r.status==="Pending").length})]}),m.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:m.jsx(Xg,{className:"text-yellow-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Active Templates"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:b6.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(zw,{className:"text-indigo-600 text-xl"})})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("div",{className:"flex",children:[m.jsx("button",{onClick:()=>e("send"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="send"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Send Notification"}),m.jsx("button",{onClick:()=>e("automated"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="automated"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Automated Reminders"}),m.jsx("button",{onClick:()=>e("history"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="history"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"History"})]})}),m.jsxs("div",{className:"p-6",children:[n==="send"&&m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Create & Send Notification"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",value:t.title,onChange:r=>i({...t,title:r.target.value}),placeholder:"Notification title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),m.jsx("textarea",{value:t.message,onChange:r=>i({...t,message:r.target.value}),rows:4,placeholder:"Enter your notification message...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),m.jsxs("select",{value:t.targetUsers,onChange:r=>i({...t,targetUsers:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[m.jsx("option",{value:"all",children:"All Users"}),m.jsx("option",{value:"active",children:"Active Users Only"}),m.jsx("option",{value:"inactive",children:"Inactive Users Only"}),m.jsx("option",{value:"custom",children:"Custom Selection"})]})]}),m.jsxs("button",{onClick:s,disabled:!t.title||!t.message,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(Uw,{}),m.jsx("span",{children:"Send Notification"})]})]})]}),n==="automated"&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Automated Reminder Templates"}),m.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[m.jsx(zw,{}),m.jsx("span",{children:"Create Template"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b6.map(r=>m.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg border border-indigo-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.name}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.type==="Reminder"?"bg-blue-100 text-blue-800":r.type==="Motivation"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.type})]}),m.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:r.message}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[m.jsxs("div",{className:"bg-white rounded-lg p-2",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Frequency"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.frequency})]}),r.time&&m.jsxs("div",{className:"bg-white rounded-lg p-2",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Time"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.time})]}),r.trigger&&m.jsxs("div",{className:"bg-white rounded-lg p-2 col-span-2",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Trigger"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.trigger})]})]}),m.jsxs("div",{className:"flex gap-2 mt-4",children:[m.jsx("button",{className:"flex-1 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm",children:"Edit"}),m.jsx("button",{className:"flex-1 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]},r.id))})]}),n==="history"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification History"}),m.jsx("div",{className:"space-y-3",children:zb.map(r=>m.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:m.jsx(Qd,{className:"text-indigo-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:r.userName}),m.jsx("p",{className:"text-xs text-gray-500",children:r.sentDate})]})]}),m.jsx("p",{className:"text-gray-700 ml-13",children:r.message})]}),m.jsxs("div",{className:"flex flex-col items-end gap-2",children:[m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${r.status==="Delivered"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.status}),r.readDate&&m.jsxs("span",{className:"text-xs text-gray-500",children:["Read: ",r.readDate]})]})]})},r.id))})]})]})]})]})};var C0={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var GH=C0.exports,y6;function $H(){return y6||(y6=1,(function(n,e){((t,i)=>{n.exports=i()})(GH,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,r=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,a={},c=0,h={};function f(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var W=J(P);W.chunkSize=parseInt(W.chunkSize),P.step||P.chunk||(W.chunkSize=null),this._handle=new A(W),(this._handle.streamer=this)._config=W}).call(this,M),this.parseChunk=function(P,W){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let ie=this._config.newline;ie||(B=this._config.quoteChar||'"',ie=this._handle.guessLineEndings(P,B)),P=[...P.split(ie).slice(R)].join(ie)}this.isFirstChunk&&ee(this._config.beforeFirstChunk)&&(B=this._config.beforeFirstChunk(P))!==void 0&&(P=B),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+P,B=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=B.meta.cursor,R=(this._finished||(this._partialLine=R.substring(P-this._baseIndex),this._baseIndex=P),B&&B.data&&(this._rowCount+=B.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)i.postMessage({results:B,workerId:h.WORKER_ID,finished:R});else if(ee(this._config.chunk)&&!W){if(this._config.chunk(B,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=B=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(B.data),this._completeResults.errors=this._completeResults.errors.concat(B.errors),this._completeResults.meta=B.meta),this._completed||!R||!ee(this._config.complete)||B&&B.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||B&&B.meta.paused||this._nextChunk(),B}this._halted=!0},this._sendError=function(P){ee(this._config.error)?this._config.error(P):o&&this._config.error&&i.postMessage({workerId:h.WORKER_ID,error:P,finished:!1})}}function p(M){var P;(M=M||{}).chunkSize||(M.chunkSize=h.RemoteChunkSize),f.call(this,M),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),r||(P.onload=se(this._chunkLoaded,this),P.onerror=se(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var W,R=this._config.downloadRequestHeaders;for(W in R)P.setRequestHeader(W,R[W])}var B;this._config.chunkSize&&(B=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+B));try{P.send(this._config.downloadRequestBody)}catch(ie){this._chunkError(ie.message)}r&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(W){W=P.statusText||W,this._sendError(new Error(W))}}function v(M){(M=M||{}).chunkSize||(M.chunkSize=h.LocalChunkSize),f.call(this,M);var P,W,R=typeof FileReader<"u";this.stream=function(B){this._input=B,W=B.slice||B.webkitSlice||B.mozSlice,R?((P=new FileReader).onload=se(this._chunkLoaded,this),P.onerror=se(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var B=this._input,ie=(this._config.chunkSize&&(ie=Math.min(this._start+this._config.chunkSize,this._input.size),B=W.call(B,this._start,ie)),P.readAsText(B,this._config.encoding));R||this._chunkLoaded({target:{result:ie}})},this._chunkLoaded=function(B){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(B.target.result)},this._chunkError=function(){this._sendError(P.error)}}function y(M){var P;f.call(this,M=M||{}),this.stream=function(W){return P=W,this._nextChunk()},this._nextChunk=function(){var W,R;if(!this._finished)return W=this._config.chunkSize,P=W?(R=P.substring(0,W),P.substring(W)):(R=P,""),this._finished=!P,this.parseChunk(R)}}function k(M){f.call(this,M=M||{});var P=[],W=!0,R=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(B){this._input=B,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):W=!0},this._streamData=se(function(B){try{P.push(typeof B=="string"?B:B.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(ie){this._streamError(ie)}},this),this._streamError=se(function(B){this._streamCleanUp(),this._sendError(B)},this),this._streamEnd=se(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=se(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(M){var P,W,R,B,ie=Math.pow(2,53),oe=-ie,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ae=this,ue=0,ge=0,$=!1,le=!1,O=[],I={data:[],errors:[],meta:{}};function K(ye){return M.skipEmptyLines==="greedy"?ye.join("").trim()==="":ye.length===1&&ye[0].length===0}function re(){if(I&&R&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),R=!1),M.skipEmptyLines&&(I.data=I.data.filter(function(Re){return!K(Re)})),ce()){let Re=function(Ke,Ye){ee(M.transformHeader)&&(Ke=M.transformHeader(Ke,Ye)),O.push(Ke)};if(I)if(Array.isArray(I.data[0])){for(var ye=0;ce()&&ye<I.data.length;ye++)I.data[ye].forEach(Re);I.data.splice(0,1)}else I.data.forEach(Re)}function ke(Re,Ke){for(var Ye=M.header?{}:[],Qe=0;Qe<Re.length;Qe++){var Y=Qe,Ue=Re[Qe],Ue=((mt,Xe)=>(Be=>(M.dynamicTypingFunction&&M.dynamicTyping[Be]===void 0&&(M.dynamicTyping[Be]=M.dynamicTypingFunction(Be)),(M.dynamicTyping[Be]||M.dynamicTyping)===!0))(mt)?Xe==="true"||Xe==="TRUE"||Xe!=="false"&&Xe!=="FALSE"&&((Be=>{if(pe.test(Be)&&(Be=parseFloat(Be),oe<Be&&Be<ie))return 1})(Xe)?parseFloat(Xe):Q.test(Xe)?new Date(Xe):Xe===""?null:Xe):Xe)(Y=M.header?Qe>=O.length?"__parsed_extra":O[Qe]:Y,Ue=M.transform?M.transform(Ue,Y):Ue);Y==="__parsed_extra"?(Ye[Y]=Ye[Y]||[],Ye[Y].push(Ue)):Ye[Y]=Ue}return M.header&&(Qe>O.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+O.length+" fields but parsed "+Qe,ge+Ke):Qe<O.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+O.length+" fields but parsed "+Qe,ge+Ke)),Ye}var Le;I&&(M.header||M.dynamicTyping||M.transform)&&(Le=1,!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(ke),Le=I.data.length):I.data=ke(I.data,0),M.header&&I.meta&&(I.meta.fields=O),ge+=Le)}function ce(){return M.header&&O.length===0}function xe(ye,ke,Le,Re){ye={type:ye,code:ke,message:Le},Re!==void 0&&(ye.row=Re),I.errors.push(ye)}ee(M.step)&&(B=M.step,M.step=function(ye){I=ye,ce()?re():(re(),I.data.length!==0&&(ue+=ye.data.length,M.preview&&ue>M.preview?W.abort():(I.data=I.data[0],B(I,ae))))}),this.parse=function(ye,ke,Le){var Re=M.quoteChar||'"',Re=(M.newline||(M.newline=this.guessLineEndings(ye,Re)),R=!1,M.delimiter?ee(M.delimiter)&&(M.delimiter=M.delimiter(ye),I.meta.delimiter=M.delimiter):((Re=((Ke,Ye,Qe,Y,Ue)=>{var mt,Xe,Be,pt;Ue=Ue||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var tt=0;tt<Ue.length;tt++){for(var ut,bt=Ue[tt],Ot=0,Lt=0,rt=0,dt=(Be=void 0,new E({comments:Y,delimiter:bt,newline:Ye,preview:10}).parse(Ke)),kt=0;kt<dt.data.length;kt++)Qe&&K(dt.data[kt])?rt++:(ut=dt.data[kt].length,Lt+=ut,Be===void 0?Be=ut:0<ut&&(Ot+=Math.abs(ut-Be),Be=ut));0<dt.data.length&&(Lt/=dt.data.length-rt),(Xe===void 0||Ot<=Xe)&&(pt===void 0||pt<Lt)&&1.99<Lt&&(Xe=Ot,mt=bt,pt=Lt)}return{successful:!!(M.delimiter=mt),bestDelimiter:mt}})(ye,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=Re.bestDelimiter:(R=!0,M.delimiter=h.DefaultDelimiter),I.meta.delimiter=M.delimiter),J(M));return M.preview&&M.header&&Re.preview++,P=ye,W=new E(Re),I=W.parse(P,ke,Le),re(),$?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,W.abort(),P=ee(M.chunk)?"":P.substring(W.getCharIndex())},this.resume=function(){ae.streamer._halted?($=!1,ae.streamer.parseChunk(P,!0)):setTimeout(ae.resume,3)},this.aborted=function(){return le},this.abort=function(){le=!0,W.abort(),I.meta.aborted=!0,ee(M.complete)&&M.complete(I),P=""},this.guessLineEndings=function(Ke,Re){Ke=Ke.substring(0,1048576);var Re=new RegExp(N(Re)+"([^]*?)"+N(Re),"gm"),Le=(Ke=Ke.replace(Re,"")).split("\r"),Re=Ke.split(`
`),Ke=1<Re.length&&Re[0].length<Le[0].length;if(Le.length===1||Ke)return`
`;for(var Ye=0,Qe=0;Qe<Le.length;Qe++)Le[Qe][0]===`
`&&Ye++;return Ye>=Le.length/2?`\r
`:"\r"}}function N(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(M){var P=(M=M||{}).delimiter,W=M.newline,R=M.comments,B=M.step,ie=M.preview,oe=M.fastMode,pe=null,Q=!1,ae=M.quoteChar==null?'"':M.quoteChar,ue=ae;if(M.escapeChar!==void 0&&(ue=M.escapeChar),(typeof P!="string"||-1<h.BAD_DELIMITERS.indexOf(P))&&(P=","),R===P)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<h.BAD_DELIMITERS.indexOf(R))&&(R=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var ge=0,$=!1;this.parse=function(le,O,I){if(typeof le!="string")throw new Error("Input must be a string");var K=le.length,re=P.length,ce=W.length,xe=R.length,ye=ee(B),ke=[],Le=[],Re=[],Ke=ge=0;if(!le)return Ot();if(oe||oe!==!1&&le.indexOf(ae)===-1){for(var Ye=le.split(W),Qe=0;Qe<Ye.length;Qe++){if(Re=Ye[Qe],ge+=Re.length,Qe!==Ye.length-1)ge+=W.length;else if(I)return Ot();if(!R||Re.substring(0,xe)!==R){if(ye){if(ke=[],pt(Re.split(P)),Lt(),$)return Ot()}else pt(Re.split(P));if(ie&&ie<=Qe)return ke=ke.slice(0,ie),Ot(!0)}}return Ot()}for(var Y=le.indexOf(P,ge),Ue=le.indexOf(W,ge),mt=new RegExp(N(ue)+N(ae),"g"),Xe=le.indexOf(ae,ge);;)if(le[ge]===ae)for(Xe=ge,ge++;;){if((Xe=le.indexOf(ae,Xe+1))===-1)return I||Le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:ge}),ut();if(Xe===K-1)return ut(le.substring(ge,Xe).replace(mt,ae));if(ae===ue&&le[Xe+1]===ue)Xe++;else if(ae===ue||Xe===0||le[Xe-1]!==ue){Y!==-1&&Y<Xe+1&&(Y=le.indexOf(P,Xe+1));var Be=tt((Ue=Ue!==-1&&Ue<Xe+1?le.indexOf(W,Xe+1):Ue)===-1?Y:Math.min(Y,Ue));if(le.substr(Xe+1+Be,re)===P){Re.push(le.substring(ge,Xe).replace(mt,ae)),le[ge=Xe+1+Be+re]!==ae&&(Xe=le.indexOf(ae,ge)),Y=le.indexOf(P,ge),Ue=le.indexOf(W,ge);break}if(Be=tt(Ue),le.substring(Xe+1+Be,Xe+1+Be+ce)===W){if(Re.push(le.substring(ge,Xe).replace(mt,ae)),bt(Xe+1+Be+ce),Y=le.indexOf(P,ge),Xe=le.indexOf(ae,ge),ye&&(Lt(),$))return Ot();if(ie&&ke.length>=ie)return Ot(!0);break}Le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:ge}),Xe++}}else if(R&&Re.length===0&&le.substring(ge,ge+xe)===R){if(Ue===-1)return Ot();ge=Ue+ce,Ue=le.indexOf(W,ge),Y=le.indexOf(P,ge)}else if(Y!==-1&&(Y<Ue||Ue===-1))Re.push(le.substring(ge,Y)),ge=Y+re,Y=le.indexOf(P,ge);else{if(Ue===-1)break;if(Re.push(le.substring(ge,Ue)),bt(Ue+ce),ye&&(Lt(),$))return Ot();if(ie&&ke.length>=ie)return Ot(!0)}return ut();function pt(rt){ke.push(rt),Ke=ge}function tt(rt){var dt=0;return dt=rt!==-1&&(rt=le.substring(Xe+1,rt))&&rt.trim()===""?rt.length:dt}function ut(rt){return I||(rt===void 0&&(rt=le.substring(ge)),Re.push(rt),ge=K,pt(Re),ye&&Lt()),Ot()}function bt(rt){ge=rt,pt(Re),Re=[],Ue=le.indexOf(W,ge)}function Ot(rt){if(M.header&&!O&&ke.length&&!Q){var dt=ke[0],kt=Object.create(null),et=new Set(dt);let Bt=!1;for(let lt=0;lt<dt.length;lt++){let mn=dt[lt];if(kt[mn=ee(M.transformHeader)?M.transformHeader(mn,lt):mn]){let $t,It=kt[mn];for(;$t=mn+"_"+It,It++,et.has($t););et.add($t),dt[lt]=$t,kt[mn]++,Bt=!0,(pe=pe===null?{}:pe)[$t]=mn}else kt[mn]=1,dt[lt]=mn;et.add(mn)}Bt&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:ke,errors:Le,meta:{delimiter:P,linebreak:W,aborted:$,truncated:!!rt,cursor:Ke+(O||0),renamedHeaders:pe}}}function Lt(){B(Ot()),ke=[],Le=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return ge}}function D(M){var P=M.data,W=a[P.workerId],R=!1;if(P.error)W.userError(P.error,P.file);else if(P.results&&P.results.data){var B={abort:function(){R=!0,U(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(ee(W.userStep)){for(var ie=0;ie<P.results.data.length&&(W.userStep({data:P.results.data[ie],errors:P.results.errors,meta:P.results.meta},B),!R);ie++);delete P.results}else ee(W.userChunk)&&(W.userChunk(P.results,B,P.file),delete P.results)}P.finished&&!R&&U(P.workerId,P.results)}function U(M,P){var W=a[M];ee(W.userComplete)&&W.userComplete(P),W.terminate(),delete a[M]}function V(){throw new Error("Not implemented.")}function J(M){if(typeof M!="object"||M===null)return M;var P,W=Array.isArray(M)?[]:{};for(P in M)W[P]=J(M[P]);return W}function se(M,P){return function(){M.apply(P,arguments)}}function ee(M){return typeof M=="function"}return h.parse=function(M,P){var W=(P=P||{}).dynamicTyping||!1;if(ee(W)&&(P.dynamicTypingFunction=W,W={}),P.dynamicTyping=W,P.transform=!!ee(P.transform)&&P.transform,!P.worker||!h.WORKERS_SUPPORTED)return W=null,h.NODE_STREAM_INPUT,typeof M=="string"?(M=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(M),W=new(P.download?p:y)(P)):M.readable===!0&&ee(M.read)&&ee(M.on)?W=new k(P):(i.File&&M instanceof File||M instanceof Object)&&(W=new v(P)),W.stream(M);(W=(()=>{var R;return!!h.WORKERS_SUPPORTED&&(R=(()=>{var B=i.URL||i.webkitURL||null,ie=t.toString();return h.BLOB_URL||(h.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ie,")();"],{type:"text/javascript"})))})(),(R=new i.Worker(R)).onmessage=D,R.id=c++,a[R.id]=R)})()).userStep=P.step,W.userChunk=P.chunk,W.userComplete=P.complete,W.userError=P.error,P.step=ee(P.step),P.chunk=ee(P.chunk),P.complete=ee(P.complete),P.error=ee(P.error),delete P.worker,W.postMessage({input:M,config:P,workerId:W.id})},h.unparse=function(M,P){var W=!1,R=!0,B=",",ie=`\r
`,oe='"',pe=oe+oe,Q=!1,ae=null,ue=!1,ge=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||h.BAD_DELIMITERS.filter(function(O){return P.delimiter.indexOf(O)!==-1}).length||(B=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(W=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(Q=P.skipEmptyLines),typeof P.newline=="string"&&(ie=P.newline),typeof P.quoteChar=="string"&&(oe=P.quoteChar),typeof P.header=="boolean"&&(R=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");ae=P.columns}P.escapeChar!==void 0&&(pe=P.escapeChar+oe),P.escapeFormulae instanceof RegExp?ue=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(ue=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(oe),"g"));if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return $(null,M,Q);if(typeof M[0]=="object")return $(ae||Object.keys(M[0]),M,Q)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||ae),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),$(M.fields||[],M.data||[],Q);throw new Error("Unable to serialize unrecognized input");function $(O,I,K){var re="",ce=(typeof O=="string"&&(O=JSON.parse(O)),typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(O)&&0<O.length),xe=!Array.isArray(I[0]);if(ce&&R){for(var ye=0;ye<O.length;ye++)0<ye&&(re+=B),re+=le(O[ye],ye);0<I.length&&(re+=ie)}for(var ke=0;ke<I.length;ke++){var Le=(ce?O:I[ke]).length,Re=!1,Ke=ce?Object.keys(I[ke]).length===0:I[ke].length===0;if(K&&!ce&&(Re=K==="greedy"?I[ke].join("").trim()==="":I[ke].length===1&&I[ke][0].length===0),K==="greedy"&&ce){for(var Ye=[],Qe=0;Qe<Le;Qe++){var Y=xe?O[Qe]:Qe;Ye.push(I[ke][Y])}Re=Ye.join("").trim()===""}if(!Re){for(var Ue=0;Ue<Le;Ue++){0<Ue&&!Ke&&(re+=B);var mt=ce&&xe?O[Ue]:Ue;re+=le(I[ke][mt],Ue)}ke<I.length-1&&(!K||0<Le&&!Ke)&&(re+=ie)}}return re}function le(O,I){var K,re;return O==null?"":O.constructor===Date?JSON.stringify(O).slice(1,25):(re=!1,ue&&typeof O=="string"&&ue.test(O)&&(O="'"+O,re=!0),K=O.toString().replace(ge,pe),(re=re||W===!0||typeof W=="function"&&W(O,I)||Array.isArray(W)&&W[I]||((ce,xe)=>{for(var ye=0;ye<xe.length;ye++)if(-1<ce.indexOf(xe[ye]))return!0;return!1})(K,h.BAD_DELIMITERS)||-1<K.indexOf(B)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?oe+K+oe:K)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!r&&!!i.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=E,h.ParserHandle=A,h.NetworkStreamer=p,h.FileStreamer=v,h.StringStreamer=y,h.ReadableStreamStreamer=k,i.jQuery&&((s=i.jQuery).fn.parse=function(M){var P=M.config||{},W=[];return this.each(function(ie){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var oe=0;oe<this.files.length;oe++)W.push({file:this.files[oe],inputElem:this,instanceConfig:s.extend({},P)})}),R(),this;function R(){if(W.length===0)ee(M.complete)&&M.complete();else{var ie,oe,pe,Q,ae=W[0];if(ee(M.before)){var ue=M.before(ae.file,ae.inputElem);if(typeof ue=="object"){if(ue.action==="abort")return ie="AbortError",oe=ae.file,pe=ae.inputElem,Q=ue.reason,void(ee(M.error)&&M.error({name:ie},oe,pe,Q));if(ue.action==="skip")return void B();typeof ue.config=="object"&&(ae.instanceConfig=s.extend(ae.instanceConfig,ue.config))}else if(ue==="skip")return void B()}var ge=ae.instanceConfig.complete;ae.instanceConfig.complete=function($){ee(ge)&&ge($,ae.file,ae.inputElem),B()},h.parse(ae.file,ae.instanceConfig)}}function B(){W.splice(0,1),R()}}),o&&(i.onmessage=function(M){M=M.data,h.WORKER_ID===void 0&&M&&(h.WORKER_ID=M.workerId),typeof M.input=="string"?i.postMessage({workerId:h.WORKER_ID,results:h.parse(M.input,M.config),finished:!0}):(i.File&&M.input instanceof File||M.input instanceof Object)&&(M=h.parse(M.input,M.config))&&i.postMessage({workerId:h.WORKER_ID,results:M,finished:!0})}),(p.prototype=Object.create(f.prototype)).constructor=p,(v.prototype=Object.create(f.prototype)).constructor=v,(y.prototype=Object.create(y.prototype)).constructor=y,(k.prototype=Object.create(f.prototype)).constructor=k,h})})(C0)),C0.exports}var KH=$H();const YH=VS(KH),XH="modulepreload",JH=function(n){return"/"+n},v6={},Ub=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=c(t.map(h=>{if(h=JH(h),h in v6)return;v6[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":XH,f||(v.as="script"),v.crossOrigin="",v.href=h,a&&v.setAttribute("nonce",a),document.head.appendChild(v),f)return new Promise((y,k)=>{v.addEventListener("load",y),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};function Ln(n){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(n)}var ca=Uint8Array,Jr=Uint16Array,v5=Int32Array,x5=new ca([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w5=new ca([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x6=new ca([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FC=function(n,e){for(var t=new Jr(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new v5(t[30]),i=1;i<30;++i)for(var r=t[i];r<t[i+1];++r)s[r]=r-t[i]<<5|i;return{b:t,r:s}},BC=FC(x5,2),QH=BC.b,Wy=BC.r;QH[28]=258,Wy[258]=28;var ZH=FC(w5,0),w6=ZH.r,Gy=new Jr(32768);for(var ni=0;ni<32768;++ni){var Jc=(ni&43690)>>1|(ni&21845)<<1;Jc=(Jc&52428)>>2|(Jc&13107)<<2,Jc=(Jc&61680)>>4|(Jc&3855)<<4,Gy[ni]=((Jc&65280)>>8|(Jc&255)<<8)>>1}var Gg=(function(n,e,t){for(var i=n.length,s=0,r=new Jr(e);s<i;++s)n[s]&&++r[n[s]-1];var o=new Jr(e);for(s=1;s<e;++s)o[s]=o[s-1]+r[s-1]<<1;var a;if(t){a=new Jr(1<<e);var c=15-e;for(s=0;s<i;++s)if(n[s])for(var h=s<<4|n[s],f=e-n[s],p=o[n[s]-1]++<<f,v=p|(1<<f)-1;p<=v;++p)a[Gy[p]>>c]=h}else for(a=new Jr(i),s=0;s<i;++s)n[s]&&(a[s]=Gy[o[n[s]-1]++]>>15-n[s]);return a}),vh=new ca(288);for(var ni=0;ni<144;++ni)vh[ni]=8;for(var ni=144;ni<256;++ni)vh[ni]=9;for(var ni=256;ni<280;++ni)vh[ni]=7;for(var ni=280;ni<288;++ni)vh[ni]=8;var s1=new ca(32);for(var ni=0;ni<32;++ni)s1[ni]=5;var eW=Gg(vh,9,0),tW=Gg(s1,5,0),IC=function(n){return(n+7)/8|0},nW=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ca(n.subarray(e,t))},Rl=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},vg=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},qb=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var s=t.length,r=t.slice();if(!s)return{t:VC,l:0};if(s==1){var o=new ca(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(J,se){return J.f-se.f}),t.push({s:-1,f:25001});var a=t[0],c=t[1],h=0,f=1,p=2;for(t[0]={s:-1,f:a.f+c.f,l:a,r:c};f!=s-1;)a=t[t[h].f<t[p].f?h++:p++],c=t[h!=f&&t[h].f<t[p].f?h++:p++],t[f++]={s:-1,f:a.f+c.f,l:a,r:c};for(var v=r[0].s,i=1;i<s;++i)r[i].s>v&&(v=r[i].s);var y=new Jr(v+1),k=$y(t[f-1],y,0);if(k>e){var i=0,A=0,N=k-e,E=1<<N;for(r.sort(function(se,ee){return y[ee.s]-y[se.s]||se.f-ee.f});i<s;++i){var D=r[i].s;if(y[D]>e)A+=E-(1<<k-y[D]),y[D]=e;else break}for(A>>=N;A>0;){var U=r[i].s;y[U]<e?A-=1<<e-y[U]++-1:++i}for(;i>=0&&A;--i){var V=r[i].s;y[V]==e&&(--y[V],++A)}k=e}return{t:new ca(y),l:k}},$y=function(n,e,t){return n.s==-1?Math.max($y(n.l,e,t+1),$y(n.r,e,t+1)):e[n.s]=t},_6=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Jr(++e),i=0,s=n[0],r=1,o=function(c){t[i++]=c},a=1;a<=e;++a)if(n[a]==s&&a!=e)++r;else{if(!s&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(s),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(s);r=1,s=n[a]}return{c:t.subarray(0,i),n:e}},xg=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},zC=function(n,e,t){var i=t.length,s=IC(e+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var r=0;r<i;++r)n[s+r+4]=t[r];return(s+4+i)*8},S6=function(n,e,t,i,s,r,o,a,c,h,f){Rl(e,f++,t),++s[256];for(var p=qb(s,15),v=p.t,y=p.l,k=qb(r,15),A=k.t,N=k.l,E=_6(v),D=E.c,U=E.n,V=_6(A),J=V.c,se=V.n,ee=new Jr(19),M=0;M<D.length;++M)++ee[D[M]&31];for(var M=0;M<J.length;++M)++ee[J[M]&31];for(var P=qb(ee,7),W=P.t,R=P.l,B=19;B>4&&!W[x6[B-1]];--B);var ie=h+5<<3,oe=xg(s,vh)+xg(r,s1)+o,pe=xg(s,v)+xg(r,A)+o+14+3*B+xg(ee,W)+2*ee[16]+3*ee[17]+7*ee[18];if(c>=0&&ie<=oe&&ie<=pe)return zC(e,f,n.subarray(c,c+h));var Q,ae,ue,ge;if(Rl(e,f,1+(pe<oe)),f+=2,pe<oe){Q=Gg(v,y,0),ae=v,ue=Gg(A,N,0),ge=A;var $=Gg(W,R,0);Rl(e,f,U-257),Rl(e,f+5,se-1),Rl(e,f+10,B-4),f+=14;for(var M=0;M<B;++M)Rl(e,f+3*M,W[x6[M]]);f+=3*B;for(var le=[D,J],O=0;O<2;++O)for(var I=le[O],M=0;M<I.length;++M){var K=I[M]&31;Rl(e,f,$[K]),f+=W[K],K>15&&(Rl(e,f,I[M]>>5&127),f+=I[M]>>12)}}else Q=eW,ae=vh,ue=tW,ge=s1;for(var M=0;M<a;++M){var re=i[M];if(re>255){var K=re>>18&31;vg(e,f,Q[K+257]),f+=ae[K+257],K>7&&(Rl(e,f,re>>23&31),f+=x5[K]);var ce=re&31;vg(e,f,ue[ce]),f+=ge[ce],ce>3&&(vg(e,f,re>>5&8191),f+=w5[ce])}else vg(e,f,Q[re]),f+=ae[re]}return vg(e,f,Q[256]),f+ae[256]},iW=new v5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VC=new ca(0),sW=function(n,e,t,i,s,r){var o=r.z||n.length,a=new ca(i+o+5*(1+Math.ceil(o/7e3))+s),c=a.subarray(i,a.length-s),h=r.l,f=(r.r||0)&7;if(e){f&&(c[0]=r.r>>3);for(var p=iW[e-1],v=p>>13,y=p&8191,k=(1<<t)-1,A=r.p||new Jr(32768),N=r.h||new Jr(k+1),E=Math.ceil(t/3),D=2*E,U=function(Qe){return(n[Qe]^n[Qe+1]<<E^n[Qe+2]<<D)&k},V=new v5(25e3),J=new Jr(288),se=new Jr(32),ee=0,M=0,P=r.i||0,W=0,R=r.w||0,B=0;P+2<o;++P){var ie=U(P),oe=P&32767,pe=N[ie];if(A[oe]=pe,N[ie]=oe,R<=P){var Q=o-P;if((ee>7e3||W>24576)&&(Q>423||!h)){f=S6(n,c,0,V,J,se,M,W,B,P-B,f),W=ee=M=0,B=P;for(var ae=0;ae<286;++ae)J[ae]=0;for(var ae=0;ae<30;++ae)se[ae]=0}var ue=2,ge=0,$=y,le=oe-pe&32767;if(Q>2&&ie==U(P-le))for(var O=Math.min(v,Q)-1,I=Math.min(32767,P),K=Math.min(258,Q);le<=I&&--$&&oe!=pe;){if(n[P+ue]==n[P+ue-le]){for(var re=0;re<K&&n[P+re]==n[P+re-le];++re);if(re>ue){if(ue=re,ge=le,re>O)break;for(var ce=Math.min(le,re-2),xe=0,ae=0;ae<ce;++ae){var ye=P-le+ae&32767,ke=A[ye],Le=ye-ke&32767;Le>xe&&(xe=Le,pe=ye)}}}oe=pe,pe=A[oe],le+=oe-pe&32767}if(ge){V[W++]=268435456|Wy[ue]<<18|w6[ge];var Re=Wy[ue]&31,Ke=w6[ge]&31;M+=x5[Re]+w5[Ke],++J[257+Re],++se[Ke],R=P+ue,++ee}else V[W++]=n[P],++J[n[P]]}}for(P=Math.max(P,R);P<o;++P)V[W++]=n[P],++J[n[P]];f=S6(n,c,h,V,J,se,M,W,B,P-B,f),h||(r.r=f&7|c[f/8|0]<<3,f-=7,r.h=N,r.p=A,r.i=P,r.w=R)}else{for(var P=r.w||0;P<o+h;P+=65535){var Ye=P+65535;Ye>=o&&(c[f/8|0]=h,Ye=o),f=zC(c,f+1,n.subarray(P,Ye))}r.i=o}return nW(a,0,i+IC(f)+s)},UC=function(){var n=1,e=0;return{p:function(t){for(var i=n,s=e,r=t.length|0,o=0;o!=r;){for(var a=Math.min(o+2655,r);o<a;++o)s+=i+=t[o];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},rW=function(n,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var r=e.dictionary.subarray(-32768),o=new ca(r.length+n.length);o.set(r),o.set(n,r.length),n=o,s.w=r.length}return sW(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,s)},qC=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},oW=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=UC();s.p(e.dictionary),qC(n,2,s.d())}};function Ky(n,e){e||(e={});var t=UC();t.p(n);var i=rW(n,e,e.dictionary?6:2,4);return oW(i,e),qC(i,i.length-4,t.d()),i}var aW=typeof TextDecoder<"u"&&new TextDecoder,lW=0;try{aW.decode(VC,{stream:!0}),lW=1}catch{}function cW(n){if(Array.isArray(n))return n}function uW(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],c=!0,h=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(c=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);c=!0);}catch(f){h=!0,s=f}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw s}}return a}}function k6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function hW(n,e){if(n){if(typeof n=="string")return k6(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k6(n,e):void 0}}function dW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A6(n,e){return cW(n)||uW(n,e)||hW(n,e)||dW()}function C6(n,e="utf8"){return new TextDecoder(e).decode(n)}const fW=new TextEncoder;function gW(n){return fW.encode(n)}const mW=1024*8,pW=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Hb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=mW,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,r=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof _5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,r),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=Hb[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,r=this.buffer.slice(s,s+i);if(this.littleEndian===pW&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+i));a.reverse();const c=new Hb[t](a.buffer);return this.offset+=i,c.reverse(),c}const o=new Hb[t](r);return this.offset+=i,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return C6(this.readBytes(e))}decodeText(e=1,t="utf8"){return C6(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(gW(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mf(n){let e=n.length;for(;--e>=0;)n[e]=0}const bW=3,yW=258,HC=29,vW=256,xW=vW+1+HC,WC=30,wW=512,_W=new Array((xW+2)*2);mf(_W);const SW=new Array(WC*2);mf(SW);const kW=new Array(wW);mf(kW);const AW=new Array(yW-bW+1);mf(AW);const CW=new Array(HC);mf(CW);const NW=new Array(WC);mf(NW);const EW=(n,e,t,i)=>{let s=n&65535|0,r=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do s=s+e[i++]|0,r=r+s|0;while(--o);s%=65521,r%=65521}return s|r<<16|0};var Yy=EW;const TW=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},PW=new Uint32Array(TW()),MW=(n,e,t,i)=>{const s=PW,r=i+t;n^=-1;for(let o=i;o<r;o++)n=n>>>8^s[(n^e[o])&255];return n^-1};var Va=MW,Xy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},GC={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const OW=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var LW=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)OW(t,i)&&(n[i]=t[i])}}return n},RW=n=>{let e=0;for(let i=0,s=n.length;i<s;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,s=0,r=n.length;i<r;i++){let o=n[i];t.set(o,s),s+=o.length}return t},$C={assign:LW,flattenChunks:RW};let KC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{KC=!1}const _m=new Uint8Array(256);for(let n=0;n<256;n++)_m[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;_m[254]=_m[254]=1;var DW=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,s,r,o=n.length,a=0;for(s=0;s<o;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<o&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),r=0,s=0;r<a;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<o&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[r++]=t:t<2048?(e[r++]=192|t>>>6,e[r++]=128|t&63):t<65536?(e[r++]=224|t>>>12,e[r++]=128|t>>>6&63,e[r++]=128|t&63):(e[r++]=240|t>>>18,e[r++]=128|t>>>12&63,e[r++]=128|t>>>6&63,e[r++]=128|t&63);return e};const jW=(n,e)=>{if(e<65534&&n.subarray&&KC)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var FW=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,s;const r=new Array(t*2);for(s=0,i=0;i<t;){let o=n[i++];if(o<128){r[s++]=o;continue}let a=_m[o];if(a>4){r[s++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<t;)o=o<<6|n[i++]&63,a--;if(a>1){r[s++]=65533;continue}o<65536?r[s++]=o:(o-=65536,r[s++]=55296|o>>10&1023,r[s++]=56320|o&1023)}return jW(r,s)},BW=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+_m[n[t]]>e?t:e},Jy={string2buf:DW,buf2string:FW,utf8border:BW};function IW(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zW=IW;const r0=16209,VW=16191;var UW=function(e,t){let i,s,r,o,a,c,h,f,p,v,y,k,A,N,E,D,U,V,J,se,ee,M,P,W;const R=e.state;i=e.next_in,P=e.input,s=i+(e.avail_in-5),r=e.next_out,W=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),c=R.dmax,h=R.wsize,f=R.whave,p=R.wnext,v=R.window,y=R.hold,k=R.bits,A=R.lencode,N=R.distcode,E=(1<<R.lenbits)-1,D=(1<<R.distbits)-1;e:do{k<15&&(y+=P[i++]<<k,k+=8,y+=P[i++]<<k,k+=8),U=A[y&E];t:for(;;){if(V=U>>>24,y>>>=V,k-=V,V=U>>>16&255,V===0)W[r++]=U&65535;else if(V&16){J=U&65535,V&=15,V&&(k<V&&(y+=P[i++]<<k,k+=8),J+=y&(1<<V)-1,y>>>=V,k-=V),k<15&&(y+=P[i++]<<k,k+=8,y+=P[i++]<<k,k+=8),U=N[y&D];n:for(;;){if(V=U>>>24,y>>>=V,k-=V,V=U>>>16&255,V&16){if(se=U&65535,V&=15,k<V&&(y+=P[i++]<<k,k+=8,k<V&&(y+=P[i++]<<k,k+=8)),se+=y&(1<<V)-1,se>c){e.msg="invalid distance too far back",R.mode=r0;break e}if(y>>>=V,k-=V,V=r-o,se>V){if(V=se-V,V>f&&R.sane){e.msg="invalid distance too far back",R.mode=r0;break e}if(ee=0,M=v,p===0){if(ee+=h-V,V<J){J-=V;do W[r++]=v[ee++];while(--V);ee=r-se,M=W}}else if(p<V){if(ee+=h+p-V,V-=p,V<J){J-=V;do W[r++]=v[ee++];while(--V);if(ee=0,p<J){V=p,J-=V;do W[r++]=v[ee++];while(--V);ee=r-se,M=W}}}else if(ee+=p-V,V<J){J-=V;do W[r++]=v[ee++];while(--V);ee=r-se,M=W}for(;J>2;)W[r++]=M[ee++],W[r++]=M[ee++],W[r++]=M[ee++],J-=3;J&&(W[r++]=M[ee++],J>1&&(W[r++]=M[ee++]))}else{ee=r-se;do W[r++]=W[ee++],W[r++]=W[ee++],W[r++]=W[ee++],J-=3;while(J>2);J&&(W[r++]=W[ee++],J>1&&(W[r++]=W[ee++]))}}else if((V&64)===0){U=N[(U&65535)+(y&(1<<V)-1)];continue n}else{e.msg="invalid distance code",R.mode=r0;break e}break}}else if((V&64)===0){U=A[(U&65535)+(y&(1<<V)-1)];continue t}else if(V&32){R.mode=VW;break e}else{e.msg="invalid literal/length code",R.mode=r0;break e}break}}while(i<s&&r<a);J=k>>3,i-=J,k-=J<<3,y&=(1<<k)-1,e.next_in=i,e.next_out=r,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=r<a?257+(a-r):257-(r-a),R.hold=y,R.bits=k};const Pd=15,N6=852,E6=592,T6=0,Wb=1,P6=2,qW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$W=(n,e,t,i,s,r,o,a)=>{const c=a.bits;let h=0,f=0,p=0,v=0,y=0,k=0,A=0,N=0,E=0,D=0,U,V,J,se,ee,M=null,P;const W=new Uint16Array(Pd+1),R=new Uint16Array(Pd+1);let B=null,ie,oe,pe;for(h=0;h<=Pd;h++)W[h]=0;for(f=0;f<i;f++)W[e[t+f]]++;for(y=c,v=Pd;v>=1&&W[v]===0;v--);if(y>v&&(y=v),v===0)return s[r++]=1<<24|64<<16|0,s[r++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<v&&W[p]===0;p++);for(y<p&&(y=p),N=1,h=1;h<=Pd;h++)if(N<<=1,N-=W[h],N<0)return-1;if(N>0&&(n===T6||v!==1))return-1;for(R[1]=0,h=1;h<Pd;h++)R[h+1]=R[h]+W[h];for(f=0;f<i;f++)e[t+f]!==0&&(o[R[e[t+f]]++]=f);if(n===T6?(M=B=o,P=20):n===Wb?(M=qW,B=HW,P=257):(M=WW,B=GW,P=0),D=0,f=0,h=p,ee=r,k=y,A=0,J=-1,E=1<<y,se=E-1,n===Wb&&E>N6||n===P6&&E>E6)return 1;for(;;){ie=h-A,o[f]+1<P?(oe=0,pe=o[f]):o[f]>=P?(oe=B[o[f]-P],pe=M[o[f]-P]):(oe=96,pe=0),U=1<<h-A,V=1<<k,p=V;do V-=U,s[ee+(D>>A)+V]=ie<<24|oe<<16|pe|0;while(V!==0);for(U=1<<h-1;D&U;)U>>=1;if(U!==0?(D&=U-1,D+=U):D=0,f++,--W[h]===0){if(h===v)break;h=e[t+o[f]]}if(h>y&&(D&se)!==J){for(A===0&&(A=y),ee+=p,k=h-A,N=1<<k;k+A<v&&(N-=W[k+A],!(N<=0));)k++,N<<=1;if(E+=1<<k,n===Wb&&E>N6||n===P6&&E>E6)return 1;J=D&se,s[J]=y<<24|k<<16|ee-r|0}}return D!==0&&(s[ee+D]=h-A<<24|64<<16|0),a.bits=y,0};var $g=$W;const KW=0,YC=1,XC=2,{Z_FINISH:M6,Z_BLOCK:YW,Z_TREES:o0,Z_OK:xh,Z_STREAM_END:XW,Z_NEED_DICT:JW,Z_STREAM_ERROR:No,Z_DATA_ERROR:JC,Z_MEM_ERROR:QC,Z_BUF_ERROR:QW,Z_DEFLATED:O6}=GC,j1=16180,L6=16181,R6=16182,D6=16183,j6=16184,F6=16185,B6=16186,I6=16187,z6=16188,V6=16189,r1=16190,Dl=16191,Gb=16192,U6=16193,$b=16194,q6=16195,H6=16196,W6=16197,G6=16198,a0=16199,l0=16200,$6=16201,K6=16202,Y6=16203,X6=16204,J6=16205,Kb=16206,Q6=16207,Z6=16208,hi=16209,ZC=16210,eN=16211,ZW=852,eG=592,tG=15,nG=tG,eS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function iG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<j1||e.mode>eN?1:0},tN=n=>{if(Mh(n))return No;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=j1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ZW),e.distcode=e.distdyn=new Int32Array(eG),e.sane=1,e.back=-1,xh},nN=n=>{if(Mh(n))return No;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,tN(n)},iN=(n,e)=>{let t;if(Mh(n))return No;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?No:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,nN(n))},sN=(n,e)=>{if(!n)return No;const t=new iG;n.state=t,t.strm=n,t.window=null,t.mode=j1;const i=iN(n,e);return i!==xh&&(n.state=null),i},sG=n=>sN(n,nG);let tS=!0,Yb,Xb;const rG=n=>{if(tS){Yb=new Int32Array(512),Xb=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for($g(YC,n.lens,0,288,Yb,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;$g(XC,n.lens,0,32,Xb,0,n.work,{bits:5}),tS=!1}n.lencode=Yb,n.lenbits=9,n.distcode=Xb,n.distbits=5},rN=(n,e,t,i)=>{let s;const r=n.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(e.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>i&&(s=i),r.window.set(e.subarray(t-i,t-i+s),r.wnext),i-=s,i?(r.window.set(e.subarray(t-i,t),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0},oG=(n,e)=>{let t,i,s,r,o,a,c,h,f,p,v,y,k,A,N=0,E,D,U,V,J,se,ee,M;const P=new Uint8Array(4);let W,R;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mh(n)||!n.output||!n.input&&n.avail_in!==0)return No;t=n.state,t.mode===Dl&&(t.mode=Gb),o=n.next_out,s=n.output,c=n.avail_out,r=n.next_in,i=n.input,a=n.avail_in,h=t.hold,f=t.bits,p=a,v=c,M=xh;e:for(;;)switch(t.mode){case j1:if(t.wrap===0){t.mode=Gb;break}for(;f<16;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=h&255,P[1]=h>>>8&255,t.check=Va(t.check,P,2,0),h=0,f=0,t.mode=L6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=hi;break}if((h&15)!==O6){n.msg="unknown compression method",t.mode=hi;break}if(h>>>=4,f-=4,ee=(h&15)+8,t.wbits===0&&(t.wbits=ee),ee>15||ee>t.wbits){n.msg="invalid window size",t.mode=hi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?V6:Dl,h=0,f=0;break;case L6:for(;f<16;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(t.flags=h,(t.flags&255)!==O6){n.msg="unknown compression method",t.mode=hi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=hi;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,t.check=Va(t.check,P,2,0)),h=0,f=0,t.mode=R6;case R6:for(;f<32;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,P[2]=h>>>16&255,P[3]=h>>>24&255,t.check=Va(t.check,P,4,0)),h=0,f=0,t.mode=D6;case D6:for(;f<16;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,t.check=Va(t.check,P,2,0)),h=0,f=0,t.mode=j6;case j6:if(t.flags&1024){for(;f<16;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,t.check=Va(t.check,P,2,0)),h=0,f=0}else t.head&&(t.head.extra=null);t.mode=F6;case F6:if(t.flags&1024&&(y=t.length,y>a&&(y=a),y&&(t.head&&(ee=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(r,r+y),ee)),t.flags&512&&t.wrap&4&&(t.check=Va(t.check,i,y,r)),a-=y,r+=y,t.length-=y),t.length))break e;t.length=0,t.mode=B6;case B6:if(t.flags&2048){if(a===0)break e;y=0;do ee=i[r+y++],t.head&&ee&&t.length<65536&&(t.head.name+=String.fromCharCode(ee));while(ee&&y<a);if(t.flags&512&&t.wrap&4&&(t.check=Va(t.check,i,y,r)),a-=y,r+=y,ee)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=I6;case I6:if(t.flags&4096){if(a===0)break e;y=0;do ee=i[r+y++],t.head&&ee&&t.length<65536&&(t.head.comment+=String.fromCharCode(ee));while(ee&&y<a);if(t.flags&512&&t.wrap&4&&(t.check=Va(t.check,i,y,r)),a-=y,r+=y,ee)break e}else t.head&&(t.head.comment=null);t.mode=z6;case z6:if(t.flags&512){for(;f<16;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=hi;break}h=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dl;break;case V6:for(;f<32;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}n.adler=t.check=eS(h),h=0,f=0,t.mode=r1;case r1:if(t.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=r,n.avail_in=a,t.hold=h,t.bits=f,JW;n.adler=t.check=1,t.mode=Dl;case Dl:if(e===YW||e===o0)break e;case Gb:if(t.last){h>>>=f&7,f-=f&7,t.mode=Kb;break}for(;f<3;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}switch(t.last=h&1,h>>>=1,f-=1,h&3){case 0:t.mode=U6;break;case 1:if(rG(t),t.mode=a0,e===o0){h>>>=2,f-=2;break e}break;case 2:t.mode=H6;break;case 3:n.msg="invalid block type",t.mode=hi}h>>>=2,f-=2;break;case U6:for(h>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=hi;break}if(t.length=h&65535,h=0,f=0,t.mode=$b,e===o0)break e;case $b:t.mode=q6;case q6:if(y=t.length,y){if(y>a&&(y=a),y>c&&(y=c),y===0)break e;s.set(i.subarray(r,r+y),o),a-=y,r+=y,c-=y,o+=y,t.length-=y;break}t.mode=Dl;break;case H6:for(;f<14;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(t.nlen=(h&31)+257,h>>>=5,f-=5,t.ndist=(h&31)+1,h>>>=5,f-=5,t.ncode=(h&15)+4,h>>>=4,f-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=hi;break}t.have=0,t.mode=W6;case W6:for(;t.have<t.ncode;){for(;f<3;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.lens[B[t.have++]]=h&7,h>>>=3,f-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,W={bits:t.lenbits},M=$g(KW,t.lens,0,19,t.lencode,0,t.work,W),t.lenbits=W.bits,M){n.msg="invalid code lengths set",t.mode=hi;break}t.have=0,t.mode=G6;case G6:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[h&(1<<t.lenbits)-1],E=N>>>24,D=N>>>16&255,U=N&65535,!(E<=f);){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(U<16)h>>>=E,f-=E,t.lens[t.have++]=U;else{if(U===16){for(R=E+2;f<R;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(h>>>=E,f-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=hi;break}ee=t.lens[t.have-1],y=3+(h&3),h>>>=2,f-=2}else if(U===17){for(R=E+3;f<R;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}h>>>=E,f-=E,ee=0,y=3+(h&7),h>>>=3,f-=3}else{for(R=E+7;f<R;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}h>>>=E,f-=E,ee=0,y=11+(h&127),h>>>=7,f-=7}if(t.have+y>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=hi;break}for(;y--;)t.lens[t.have++]=ee}}if(t.mode===hi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=hi;break}if(t.lenbits=9,W={bits:t.lenbits},M=$g(YC,t.lens,0,t.nlen,t.lencode,0,t.work,W),t.lenbits=W.bits,M){n.msg="invalid literal/lengths set",t.mode=hi;break}if(t.distbits=6,t.distcode=t.distdyn,W={bits:t.distbits},M=$g(XC,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,W),t.distbits=W.bits,M){n.msg="invalid distances set",t.mode=hi;break}if(t.mode=a0,e===o0)break e;case a0:t.mode=l0;case l0:if(a>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=r,n.avail_in=a,t.hold=h,t.bits=f,UW(n,v),o=n.next_out,s=n.output,c=n.avail_out,r=n.next_in,i=n.input,a=n.avail_in,h=t.hold,f=t.bits,t.mode===Dl&&(t.back=-1);break}for(t.back=0;N=t.lencode[h&(1<<t.lenbits)-1],E=N>>>24,D=N>>>16&255,U=N&65535,!(E<=f);){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(D&&(D&240)===0){for(V=E,J=D,se=U;N=t.lencode[se+((h&(1<<V+J)-1)>>V)],E=N>>>24,D=N>>>16&255,U=N&65535,!(V+E<=f);){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}h>>>=V,f-=V,t.back+=V}if(h>>>=E,f-=E,t.back+=E,t.length=U,D===0){t.mode=J6;break}if(D&32){t.back=-1,t.mode=Dl;break}if(D&64){n.msg="invalid literal/length code",t.mode=hi;break}t.extra=D&15,t.mode=$6;case $6:if(t.extra){for(R=t.extra;f<R;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=K6;case K6:for(;N=t.distcode[h&(1<<t.distbits)-1],E=N>>>24,D=N>>>16&255,U=N&65535,!(E<=f);){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if((D&240)===0){for(V=E,J=D,se=U;N=t.distcode[se+((h&(1<<V+J)-1)>>V)],E=N>>>24,D=N>>>16&255,U=N&65535,!(V+E<=f);){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}h>>>=V,f-=V,t.back+=V}if(h>>>=E,f-=E,t.back+=E,D&64){n.msg="invalid distance code",t.mode=hi;break}t.offset=U,t.extra=D&15,t.mode=Y6;case Y6:if(t.extra){for(R=t.extra;f<R;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=hi;break}t.mode=X6;case X6:if(c===0)break e;if(y=v-c,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=hi;break}y>t.wnext?(y-=t.wnext,k=t.wsize-y):k=t.wnext-y,y>t.length&&(y=t.length),A=t.window}else A=s,k=o-t.offset,y=t.length;y>c&&(y=c),c-=y,t.length-=y;do s[o++]=A[k++];while(--y);t.length===0&&(t.mode=l0);break;case J6:if(c===0)break e;s[o++]=t.length,c--,t.mode=l0;break;case Kb:if(t.wrap){for(;f<32;){if(a===0)break e;a--,h|=i[r++]<<f,f+=8}if(v-=c,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Va(t.check,s,v,o-v):Yy(t.check,s,v,o-v)),v=c,t.wrap&4&&(t.flags?h:eS(h))!==t.check){n.msg="incorrect data check",t.mode=hi;break}h=0,f=0}t.mode=Q6;case Q6:if(t.wrap&&t.flags){for(;f<32;){if(a===0)break e;a--,h+=i[r++]<<f,f+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=hi;break}h=0,f=0}t.mode=Z6;case Z6:M=XW;break e;case hi:M=JC;break e;case ZC:return QC;case eN:default:return No}return n.next_out=o,n.avail_out=c,n.next_in=r,n.avail_in=a,t.hold=h,t.bits=f,(t.wsize||v!==n.avail_out&&t.mode<hi&&(t.mode<Kb||e!==M6))&&rN(n,n.output,n.next_out,v-n.avail_out),p-=n.avail_in,v-=n.avail_out,n.total_in+=p,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Va(t.check,s,v,n.next_out-v):Yy(t.check,s,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dl?128:0)+(t.mode===a0||t.mode===$b?256:0),(p===0&&v===0||e===M6)&&M===xh&&(M=QW),M},aG=n=>{if(Mh(n))return No;let e=n.state;return e.window&&(e.window=null),n.state=null,xh},lG=(n,e)=>{if(Mh(n))return No;const t=n.state;return(t.wrap&2)===0?No:(t.head=e,e.done=!1,xh)},cG=(n,e)=>{const t=e.length;let i,s,r;return Mh(n)||(i=n.state,i.wrap!==0&&i.mode!==r1)?No:i.mode===r1&&(s=1,s=Yy(s,e,t,0),s!==i.check)?JC:(r=rN(n,e,t,t),r?(i.mode=ZC,QC):(i.havedict=1,xh))};var uG=nN,hG=iN,dG=tN,fG=sG,gG=sN,mG=oG,pG=aG,bG=lG,yG=cG,vG="pako inflate (from Nodeca project)",Vl={inflateReset:uG,inflateReset2:hG,inflateResetKeep:dG,inflateInit:fG,inflateInit2:gG,inflate:mG,inflateEnd:pG,inflateGetHeader:bG,inflateSetDictionary:yG,inflateInfo:vG};function xG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wG=xG;const oN=Object.prototype.toString,{Z_NO_FLUSH:_G,Z_FINISH:SG,Z_OK:Sm,Z_STREAM_END:Jb,Z_NEED_DICT:Qb,Z_STREAM_ERROR:kG,Z_DATA_ERROR:nS,Z_MEM_ERROR:AG}=GC;function jm(n){this.options=$C.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zW,this.strm.avail_out=0;let t=Vl.inflateInit2(this.strm,e.windowBits);if(t!==Sm)throw new Error(Xy[t]);if(this.header=new wG,Vl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Jy.string2buf(e.dictionary):oN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Vl.inflateSetDictionary(this.strm,e.dictionary),t!==Sm)))throw new Error(Xy[t])}jm.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?SG:_G,oN.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),r=Vl.inflate(t,o),r===Qb&&s&&(r=Vl.inflateSetDictionary(t,s),r===Sm?r=Vl.inflate(t,o):r===nS&&(r=Qb));t.avail_in>0&&r===Jb&&t.state.wrap>0&&n[t.next_in]!==0;)Vl.inflateReset(t),r=Vl.inflate(t,o);switch(r){case kG:case nS:case Qb:case AG:return this.onEnd(r),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||r===Jb))if(this.options.to==="string"){let c=Jy.utf8border(t.output,t.next_out),h=t.next_out-c,f=Jy.buf2string(t.output,c);t.next_out=h,t.avail_out=i-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Sm&&a===0)){if(r===Jb)return r=Vl.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};jm.prototype.onData=function(n){this.chunks.push(n)};jm.prototype.onEnd=function(n){n===Sm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$C.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function CG(n,e){const t=new jm(e);if(t.push(n),t.err)throw t.msg||Xy[t.err];return t.result}var NG=jm,EG=CG,TG={Inflate:NG,inflate:EG};const{Inflate:PG,inflate:MG}=TG;var iS=PG,OG=MG;const aN=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;aN[n]=e}const sS=4294967295;function LG(n,e,t){let i=n;for(let s=0;s<t;s++)i=aN[(i^e[s])&255]^i>>>8;return i}function RG(n,e){return(LG(sS,n,e)^sS)>>>0}function rS(n,e,t){const i=n.readUint32(),s=RG(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function lN(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function cN(n,e,t,i){let s=0;for(;s<i;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-i]&255}function uN(n,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=n[s];else for(;s<i;s++)e[s]=n[s]+t[s]&255}function hN(n,e,t,i,s){let r=0;if(t.length===0){for(;r<s;r++)e[r]=n[r];for(;r<i;r++)e[r]=n[r]+(e[r-s]>>1)&255}else{for(;r<s;r++)e[r]=n[r]+(t[r]>>1)&255;for(;r<i;r++)e[r]=n[r]+(e[r-s]+t[r]>>1)&255}}function dN(n,e,t,i,s){let r=0;if(t.length===0){for(;r<s;r++)e[r]=n[r];for(;r<i;r++)e[r]=n[r]+e[r-s]&255}else{for(;r<s;r++)e[r]=n[r]+t[r]&255;for(;r<i;r++)e[r]=n[r]+DG(e[r-s],t[r],t[r-s])&255}}function DG(n,e,t){const i=n+e-t,s=Math.abs(i-n),r=Math.abs(i-e),o=Math.abs(i-t);return s<=r&&s<=o?n:r<=o?e:t}function jG(n,e,t,i,s,r){switch(n){case 0:lN(e,t,s);break;case 1:cN(e,t,s,r);break;case 2:uN(e,t,i,s);break;case 3:hN(e,t,i,s,r);break;case 4:dN(e,t,i,s,r);break;default:throw new Error(`Unsupported filter: ${n}`)}}const FG=new Uint16Array([255]),BG=new Uint8Array(FG.buffer),IG=BG[0]===255;function zG(n){const{data:e,width:t,height:i,channels:s,depth:r}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(r/8)*s,c=new Uint8Array(i*t*a);let h=0;for(let f=0;f<7;f++){const p=o[f],v=Math.ceil((t-p.x)/p.xStep),y=Math.ceil((i-p.y)/p.yStep);if(v<=0||y<=0)continue;const k=v*a,A=new Uint8Array(k);for(let N=0;N<y;N++){const E=e[h++],D=e.subarray(h,h+k);h+=k;const U=new Uint8Array(k);jG(E,D,U,A,k,a),A.set(U);for(let V=0;V<v;V++){const J=p.x+V*p.xStep,se=p.y+N*p.yStep;if(!(J>=t||se>=i))for(let ee=0;ee<a;ee++)c[(se*t+J)*a+ee]=U[V*a+ee]}}}if(r===16){const f=new Uint16Array(c.buffer);if(IG)for(let p=0;p<f.length;p++)f[p]=VG(f[p]);return f}else return c}function VG(n){return(n&255)<<8|n>>8&255}const UG=new Uint16Array([255]),qG=new Uint8Array(UG.buffer),HG=qG[0]===255,WG=new Uint8Array(0);function oS(n){const{data:e,width:t,height:i,channels:s,depth:r}=n,o=Math.ceil(r/8)*s,a=Math.ceil(r/8*s*t),c=new Uint8Array(i*a);let h=WG,f=0,p,v;for(let y=0;y<i;y++){switch(p=e.subarray(f+1,f+1+a),v=c.subarray(y*a,(y+1)*a),e[f]){case 0:lN(p,v,a);break;case 1:cN(p,v,a,o);break;case 2:uN(p,v,h,a);break;case 3:hN(p,v,h,a,o);break;case 4:dN(p,v,h,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=v,f+=a+1}if(r===16){const y=new Uint16Array(c.buffer);if(HG)for(let k=0;k<y.length;k++)y[k]=GG(y[k]);return y}else return c}function GG(n){return(n&255)<<8|n>>8&255}const N0=Uint8Array.of(137,80,78,71,13,10,26,10);function aS(n){if(!$G(n.readBytes(N0.length)))throw new Error("wrong PNG signature")}function $G(n){if(n.length<N0.length)return!1;for(let e=0;e<N0.length;e++)if(n[e]!==N0[e])return!1;return!0}const KG="tEXt",YG=0,fN=new TextDecoder("latin1");function XG(n){if(QG(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const JG=/^[\u0000-\u00FF]*$/;function QG(n){if(!JG.test(n))throw new Error("invalid latin1 text")}function ZG(n,e,t){const i=gN(e);n[i]=e$(e,t-i.length-1)}function gN(n){for(n.mark();n.readByte()!==YG;);const e=n.offset;n.reset();const t=fN.decode(n.readBytes(e-n.offset-1));return n.skip(1),XG(t),t}function e$(n,e){return fN.decode(n.readBytes(e))}const $r={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zb={UNKNOWN:-1,DEFLATE:0},lS={UNKNOWN:-1,ADAPTIVE:0},ey={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},c0={NONE:0,BACKGROUND:1,PREVIOUS:2},ty={SOURCE:0,OVER:1};class t$ extends _5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new iS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zb.UNKNOWN,this._filterMethod=lS.UNKNOWN,this._interlaceMethod=ey.UNKNOWN,this._colorType=$r.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(aS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case KG:ZG(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rS(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rS(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=n$(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case $r.GREYSCALE:i=1;break;case $r.TRUECOLOUR:i=3;break;case $r.INDEXED_COLOUR:i=1;break;case $r.GREYSCALE_ALPHA:i=2;break;case $r.TRUECOLOUR_ALPHA:i=4;break;case $r.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<t;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case $r.GREYSCALE:case $r.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case $r.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case $r.UNKNOWN:case $r.GREYSCALE_ALPHA:case $r.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=gN(this),i=this.readUint8();if(i!==Zb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:OG(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=oS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(i,s,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case c0.NONE:break;case c0.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let r=0;r<this._png.width;r++){const o=(s*e.width+r)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[o+a]=0}break;case c0.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,s=(r,o)=>{const a=((r+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,c=(r*t.width+o)*this._png.channels;return{index:a,frameIndex:c}};switch(t.blendOp){case ty.SOURCE:for(let r=0;r<t.height;r++)for(let o=0;o<t.width;o++){const{index:a,frameIndex:c}=s(r,o);for(let h=0;h<this._png.channels;h++)e.data[a+h]=t.data[c+h]}break;case ty.OVER:for(let r=0;r<t.height;r++)for(let o=0;o<t.width;o++){const{index:a,frameIndex:c}=s(r,o);for(let h=0;h<this._png.channels;h++){const f=t.data[c+this._png.channels-1]/i,p=h%(this._png.channels-1)===0?1:t.data[c+h],v=Math.floor(f*p+(1-f)*e.data[a+h]);e.data[a+h]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==lS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ey.NO_INTERLACE)this._png.data=oS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ey.ADAM7)this._png.data=zG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:c0.NONE,blendOp:ty.SOURCE,data:e}),this._inflator=new iS,this._writingDataChunks=!1}}function n$(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var cS;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(cS||(cS={}));function i$(n,e){return new t$(n,e).decode()}var qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ny(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Wn={log:ny,warn:function(n){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):ny.call(null,arguments))},error:function(n){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):ny(n))}};function iy(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){sh(i.response,e,t)},i.onerror=function(){Wn.error("could not download file")},i.send()}function uS(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function u0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var sh=qt.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=qt.URL||qt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?uS(s.href)?iy(n,e,t):u0(s,s.target="_blank"):u0(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){u0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(uS(n))iy(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){u0(i)})}else navigator.msSaveOrOpenBlob((function(s,r){return r===void 0?r={autoBom:!1}:Ln(r)!=="object"&&(Wn.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return iy(n,e,t);var s=n.type==="application/octet-stream",r=/constructor/i.test(qt.HTMLElement)||qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&r)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},a.readAsDataURL(n)}else{var c=qt.URL||qt.webkitURL,h=c.createObjectURL(n);i?i.location=h:location.href=h,i=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mN(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,r=t[i].process,o=s.exec(n);o&&(e=r(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+a+c+h}}var E0=qt.atob.bind(qt),hS=qt.btoa.bind(qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sy(n,e){var t=n[0],i=n[1],s=n[2],r=n[3];t=Vs(t,i,s,r,e[0],7,-680876936),r=Vs(r,t,i,s,e[1],12,-389564586),s=Vs(s,r,t,i,e[2],17,606105819),i=Vs(i,s,r,t,e[3],22,-1044525330),t=Vs(t,i,s,r,e[4],7,-176418897),r=Vs(r,t,i,s,e[5],12,1200080426),s=Vs(s,r,t,i,e[6],17,-1473231341),i=Vs(i,s,r,t,e[7],22,-45705983),t=Vs(t,i,s,r,e[8],7,1770035416),r=Vs(r,t,i,s,e[9],12,-1958414417),s=Vs(s,r,t,i,e[10],17,-42063),i=Vs(i,s,r,t,e[11],22,-1990404162),t=Vs(t,i,s,r,e[12],7,1804603682),r=Vs(r,t,i,s,e[13],12,-40341101),s=Vs(s,r,t,i,e[14],17,-1502002290),t=Us(t,i=Vs(i,s,r,t,e[15],22,1236535329),s,r,e[1],5,-165796510),r=Us(r,t,i,s,e[6],9,-1069501632),s=Us(s,r,t,i,e[11],14,643717713),i=Us(i,s,r,t,e[0],20,-373897302),t=Us(t,i,s,r,e[5],5,-701558691),r=Us(r,t,i,s,e[10],9,38016083),s=Us(s,r,t,i,e[15],14,-660478335),i=Us(i,s,r,t,e[4],20,-405537848),t=Us(t,i,s,r,e[9],5,568446438),r=Us(r,t,i,s,e[14],9,-1019803690),s=Us(s,r,t,i,e[3],14,-187363961),i=Us(i,s,r,t,e[8],20,1163531501),t=Us(t,i,s,r,e[13],5,-1444681467),r=Us(r,t,i,s,e[2],9,-51403784),s=Us(s,r,t,i,e[7],14,1735328473),t=qs(t,i=Us(i,s,r,t,e[12],20,-1926607734),s,r,e[5],4,-378558),r=qs(r,t,i,s,e[8],11,-2022574463),s=qs(s,r,t,i,e[11],16,1839030562),i=qs(i,s,r,t,e[14],23,-35309556),t=qs(t,i,s,r,e[1],4,-1530992060),r=qs(r,t,i,s,e[4],11,1272893353),s=qs(s,r,t,i,e[7],16,-155497632),i=qs(i,s,r,t,e[10],23,-1094730640),t=qs(t,i,s,r,e[13],4,681279174),r=qs(r,t,i,s,e[0],11,-358537222),s=qs(s,r,t,i,e[3],16,-722521979),i=qs(i,s,r,t,e[6],23,76029189),t=qs(t,i,s,r,e[9],4,-640364487),r=qs(r,t,i,s,e[12],11,-421815835),s=qs(s,r,t,i,e[15],16,530742520),t=Hs(t,i=qs(i,s,r,t,e[2],23,-995338651),s,r,e[0],6,-198630844),r=Hs(r,t,i,s,e[7],10,1126891415),s=Hs(s,r,t,i,e[14],15,-1416354905),i=Hs(i,s,r,t,e[5],21,-57434055),t=Hs(t,i,s,r,e[12],6,1700485571),r=Hs(r,t,i,s,e[3],10,-1894986606),s=Hs(s,r,t,i,e[10],15,-1051523),i=Hs(i,s,r,t,e[1],21,-2054922799),t=Hs(t,i,s,r,e[8],6,1873313359),r=Hs(r,t,i,s,e[15],10,-30611744),s=Hs(s,r,t,i,e[6],15,-1560198380),i=Hs(i,s,r,t,e[13],21,1309151649),t=Hs(t,i,s,r,e[4],6,-145523070),r=Hs(r,t,i,s,e[11],10,-1120210379),s=Hs(s,r,t,i,e[2],15,718787259),i=Hs(i,s,r,t,e[9],21,-343485551),n[0]=iu(t,n[0]),n[1]=iu(i,n[1]),n[2]=iu(s,n[2]),n[3]=iu(r,n[3])}function F1(n,e,t,i,s,r){return e=iu(iu(e,n),iu(i,r)),iu(e<<s|e>>>32-s,t)}function Vs(n,e,t,i,s,r,o){return F1(e&t|~e&i,n,e,s,r,o)}function Us(n,e,t,i,s,r,o){return F1(e&i|t&~i,n,e,s,r,o)}function qs(n,e,t,i,s,r,o){return F1(e^t^i,n,e,s,r,o)}function Hs(n,e,t,i,s,r,o){return F1(t^(e|~i),n,e,s,r,o)}function pN(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)sy(i,s$(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(sy(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,sy(i,s),i}function s$(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var dS="0123456789abcdef".split("");function r$(n){for(var e="",t=0;t<4;t++)e+=dS[n>>8*t+4&15]+dS[n>>8*t&15];return e}function o$(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Qy(n){return pN(n).map(o$).join("")}var a$=(function(n){for(var e=0;e<n.length;e++)n[e]=r$(n[e]);return n.join("")})(pN("hello"))!="5d41402abc4b2a76b9719d911017c592";function iu(n,e){if(a$){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zy(n,e){var t,i,s,r;if(n!==t){for(var o=(s=n,r=1+(256/n.length|0),new Array(r+1).join(s)),a=[],c=0;c<256;c++)a[c]=c;var h=0;for(c=0;c<256;c++){var f=a[c];h=(h+f+o.charCodeAt(c))%256,a[c]=a[h],a[h]=f}t=n,i=a}else a=i;var p=e.length,v=0,y=0,k="";for(c=0;c<p;c++)y=(y+(f=a[v=(v+1)%256]))%256,a[v]=a[y],a[y]=f,o=a[(a[v]+a[y])%256],k+=String.fromCharCode(e.charCodeAt(c)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fS={print:4,modify:8,copy:16,"annot-forms":32};function jd(n,e,t,i){this.v=1,this.r=2;var s=192;n.forEach(function(a){if(fS.perm!==void 0)throw new Error("Invalid permission: "+a);s+=fS[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^s)),this.encryptionKey=Qy(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Zy(this.encryptionKey,this.padding)}function Fd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var s=n.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[i]}return e}function gS(n){if(Ln(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var r=Math.random().toString(35);return e[t][r]=[i,!!s],r},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var r in e[t]){var o=e[t][r];try{o[0].apply(n,i)}catch(a){qt.console&&Wn.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(r)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function o1(n){if(!(this instanceof o1))return new o1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function bN(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function oh(n,e,t,i,s){if(!(this instanceof oh))return new oh(n,e,t,i,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,bN.call(this,i,s)}function Vd(n,e,t,i,s){if(!(this instanceof Vd))return new Vd(n,e,t,i,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,bN.call(this,i,s)}function _t(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],r=arguments[3],o=[],a=1,c=16,h="S",f=null;Ln(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,s=n.format||s,r=n.compress||n.compressPdf||r,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(r===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,v={},y={internal:{},__private__:{}};y.__private__.PubSub=gS;var k="1.3",A=y.__private__.getPdfVersion=function(){return k};y.__private__.setPdfVersion=function(S){k=S};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return N};var E=y.__private__.getPageFormat=function(S){return N[S]};s=s||"a4";var D="compat",U="advanced",V=D;function J(){this.saveGraphicsState(),Y(new Nt(Bt,0,0,-Bt,0,ul()*Bt).toString()+" cm"),this.setFontSize(this.getFontSize()/Bt),h="n",V=U}function se(){this.restoreGraphicsState(),h="S",V=D}var ee=y.__private__.combineFontStyleAndFontWeight=function(S,j){if(S=="bold"&&j=="normal"||S=="bold"&&j==400||S=="normal"&&j=="italic"||S=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(S=j==400||j==="normal"?S==="italic"?"italic":"normal":j!=700&&j!=="bold"||S!=="normal"?(j==700?"bold":j)+""+S:"bold"),S};y.advancedAPI=function(S){var j=V===D;return j&&J.call(this),typeof S!="function"||(S(this),j&&se.call(this)),this},y.compatAPI=function(S){var j=V===U;return j&&se.call(this),typeof S!="function"||(S(this),j&&J.call(this)),this},y.isAdvancedAPI=function(){return V===U};var M,P=function(S){if(V!==U)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=y.roundToPrecision=y.__private__.roundToPrecision=function(S,j){var ne=e||j;if(isNaN(S)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ne).replace(/0+$/,"")};M=y.hpf=y.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return W(S,16)};var R=y.f2=y.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return W(S,2)},B=y.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return W(S,3)},ie=y.scale=y.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return V===D?S*Bt:V===U?S:void 0},oe=function(S){return ie((function(j){return V===D?ul()-j:V===U?j:void 0})(S))};y.__private__.setPrecision=y.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var pe,Q="00000000000000000000000000000000",ae=y.__private__.getFileId=function(){return Q},ue=y.__private__.setFileId=function(S){return Q=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(wn=new jd(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};y.setFileId=function(S){return ue(S),this},y.getFileId=function(){return ae()};var ge=y.__private__.convertDateToPDFDate=function(S){var j=S.getTimezoneOffset(),ne=j<0?"+":"-",de=Math.floor(Math.abs(j/60)),Se=Math.abs(j%60),Ie=[ne,K(de),"'",K(Se),"'"].join("");return["D:",S.getFullYear(),K(S.getMonth()+1),K(S.getDate()),K(S.getHours()),K(S.getMinutes()),K(S.getSeconds()),Ie].join("")},$=y.__private__.convertPDFDateToDate=function(S){var j=parseInt(S.substr(2,4),10),ne=parseInt(S.substr(6,2),10)-1,de=parseInt(S.substr(8,2),10),Se=parseInt(S.substr(10,2),10),Ie=parseInt(S.substr(12,2),10),Ge=parseInt(S.substr(14,2),10);return new Date(j,ne,de,Se,Ie,Ge,0)},le=y.__private__.setCreationDate=function(S){var j;if(S===void 0&&(S=new Date),S instanceof Date)j=ge(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=S}return pe=j},O=y.__private__.getCreationDate=function(S){var j=pe;return S==="jsDate"&&(j=$(pe)),j};y.setCreationDate=function(S){return le(S),this},y.getCreationDate=function(S){return O(S)};var I,K=y.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},re=y.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ce=0,xe=[],ye=[],ke=0,Le=[],Re=[],Ke=!1,Ye=ye;y.__private__.setCustomOutputDestination=function(S){Ke=!0,Ye=S};var Qe=function(S){Ke||(Ye=S)};y.__private__.resetCustomOutputDestination=function(){Ke=!1,Ye=ye};var Y=y.__private__.out=function(S){return S=S.toString(),ke+=S.length+1,Ye.push(S),Ye},Ue=y.__private__.write=function(S){return Y(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},mt=y.__private__.getArrayBuffer=function(S){for(var j=S.length,ne=new ArrayBuffer(j),de=new Uint8Array(ne);j--;)de[j]=S.charCodeAt(j);return ne},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Xe};var Be=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(S){return Be=V===U?S/Bt:S,this};var pt,tt=y.__private__.getFontSize=y.getFontSize=function(){return V===D?Be:Be*Bt},ut=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(S){return ut=S,this},y.__private__.getR2L=y.getR2L=function(){return ut};var bt,Ot=y.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))pt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');pt=S}else pt=parseInt(S,10)};y.__private__.getZoomMode=function(){return pt};var Lt,rt=y.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');bt=S};y.__private__.getPageMode=function(){return bt};var dt=y.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Lt=S};y.__private__.getLayoutMode=function(){return Lt},y.__private__.setDisplayMode=y.setDisplayMode=function(S,j,ne){return Ot(S),dt(j),rt(ne),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(S){if(Object.keys(kt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[S]},y.__private__.getDocumentProperties=function(){return kt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(S){for(var j in kt)kt.hasOwnProperty(j)&&S[j]&&(kt[j]=S[j]);return this},y.__private__.setDocumentProperty=function(S,j){if(Object.keys(kt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[S]=j};var et,Bt,lt,mn,$t,It={},zt={},En=[],wt={},Rn={},At={},Ht={},Dn=null,Kt=0,Ct=[],vn=new gS(y),ma=n.hotfixes||[],Gi={},Tr={},Pr=[],Nt=function S(j,ne,de,Se,Ie,Ge){if(!(this instanceof S))return new S(j,ne,de,Se,Ie,Ge);isNaN(j)&&(j=1),isNaN(ne)&&(ne=0),isNaN(de)&&(de=0),isNaN(Se)&&(Se=1),isNaN(Ie)&&(Ie=0),isNaN(Ge)&&(Ge=0),this._matrix=[j,ne,de,Se,Ie,Ge]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(S)},Nt.prototype.multiply=function(S){var j=S.sx*this.sx+S.shy*this.shx,ne=S.sx*this.shy+S.shy*this.sy,de=S.shx*this.sx+S.sy*this.shx,Se=S.shx*this.shy+S.sy*this.sy,Ie=S.tx*this.sx+S.ty*this.shx+this.tx,Ge=S.tx*this.shy+S.ty*this.sy+this.ty;return new Nt(j,ne,de,Se,Ie,Ge)},Nt.prototype.decompose=function(){var S=this.sx,j=this.shy,ne=this.shx,de=this.sy,Se=this.tx,Ie=this.ty,Ge=Math.sqrt(S*S+j*j),ot=(S/=Ge)*ne+(j/=Ge)*de;ne-=S*ot,de-=j*ot;var xt=Math.sqrt(ne*ne+de*de);return ot/=xt,S*(de/=xt)<j*(ne/=xt)&&(S=-S,j=-j,ot=-ot,Ge=-Ge),{scale:new Nt(Ge,0,0,xt,0,0),translate:new Nt(1,0,0,1,Se,Ie),rotate:new Nt(S,j,-j,S,0,0),skew:new Nt(1,0,ot,1,0,0)}},Nt.prototype.toString=function(S){return this.join(" ")},Nt.prototype.inversed=function(){var S=this.sx,j=this.shy,ne=this.shx,de=this.sy,Se=this.tx,Ie=this.ty,Ge=1/(S*de-j*ne),ot=de*Ge,xt=-j*Ge,Dt=-ne*Ge,Yt=S*Ge;return new Nt(ot,xt,Dt,Yt,-ot*Se-Dt*Ie,-xt*Se-Yt*Ie)},Nt.prototype.applyToPoint=function(S){var j=S.x*this.sx+S.y*this.shx+this.tx,ne=S.x*this.shy+S.y*this.sy+this.ty;return new Oo(j,ne)},Nt.prototype.applyToRectangle=function(S){var j=this.applyToPoint(S),ne=this.applyToPoint(new Oo(S.x+S.w,S.y+S.h));return new cl(j.x,j.y,ne.x-j.x,ne.y-j.y)},Nt.prototype.clone=function(){var S=this.sx,j=this.shy,ne=this.shx,de=this.sy,Se=this.tx,Ie=this.ty;return new Nt(S,j,ne,de,Se,Ie)},y.Matrix=Nt;var ls=y.matrixMult=function(S,j){return j.multiply(S)},$n=new Nt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=$n;var Vn=function(S,j){if(!Rn[S]){var ne=(j instanceof oh?"Sh":"P")+(Object.keys(wt).length+1).toString(10);j.id=ne,Rn[S]=ne,wt[ne]=j,vn.publish("addPattern",j)}};y.ShadingPattern=oh,y.TilingPattern=Vd,y.addShadingPattern=function(S,j){return P("addShadingPattern()"),Vn(S,j),this},y.beginTilingPattern=function(S){P("beginTilingPattern()"),Lo(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},y.endTilingPattern=function(S,j){P("endTilingPattern()"),j.stream=Re[I].join(`
`),Vn(S,j),vn.publish("endTilingPattern",j),Pr.pop().restore()};var Ji,Kn=y.__private__.newObject=function(){var S=$i();return Qi(S,!0),S},$i=y.__private__.newObjectDeferred=function(){return ce++,xe[ce]=function(){return ke},ce},Qi=function(S,j){return j=typeof j=="boolean"&&j,xe[S]=ke,j&&Y(S+" 0 obj"),S},pa=y.__private__.newAdditionalObject=function(){var S={objId:$i(),content:""};return Le.push(S),S},dr=$i(),Xs=$i(),_s=y.__private__.decodeColorString=function(S){var j=S.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var ne=parseFloat(j[0]);j=[ne,ne,ne,"r"]}for(var de="#",Se=0;Se<3;Se++)de+=("0"+Math.floor(255*parseFloat(j[Se])).toString(16)).slice(-2);return de},cs=y.__private__.encodeColorString=function(S){var j;typeof S=="string"&&(S={ch1:S});var ne=S.ch1,de=S.ch2,Se=S.ch3,Ie=S.ch4,Ge=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var ot=new mN(ne);if(ot.ok)ne=ot.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var xt=parseInt(ne.substr(1),16);ne=xt>>16&255,de=xt>>8&255,Se=255&xt}if(de===void 0||Ie===void 0&&ne===de&&de===Se)j=typeof ne=="string"?ne+" "+Ge[0]:S.precision===2?R(ne/255)+" "+Ge[0]:B(ne/255)+" "+Ge[0];else if(Ie===void 0||Ln(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Ge[1]].join(" ");j=typeof ne=="string"?[ne,de,Se,Ge[1]].join(" "):S.precision===2?[R(ne/255),R(de/255),R(Se/255),Ge[1]].join(" "):[B(ne/255),B(de/255),B(Se/255),Ge[1]].join(" ")}else j=typeof ne=="string"?[ne,de,Se,Ie,Ge[2]].join(" "):S.precision===2?[R(ne),R(de),R(Se),R(Ie),Ge[2]].join(" "):[B(ne),B(de),B(Se),B(Ie),Ge[2]].join(" ");return j},Ss=y.__private__.getFilters=function(){return o},Zi=y.__private__.putStream=function(S){var j=(S=S||{}).data||"",ne=S.filters||Ss(),de=S.alreadyAppliedFilters||[],Se=S.addLength1||!1,Ie=j.length,Ge=S.objectId,ot=function(Oi){return Oi};if(f!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ot=wn.encryptor(Ge,0));var xt={};ne===!0&&(ne=["FlateEncode"]);var Dt=S.additionalKeyValues||[],Yt=(xt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(j,ne):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(xt.data.length!==0&&(Dt.push({key:"Length",value:xt.data.length}),Se===!0&&Dt.push({key:"Length1",value:Ie})),Yt.length!=0)if(Yt.split("/").length-1==1)Dt.push({key:"Filter",value:Yt});else{Dt.push({key:"Filter",value:"["+Yt+"]"});for(var hn=0;hn<Dt.length;hn+=1)if(Dt[hn].key==="DecodeParms"){for(var ei=[],Si=0;Si<xt.reverseChain.split("/").length-1;Si+=1)ei.push("null");ei.push(Dt[hn].value),Dt[hn].value="["+ei.join(" ")+"]"}}Y("<<");for(var jn=0;jn<Dt.length;jn++)Y("/"+Dt[jn].key+" "+Dt[jn].value);Y(">>"),xt.data.length!==0&&(Y("stream"),Y(ot(xt.data)),Y("endstream"))},Yn=y.__private__.putPage=function(S){var j=S.number,ne=S.data,de=S.objId,Se=S.contentsObjId;Qi(de,!0),Y("<</Type /Page"),Y("/Parent "+S.rootDictionaryObjId+" 0 R"),Y("/Resources "+S.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(M(S.mediaBox.bottomLeftX))+" "+parseFloat(M(S.mediaBox.bottomLeftY))+" "+M(S.mediaBox.topRightX)+" "+M(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&Y("/CropBox ["+M(S.cropBox.bottomLeftX)+" "+M(S.cropBox.bottomLeftY)+" "+M(S.cropBox.topRightX)+" "+M(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&Y("/BleedBox ["+M(S.bleedBox.bottomLeftX)+" "+M(S.bleedBox.bottomLeftY)+" "+M(S.bleedBox.topRightX)+" "+M(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&Y("/TrimBox ["+M(S.trimBox.bottomLeftX)+" "+M(S.trimBox.bottomLeftY)+" "+M(S.trimBox.topRightX)+" "+M(S.trimBox.topRightY)+"]"),S.artBox!==null&&Y("/ArtBox ["+M(S.artBox.bottomLeftX)+" "+M(S.artBox.bottomLeftY)+" "+M(S.artBox.topRightX)+" "+M(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&Y("/UserUnit "+S.userUnit),vn.publish("putPage",{objId:de,pageContext:Ct[j],pageNumber:j,page:ne}),Y("/Contents "+Se+" 0 R"),Y(">>"),Y("endobj");var Ie=ne.join(`
`);return V===U&&(Ie+=`
Q`),Qi(Se,!0),Zi({data:Ie,filters:Ss(),objectId:Se}),Y("endobj"),de},Mr=y.__private__.putPages=function(){var S,j,ne=[];for(S=1;S<=Kt;S++)Ct[S].objId=$i(),Ct[S].contentsObjId=$i();for(S=1;S<=Kt;S++)ne.push(Yn({number:S,data:Re[S],objId:Ct[S].objId,contentsObjId:Ct[S].contentsObjId,mediaBox:Ct[S].mediaBox,cropBox:Ct[S].cropBox,bleedBox:Ct[S].bleedBox,trimBox:Ct[S].trimBox,artBox:Ct[S].artBox,userUnit:Ct[S].userUnit,rootDictionaryObjId:dr,resourceDictionaryObjId:Xs}));Qi(dr,!0),Y("<</Type /Pages");var de="/Kids [";for(j=0;j<Kt;j++)de+=ne[j]+" 0 R ";Y(de+"]"),Y("/Count "+Kt),Y(">>"),Y("endobj"),vn.publish("postPutPages")},ba=function(S){vn.publish("putFont",{font:S,out:Y,newObject:Kn,putStream:Zi}),S.isAlreadyPutted!==!0&&(S.objectNumber=Kn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Fd(S.postScriptName)),Y("/Subtype /Type1"),typeof S.encoding=="string"&&Y("/Encoding /"+S.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},fr=function(S){S.objectNumber=Kn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[M(S.x),M(S.y),M(S.x+S.width),M(S.y+S.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ne=S.pages[1].join(`
`);Zi({data:ne,additionalKeyValues:j,objectId:S.objectNumber}),Y("endobj")},Or=function(S,j){j||(j=21);var ne=Kn(),de=(function(Ge,ot){var xt,Dt=[],Yt=1/(ot-1);for(xt=0;xt<1;xt+=Yt)Dt.push(xt);if(Dt.push(1),Ge[0].offset!=0){var hn={offset:0,color:Ge[0].color};Ge.unshift(hn)}if(Ge[Ge.length-1].offset!=1){var ei={offset:1,color:Ge[Ge.length-1].color};Ge.push(ei)}for(var Si="",jn=0,Oi=0;Oi<Dt.length;Oi++){for(xt=Dt[Oi];xt>Ge[jn+1].offset;)jn++;var ki=Ge[jn].offset,es=(xt-ki)/(Ge[jn+1].offset-ki),Do=Ge[jn].color,Ir=Ge[jn+1].color;Si+=re(Math.round((1-es)*Do[0]+es*Ir[0]).toString(16))+re(Math.round((1-es)*Do[1]+es*Ir[1]).toString(16))+re(Math.round((1-es)*Do[2]+es*Ir[2]).toString(16))}return Si.trim()})(S.colors,j),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+j+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zi({data:de,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),Y("endobj"),S.objectNumber=Kn(),Y("<< /ShadingType "+S.type),Y("/ColorSpace /DeviceRGB");var Ie="/Coords ["+M(parseFloat(S.coords[0]))+" "+M(parseFloat(S.coords[1]))+" ";S.type===2?Ie+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3])):Ie+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3]))+" "+M(parseFloat(S.coords[4]))+" "+M(parseFloat(S.coords[5])),Y(Ie+="]"),S.matrix&&Y("/Matrix ["+S.matrix.toString()+"]"),Y("/Function "+ne+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},lc=function(S,j){var ne=$i(),de=Kn();j.push({resourcesOid:ne,objectOid:de}),S.objectNumber=de;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+S.boundingBox.map(M).join(" ")+"]"}),Se.push({key:"XStep",value:M(S.xStep)}),Se.push({key:"YStep",value:M(S.yStep)}),Se.push({key:"Resources",value:ne+" 0 R"}),S.matrix&&Se.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Zi({data:S.stream,additionalKeyValues:Se,objectId:S.objectNumber}),Y("endobj")},Lh=function(S){for(var j in S.objectNumber=Kn(),Y("<<"),S)switch(j){case"opacity":Y("/ca "+R(S[j]));break;case"stroke-opacity":Y("/CA "+R(S[j]))}Y(">>"),Y("endobj")},cc=function(S){Qi(S.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in Y("/Font <<"),It)It.hasOwnProperty(j)&&(p===!1||p===!0&&v.hasOwnProperty(j))&&Y("/"+j+" "+It[j].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(wt).length>0){for(var j in Y("/Shading <<"),wt)wt.hasOwnProperty(j)&&wt[j]instanceof oh&&wt[j].objectNumber>=0&&Y("/"+j+" "+wt[j].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),Y(">>")}})(),(function(j){if(Object.keys(wt).length>0){for(var ne in Y("/Pattern <<"),wt)wt.hasOwnProperty(ne)&&wt[ne]instanceof y.TilingPattern&&wt[ne].objectNumber>=0&&wt[ne].objectNumber<j&&Y("/"+ne+" "+wt[ne].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),Y(">>")}})(S.objectOid),(function(){if(Object.keys(At).length>0){var j;for(j in Y("/ExtGState <<"),At)At.hasOwnProperty(j)&&At[j].objectNumber>=0&&Y("/"+j+" "+At[j].objectNumber+" 0 R");vn.publish("putGStateDict"),Y(">>")}})(),(function(){for(var j in Y("/XObject <<"),Gi)Gi.hasOwnProperty(j)&&Gi[j].objectNumber>=0&&Y("/"+j+" "+Gi[j].objectNumber+" 0 R");vn.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},Rh=function(S){zt[S.fontName]=zt[S.fontName]||{},zt[S.fontName][S.fontStyle]=S.id},il=function(S,j,ne,de,Se){var Ie={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:S,fontName:j,fontStyle:ne,encoding:de,isStandardFont:Se||!1,metadata:{}};return vn.publish("addFont",{font:Ie,instance:this}),It[Ie.id]=Ie,Rh(Ie),Ie.id},ks=y.__private__.pdfEscape=y.pdfEscape=function(S,j){return(function(ne,de){var Se,Ie,Ge,ot,xt,Dt,Yt,hn,ei;if(Ge=(de=de||{}).sourceEncoding||"Unicode",xt=de.outputEncoding,(de.autoencode||xt)&&It[et].metadata&&It[et].metadata[Ge]&&It[et].metadata[Ge].encoding&&(ot=It[et].metadata[Ge].encoding,!xt&&It[et].encoding&&(xt=It[et].encoding),!xt&&ot.codePages&&(xt=ot.codePages[0]),typeof xt=="string"&&(xt=ot[xt]),xt)){for(Yt=!1,Dt=[],Se=0,Ie=ne.length;Se<Ie;Se++)(hn=xt[ne.charCodeAt(Se)])?Dt.push(String.fromCharCode(hn)):Dt.push(ne[Se]),Dt[Se].charCodeAt(0)>>8&&(Yt=!0);ne=Dt.join("")}for(Se=ne.length;Yt===void 0&&Se!==0;)ne.charCodeAt(Se-1)>>8&&(Yt=!0),Se--;if(!Yt)return ne;for(Dt=de.noBOM?[]:[254,255],Se=0,Ie=ne.length;Se<Ie;Se++){if((ei=(hn=ne.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(ei),Dt.push(hn-(ei<<8))}return String.fromCharCode.apply(void 0,Dt)})(S,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Js=y.__private__.beginPage=function(S){Re[++Kt]=[],Ct[Kt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},To(Kt),Qe(Re[I])},uc=function(S,j){var ne,de,Se;switch(t=j||t,typeof S=="string"&&(ne=E(S.toLowerCase()),Array.isArray(ne)&&(de=ne[0],Se=ne[1])),Array.isArray(S)&&(de=S[0]*Bt,Se=S[1]*Bt),isNaN(de)&&(de=s[0],Se=s[1]),(de>14400||Se>14400)&&(Wn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Se=Math.min(14400,Se)),s=[de,Se],t.substr(0,1)){case"l":Se>de&&(s=[Se,de]);break;case"p":de>Se&&(s=[Se,de])}Js(s),Rt(io),Y(Mo),Fr!==0&&Y(Fr+" J"),xa!==0&&Y(xa+" j"),vn.publish("addPage",{pageNumber:Kt})},hc=function(S){S>0&&S<=Kt&&(Re.splice(S,1),Ct.splice(S,1),Kt--,I>Kt&&(I=Kt),this.setPage(I))},To=function(S){S>0&&S<=Kt&&(I=S)},dc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},fc=function(S,j,ne){var de,Se=void 0;return ne=ne||{},S=S!==void 0?S:It[et].fontName,j=j!==void 0?j:It[et].fontStyle,de=S.toLowerCase(),zt[de]!==void 0&&zt[de][j]!==void 0?Se=zt[de][j]:zt[S]!==void 0&&zt[S][j]!==void 0?Se=zt[S][j]:ne.disableWarning===!1&&Wn.warn("Unable to look up font label for font '"+S+"', '"+j+"'. Refer to getFontList() for available fonts."),Se||ne.noFallback||(Se=zt.times[j])==null&&(Se=zt.times.normal),Se},no=y.__private__.putInfo=function(){var S=Kn(),j=function(de){return de};for(var ne in f!==null&&(j=wn.encryptor(S,0)),Y("<<"),Y("/Producer ("+ks(j("jsPDF "+_t.version))+")"),kt)kt.hasOwnProperty(ne)&&kt[ne]&&Y("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+ks(j(kt[ne]))+")");Y("/CreationDate ("+ks(j(pe))+")"),Y(">>"),Y("endobj")},sl=y.__private__.putCatalog=function(S){var j=(S=S||{}).rootDictionaryObjId||dr;switch(Kn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+j+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+pt;ne.substr(ne.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+R(pt)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}bt&&Y("/PageMode /"+bt),vn.publish("putCatalog"),Y(">>"),Y("endobj")},Ds=y.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ce+1)),Y("/Root "+ce+" 0 R"),Y("/Info "+(ce-1)+" 0 R"),f!==null&&Y("/Encrypt "+wn.oid+" 0 R"),Y("/ID [ <"+Q+"> <"+Q+"> ]"),Y(">>")},mi=y.__private__.putHeader=function(){Y("%PDF-"+k),Y("%")},Dh=y.__private__.putXRef=function(){var S="0000000000";Y("xref"),Y("0 "+(ce+1)),Y("0000000000 65535 f ");for(var j=1;j<=ce;j++)typeof xe[j]=="function"?Y((S+xe[j]()).slice(-10)+" 00000 n "):xe[j]!==void 0?Y((S+xe[j]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Qs=y.__private__.buildDocument=function(){var S;ce=0,ke=0,ye=[],xe=[],Le=[],dr=$i(),Xs=$i(),Qe(ye),vn.publish("buildDocument"),mi(),Mr(),(function(){vn.publish("putAdditionalObjects");for(var ne=0;ne<Le.length;ne++){var de=Le[ne];Qi(de.objId,!0),Y(de.content),Y("endobj")}vn.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ne in It)It.hasOwnProperty(ne)&&(p===!1||p===!0&&v.hasOwnProperty(ne))&&ba(It[ne])})(),(function(){var ne;for(ne in At)At.hasOwnProperty(ne)&&Lh(At[ne])})(),(function(){for(var ne in Gi)Gi.hasOwnProperty(ne)&&fr(Gi[ne])})(),(function(ne){var de;for(de in wt)wt.hasOwnProperty(de)&&(wt[de]instanceof oh?Or(wt[de]):wt[de]instanceof Vd&&lc(wt[de],ne))})(S),vn.publish("putResources"),S.forEach(cc),cc({resourcesOid:Xs,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),f!==null&&(wn.oid=Kn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+wn.v),Y("/R "+wn.r),Y("/U <"+wn.toHexString(wn.U)+">"),Y("/O <"+wn.toHexString(wn.O)+">"),Y("/P "+wn.P),Y(">>"),Y("endobj")),no(),sl();var j=ke;return Dh(),Ds(),Y("startxref"),Y(""+j),Y("%%EOF"),Qe(Re[I]),ye.join(`
`)},rl=y.__private__.getBlob=function(S){return new Blob([mt(S)],{type:"application/pdf"})},ol=y.output=y.__private__.output=(Ji=function(S,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",S){case void 0:return Qs();case"save":y.save(j.filename);break;case"arraybuffer":return mt(Qs());case"blob":return rl(Qs());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(rl(Qs()))||void 0;Wn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",de=Qs();try{ne=hS(de)}catch{ne=hS(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+j.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(Se=j.pdfObjectUrl,Ie="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",ot=qt.open();return ot!==null&&ot.document.write(Ge),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Dt=qt.open();if(Dt!==null){Dt.document.write(xt);var Yt=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=j.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',ei=qt.open();if(ei!==null&&(ei.document.write(hn),ei.document.title=j.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",j);default:return null}},Ji.foo=function(){try{return Ji.apply(this,arguments)}catch(ne){var S=ne.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var j="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ne.message;if(!qt.console)throw new Error(j);qt.console.error(j,ne),qt.alert&&alert(j)}},Ji.foo.bar=Ji,Ji.foo),gr=function(S){return Array.isArray(ma)===!0&&ma.indexOf(S)>-1};switch(i){case"pt":Bt=1;break;case"mm":Bt=72/25.4;break;case"cm":Bt=72/2.54;break;case"in":Bt=72;break;case"px":Bt=gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Bt=12;break;case"ex":Bt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Bt=i}var wn=null;le(),ue();var Lr=y.__private__.getPageInfo=y.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[S].objId,pageNumber:S,pageContext:Ct[S]}},bu=y.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Ct)if(Ct[j].objId===S)break;return Lr(j)},yu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ct[I].objId,pageNumber:I,pageContext:Ct[I]}};y.addPage=function(){return uc.apply(this,arguments),this},y.setPage=function(){return To.apply(this,arguments),Qe.call(this,Re[I]),this},y.insertPage=function(S){return this.addPage(),this.movePage(I,S),this},y.movePage=function(S,j){var ne,de;if(S>j){ne=Re[S],de=Ct[S];for(var Se=S;Se>j;Se--)Re[Se]=Re[Se-1],Ct[Se]=Ct[Se-1];Re[j]=ne,Ct[j]=de,this.setPage(j)}else if(S<j){ne=Re[S],de=Ct[S];for(var Ie=S;Ie<j;Ie++)Re[Ie]=Re[Ie+1],Ct[Ie]=Ct[Ie+1];Re[j]=ne,Ct[j]=de,this.setPage(j)}return this},y.deletePage=function(){return hc.apply(this,arguments),this},y.__private__.text=y.text=function(S,j,ne,de,Se){var Ie,Ge,ot,xt,Dt,Yt,hn,ei,Si,jn=(de=de||{}).scope||this;if(typeof S=="number"&&typeof j=="number"&&(typeof ne=="string"||Array.isArray(ne))){var Oi=ne;ne=j,j=S,S=Oi}if(arguments[3]instanceof Nt==0?(ot=arguments[4],xt=arguments[5],Ln(hn=arguments[3])==="object"&&hn!==null||(typeof ot=="string"&&(xt=ot,ot=null),typeof hn=="string"&&(xt=hn,hn=null),typeof hn=="number"&&(ot=hn,hn=null),de={flags:hn,angle:ot,align:xt})):(P("The transform parameter of text() with a Matrix value"),Si=Se),isNaN(j)||isNaN(ne)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return jn;var ki,es="",Do=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:mr,Ir=jn.internal.scaleFactor;function jo(an){return an=an.split("	").join(Array(de.TabLen||9).join(" ")),ks(an,hn)}function hl(an){for(var An,ri=an.concat(),Un=[],fo=ri.length;fo--;)typeof(An=ri.shift())=="string"?Un.push(An):Array.isArray(an)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?Un.push(An[0]):Un.push([An[0],An[1],An[2]]);return Un}function lo(an,An){var ri;if(typeof an=="string")ri=An(an)[0];else if(Array.isArray(an)){for(var Un,fo,kc=an.concat(),gl=[],Hh=kc.length;Hh--;)typeof(Un=kc.shift())=="string"?gl.push(An(Un)[0]):Array.isArray(Un)&&typeof Un[0]=="string"&&(fo=An(Un[0],Un[1],Un[2]),gl.push([fo[0],fo[1],fo[2]]));ri=gl}return ri}var Sa=!1,ka=!0;if(typeof S=="string")Sa=!0;else if(Array.isArray(S)){var Aa=S.concat();Ge=[];for(var Fo,Ki=Aa.length;Ki--;)(typeof(Fo=Aa.shift())!="string"||Array.isArray(Fo)&&typeof Fo[0]!="string")&&(ka=!1);Sa=ka}if(Sa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ca=Be/jn.internal.scaleFactor,pr=Ca*(Do-1);switch(de.baseline){case"bottom":ne-=pr;break;case"top":ne+=Ca-pr;break;case"hanging":ne+=Ca-2*pr;break;case"middle":ne+=Ca/2-pr}if((Yt=de.maxWidth||0)>0&&(typeof S=="string"?S=jn.splitTextToSize(S,Yt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(an,An){return an.concat(jn.splitTextToSize(An,Yt))},[]))),Ie={text:S,x:j,y:ne,options:de,mutex:{pdfEscape:ks,activeFontKey:et,fonts:It,activeFontSize:Be}},vn.publish("preProcessText",Ie),S=Ie.text,ot=(de=Ie.options).angle,Si instanceof Nt==0&&ot&&typeof ot=="number"){ot*=Math.PI/180,de.rotationDirection===0&&(ot=-ot),V===U&&(ot=-ot);var ku=Math.cos(ot),Au=Math.sin(ot);Si=new Nt(ku,Au,-Au,ku,0,0)}else ot&&ot instanceof Nt&&(Si=ot);V!==U||Si||(Si=$n),(Dt=de.charSpace||oo)!==void 0&&(es+=M(ie(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=de.horizontalScale)!==void 0&&(es+=M(100*ei)+` Tz
`),de.lang;var As=-1,co=de.renderingMode!==void 0?de.renderingMode:de.stroke,dl=jn.internal.getCurrentPageInfo().pageContext;switch(co){case 0:case!1:case"fill":As=0;break;case 1:case!0:case"stroke":As=1;break;case 2:case"fillThenStroke":As=2;break;case 3:case"invisible":As=3;break;case 4:case"fillAndAddForClipping":As=4;break;case 5:case"strokeAndAddPathForClipping":As=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":As=6;break;case 7:case"addToPathForClipping":As=7}var Na=dl.usedRenderingMode!==void 0?dl.usedRenderingMode:-1;As!==-1?es+=As+` Tr
`:Na!==-1&&(es+=`0 Tr
`),As!==-1&&(dl.usedRenderingMode=As),xt=de.align||"left";var hs,fl=Be*Do,Ea=jn.internal.pageSize.getWidth(),yc=It[et];Dt=de.charSpace||oo,Yt=de.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Bo=[],Io=function(an){return jn.getStringUnitWidth(an,{font:yc,charSpace:Dt,fontSize:Be,doKerning:!1})*Be/Ir};if(Object.prototype.toString.call(S)==="[object Array]"){var Cs;Ge=hl(S),xt!=="left"&&(hs=Ge.map(Io));var js,zo=0;if(xt==="right"){j-=hs[0],S=[],Ki=Ge.length;for(var uo=0;uo<Ki;uo++)uo===0?(js=jr(j),Cs=er(ne)):(js=ie(zo-hs[uo]),Cs=-fl),S.push([Ge[uo],js,Cs]),zo=hs[uo]}else if(xt==="center"){j-=hs[0]/2,S=[],Ki=Ge.length;for(var Ta=0;Ta<Ki;Ta++)Ta===0?(js=jr(j),Cs=er(ne)):(js=ie((zo-hs[Ta])/2),Cs=-fl),S.push([Ge[Ta],js,Cs]),zo=hs[Ta]}else if(xt==="left"){S=[],Ki=Ge.length;for(var Cu=0;Cu<Ki;Cu++)S.push(Ge[Cu])}else if(xt==="justify"&&yc.encoding==="Identity-H"){S=[],Ki=Ge.length,Yt=Yt!==0?Yt:Ea;for(var vc=0,pi=0;pi<Ki;pi++)if(Cs=pi===0?er(ne):-fl,js=pi===0?jr(j):vc,pi<Ki-1){var qh=ie((Yt-hs[pi])/(Ge[pi].split(" ").length-1)),si=Ge[pi].split(" ");S.push([si[0]+" ",js,Cs]),vc=0;for(var Fs=1;Fs<si.length;Fs++){var xc=(Io(si[Fs-1]+" "+si[Fs])-Io(si[Fs]))*Ir+qh;Fs==si.length-1?S.push([si[Fs],xc,0]):S.push([si[Fs]+" ",xc,0]),vc-=xc}}else S.push([Ge[pi],js,Cs]);S.push(["",vc,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Ki=Ge.length,Yt=Yt!==0?Yt:Ea,pi=0;pi<Ki;pi++){Cs=pi===0?er(ne):-fl,js=pi===0?jr(j):0;var wc=Ge[pi].split(" ").length-1,_c=wc>0?(Yt-hs[pi])/wc:0;pi<Ki-1?Bo.push(M(ie(_c))):Bo.push(0),S.push([Ge[pi],js,Cs])}}}(typeof de.R2L=="boolean"?de.R2L:ut)===!0&&(S=lo(S,function(an,An,ri){return[an.split("").reverse().join(""),An,ri]})),Ie={text:S,x:j,y:ne,options:de,mutex:{pdfEscape:ks,activeFontKey:et,fonts:It,activeFontSize:Be}},vn.publish("postProcessText",Ie),S=Ie.text,ki=Ie.mutex.isHex||!1;var Sc=It[et].encoding;Sc!=="WinAnsiEncoding"&&Sc!=="StandardEncoding"||(S=lo(S,function(an,An,ri){return[jo(an),An,ri]})),Ge=hl(S),S=[];for(var ho,Pa,tr,Vo=Array.isArray(Ge[0])?1:0,br="",Uo=function(an,An,ri){var Un="";return ri instanceof Nt?(ri=typeof de.angle=="number"?ls(ri,new Nt(1,0,0,1,an,An)):ls(new Nt(1,0,0,1,an,An),ri),V===U&&(ri=ls(new Nt(1,0,0,-1,0,0),ri)),Un=ri.join(" ")+` Tm
`):Un=M(an)+" "+M(An)+` Td
`,Un},nr=0;nr<Ge.length;nr++){switch(br="",Vo){case 1:tr=(ki?"<":"(")+Ge[nr][0]+(ki?">":")"),ho=parseFloat(Ge[nr][1]),Pa=parseFloat(Ge[nr][2]);break;case 0:tr=(ki?"<":"(")+Ge[nr]+(ki?">":")"),ho=jr(j),Pa=er(ne)}Bo!==void 0&&Bo[nr]!==void 0&&(br=Bo[nr]+` Tw
`),nr===0?S.push(br+Uo(ho,Pa,Si)+tr):Vo===0?S.push(br+tr):Vo===1&&S.push(br+Uo(ho,Pa,Si)+tr)}S=Vo===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ds=`BT
/`;return ds+=et+" "+Be+` Tf
`,ds+=M(Be*Do)+` TL
`,ds+=ro+`
`,ds+=es,ds+=S,Y(ds+="ET"),v[et]=!0,jn};var ya=y.__private__.clip=y.clip=function(S){return Y(S==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ya("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Y("n"),this};var Rr=y.__private__.isValidStyle=function(S){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(j=!0),j};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(S){return Rr(S)&&(h=S),this};var vu=y.__private__.getStyle=y.getStyle=function(S){var j=h;switch(S){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=S}return j},Po=y.close=function(){return Y("h"),this};y.stroke=function(){return Y("S"),this},y.fill=function(S){return gc("f",S),this},y.fillEvenOdd=function(S){return gc("f*",S),this},y.fillStroke=function(S){return gc("B",S),this},y.fillStrokeEvenOdd=function(S){return gc("B*",S),this};var gc=function(S,j){Ln(j)==="object"?xu(j,S):Y(S)},va=function(S){S===null||V===U&&S===void 0||(S=vu(S),Y(S))};function jh(S,j,ne,de,Se){var Ie=new Vd(j||this.boundingBox,ne||this.xStep,de||this.yStep,this.gState,Se||this.matrix);Ie.stream=this.stream;var Ge=S+"$$"+this.cloneIndex+++"$$";return Vn(Ge,Ie),Ie}var xu=function(S,j){var ne=Rn[S.key],de=wt[ne];if(de instanceof oh)Y("q"),Y(bf(j)),de.gState&&y.setGState(de.gState),Y(S.matrix.toString()+" cm"),Y("/"+ne+" sh"),Y("Q");else if(de instanceof Vd){var Se=new Nt(1,0,0,-1,0,ul());S.matrix&&(Se=Se.multiply(S.matrix||$n),ne=jh.call(de,S.key,S.boundingBox,S.xStep,S.yStep,Se).id),Y("q"),Y("/Pattern cs"),Y("/"+ne+" scn"),de.gState&&y.setGState(de.gState),Y(j),Y("Q")}},bf=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wu=y.moveTo=function(S,j){return Y(M(ie(S))+" "+M(oe(j))+" m"),this},al=y.lineTo=function(S,j){return Y(M(ie(S))+" "+M(oe(j))+" l"),this},Zs=y.curveTo=function(S,j,ne,de,Se,Ie){return Y([M(ie(S)),M(oe(j)),M(ie(ne)),M(oe(de)),M(ie(Se)),M(oe(Ie)),"c"].join(" ")),this};y.__private__.line=y.line=function(S,j,ne,de,Se){if(isNaN(S)||isNaN(j)||isNaN(ne)||isNaN(de)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.line");return V===D?this.lines([[ne-S,de-j]],S,j,[1,1],Se||"S"):this.lines([[ne-S,de-j]],S,j,[1,1]).stroke()},y.__private__.lines=y.lines=function(S,j,ne,de,Se,Ie){var Ge,ot,xt,Dt,Yt,hn,ei,Si,jn,Oi,ki,es;if(typeof S=="number"&&(es=ne,ne=j,j=S,S=es),de=de||[1,1],Ie=Ie||!1,isNaN(j)||isNaN(ne)||!Array.isArray(S)||!Array.isArray(de)||!Rr(Se)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wu(j,ne),Ge=de[0],ot=de[1],Dt=S.length,Oi=j,ki=ne,xt=0;xt<Dt;xt++)(Yt=S[xt]).length===2?(Oi=Yt[0]*Ge+Oi,ki=Yt[1]*ot+ki,al(Oi,ki)):(hn=Yt[0]*Ge+Oi,ei=Yt[1]*ot+ki,Si=Yt[2]*Ge+Oi,jn=Yt[3]*ot+ki,Oi=Yt[4]*Ge+Oi,ki=Yt[5]*ot+ki,Zs(hn,ei,Si,jn,Oi,ki));return Ie&&Po(),va(Se),this},y.path=function(S){for(var j=0;j<S.length;j++){var ne=S[j],de=ne.c;switch(ne.op){case"m":wu(de[0],de[1]);break;case"l":al(de[0],de[1]);break;case"c":Zs.apply(this,de);break;case"h":Po()}}return this},y.__private__.rect=y.rect=function(S,j,ne,de,Se){if(isNaN(S)||isNaN(j)||isNaN(ne)||isNaN(de)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return V===D&&(de=-de),Y([M(ie(S)),M(oe(j)),M(ie(ne)),M(ie(de)),"re"].join(" ")),va(Se),this},y.__private__.triangle=y.triangle=function(S,j,ne,de,Se,Ie,Ge){if(isNaN(S)||isNaN(j)||isNaN(ne)||isNaN(de)||isNaN(Se)||isNaN(Ie)||!Rr(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-S,de-j],[Se-ne,Ie-de],[S-Se,j-Ie]],S,j,[1,1],Ge,!0),this},y.__private__.roundedRect=y.roundedRect=function(S,j,ne,de,Se,Ie,Ge){if(isNaN(S)||isNaN(j)||isNaN(ne)||isNaN(de)||isNaN(Se)||isNaN(Ie)||!Rr(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ne),Ie=Math.min(Ie,.5*de),this.lines([[ne-2*Se,0],[Se*ot,0,Se,Ie-Ie*ot,Se,Ie],[0,de-2*Ie],[0,Ie*ot,-Se*ot,Ie,-Se,Ie],[2*Se-ne,0],[-Se*ot,0,-Se,-Ie*ot,-Se,-Ie],[0,2*Ie-de],[0,-Ie*ot,Se*ot,-Ie,Se,-Ie]],S+Se,j,[1,1],Ge,!0),this},y.__private__.ellipse=y.ellipse=function(S,j,ne,de,Se){if(isNaN(S)||isNaN(j)||isNaN(ne)||isNaN(de)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ne,Ge=4/3*(Math.SQRT2-1)*de;return wu(S+ne,j),Zs(S+ne,j-Ge,S+Ie,j-de,S,j-de),Zs(S-Ie,j-de,S-ne,j-Ge,S-ne,j),Zs(S-ne,j+Ge,S-Ie,j+de,S,j+de),Zs(S+Ie,j+de,S+ne,j+Ge,S+ne,j),va(Se),this},y.__private__.circle=y.circle=function(S,j,ne,de){if(isNaN(S)||isNaN(j)||isNaN(ne)||!Rr(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,j,ne,ne,de)},y.setFont=function(S,j,ne){return ne&&(j=ee(j,ne)),et=fc(S,j,{disableWarning:!1}),this};var _u=y.__private__.getFont=y.getFont=function(){return It[fc.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var S,j,ne={};for(S in zt)if(zt.hasOwnProperty(S))for(j in ne[S]=[],zt[S])zt[S].hasOwnProperty(j)&&ne[S].push(j);return ne},y.addFont=function(S,j,ne,de,Se){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ne=ee(ne,de)),il.call(this,S,j,ne,Se=Se||"Identity-H")};var mr,io=n.lineWidth||.200025,Fh=y.__private__.getLineWidth=y.getLineWidth=function(){return io},Rt=y.__private__.setLineWidth=y.setLineWidth=function(S){return io=S,Y(M(ie(S))+" w"),this};y.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(S,j){if(S=S||[],j=j||0,isNaN(j)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ne){return M(ie(ne))}).join(" "),j=M(ie(j)),Y("["+S+"] "+j+" d"),this};var Bh=y.__private__.getLineHeight=y.getLineHeight=function(){return Be*mr};y.__private__.getLineHeight=y.getLineHeight=function(){return Be*mr};var ll=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(mr=S),this},Dr=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return mr};ll(n.lineHeight);var jr=y.__private__.getHorizontalCoordinate=function(S){return ie(S)},er=y.__private__.getVerticalCoordinate=function(S){return V===U?S:Ct[I].mediaBox.topRightY-Ct[I].mediaBox.bottomLeftY-ie(S)},so=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(S){return M(jr(S))},Su=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(S){return M(er(S))},Mo=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return _s(Mo)},y.__private__.setStrokeColor=y.setDrawColor=function(S,j,ne,de){return Mo=cs({ch1:S,ch2:j,ch3:ne,ch4:de,pdfColorType:"draw",precision:2}),Y(Mo),this};var mc=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return _s(mc)},y.__private__.setFillColor=y.setFillColor=function(S,j,ne,de){return mc=cs({ch1:S,ch2:j,ch3:ne,ch4:de,pdfColorType:"fill",precision:2}),Y(mc),this};var ro=n.textColor||"0 g",pc=y.__private__.getTextColor=y.getTextColor=function(){return _s(ro)};y.__private__.setTextColor=y.setTextColor=function(S,j,ne,de){return ro=cs({ch1:S,ch2:j,ch3:ne,ch4:de,pdfColorType:"text",precision:3}),this};var oo=n.charSpace,us=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(oo||0)};y.__private__.setCharSpace=y.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oo=S,this};var Fr=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(S){var j=y.CapJoinStyles[S];if(j===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fr=j,Y(j+" J"),this};var xa=0;y.__private__.setLineJoin=y.setLineJoin=function(S){var j=y.CapJoinStyles[S];if(j===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xa=j,Y(j+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(M(ie(S))+" M"),this},y.GState=o1,y.setGState=function(S){(S=typeof S=="string"?At[Ht[S]]:wa(null,S)).equals(Dn)||(Y("/"+S.id+" gs"),Dn=S)};var wa=function(S,j){if(!S||!Ht[S]){var ne=!1;for(var de in At)if(At.hasOwnProperty(de)&&At[de].equals(j)){ne=!0;break}if(ne)j=At[de];else{var Se="GS"+(Object.keys(At).length+1).toString(10);At[Se]=j,j.id=Se}return S&&(Ht[S]=j.id),vn.publish("addGState",j),j}};y.addGState=function(S,j){return wa(S,j),this},y.saveGraphicsState=function(){return Y("q"),En.push({key:et,size:Be,color:ro}),this},y.restoreGraphicsState=function(){Y("Q");var S=En.pop();return et=S.key,Be=S.size,ro=S.color,Dn=null,this},y.setCurrentTransformationMatrix=function(S){return Y(S.toString()+" cm"),this},y.comment=function(S){return Y("#"+S),this};var Oo=function(S,j){var ne=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ie){isNaN(Ie)||(ne=parseFloat(Ie))}});var de=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ie){isNaN(Ie)||(de=parseFloat(Ie))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Ie){Se=Ie.toString()}}),this},cl=function(S,j,ne,de){Oo.call(this,S,j),this.type="rect";var Se=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ge){isNaN(Ge)||(Se=parseFloat(Ge))}});var Ie=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Ge){isNaN(Ge)||(Ie=parseFloat(Ge))}}),this},_a=function(){this.page=Kt,this.currentPage=I,this.pages=Re.slice(0),this.pagesContext=Ct.slice(0),this.x=lt,this.y=mn,this.matrix=$t,this.width=bc(I),this.height=zh(I),this.outputDestination=Ye,this.id="",this.objectNumber=-1};_a.prototype.restore=function(){Kt=this.page,I=this.currentPage,Ct=this.pagesContext,Re=this.pages,lt=this.x,mn=this.y,$t=this.matrix,Ih(I,this.width),Ro(I,this.height),Ye=this.outputDestination};var Lo=function(S,j,ne,de,Se){Pr.push(new _a),Kt=I=0,Re=[],lt=S,mn=j,$t=Se,Js([ne,de])};for(var ao in y.beginFormObject=function(S,j,ne,de,Se){return Lo(S,j,ne,de,Se),this},y.endFormObject=function(S){return(function(j){if(Tr[j])Pr.pop().restore();else{var ne=new _a,de="Xo"+(Object.keys(Gi).length+1).toString(10);ne.id=de,Tr[j]=de,Gi[de]=ne,vn.publish("addFormObject",ne),Pr.pop().restore()}})(S),this},y.doFormObject=function(S,j){var ne=Gi[Tr[S]];return Y("q"),Y(j.toString()+" cm"),Y("/"+ne.id+" Do"),Y("Q"),this},y.getFormObject=function(S){var j=Gi[Tr[S]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},y.save=function(S,j){return S=S||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(sh(rl(Qs()),S),typeof sh.unload=="function"&&qt.setTimeout&&setTimeout(sh.unload,911),this):new Promise(function(ne,de){try{var Se=sh(rl(Qs()),S);typeof sh.unload=="function"&&qt.setTimeout&&setTimeout(sh.unload,911),ne(Se)}catch(Ie){de(Ie.message)}})},_t.API)_t.API.hasOwnProperty(ao)&&(ao==="events"&&_t.API.events.length?(function(S,j){var ne,de,Se;for(Se=j.length-1;Se!==-1;Se--)ne=j[Se][0],de=j[Se][1],S.subscribe.apply(S,[ne].concat(typeof de=="function"?[de]:de))})(vn,_t.API.events):y[ao]=_t.API[ao]);function bc(S){return Ct[S].mediaBox.topRightX-Ct[S].mediaBox.bottomLeftX}function Ih(S,j){Ct[S].mediaBox.topRightX=j+Ct[S].mediaBox.bottomLeftX}function zh(S){return Ct[S].mediaBox.topRightY-Ct[S].mediaBox.bottomLeftY}function Ro(S,j){Ct[S].mediaBox.topRightY=j+Ct[S].mediaBox.bottomLeftY}var Br=y.getPageWidth=function(S){return bc(S=S||I)/Bt},Vh=y.setPageWidth=function(S,j){Ih(S,j*Bt)},ul=y.getPageHeight=function(S){return zh(S=S||I)/Bt},Uh=y.setPageHeight=function(S,j){Ro(S,j*Bt)};return y.internal={pdfEscape:ks,getStyle:vu,getFont:_u,getFontSize:tt,getCharSpace:us,getTextColor:pc,getLineHeight:Bh,getLineHeightFactor:Dr,getLineWidth:Fh,write:Ue,getHorizontalCoordinate:jr,getVerticalCoordinate:er,getCoordinateString:so,getVerticalCoordinateString:Su,collections:{},newObject:Kn,newAdditionalObject:pa,newObjectDeferred:$i,newObjectDeferredBegin:Qi,getFilters:Ss,putStream:Zi,events:vn,scaleFactor:Bt,pageSize:{getWidth:function(){return Br(I)},setWidth:function(S){Vh(I,S)},getHeight:function(){return ul(I)},setHeight:function(S){Uh(I,S)}},encryptionOptions:f,encryption:wn,getEncryptor:function(S){return f!==null?wn.encryptor(S,0):function(j){return j}},output:ol,getNumberOfPages:dc,get pages(){return Re},out:Y,f2:R,f3:B,getPageInfo:Lr,getPageInfoByObjId:bu,getCurrentPageInfo:yu,getPDFVersion:A,Point:Oo,Rectangle:cl,Matrix:Nt,hasHotfix:gr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Br(I)},set:function(S){Vh(I,S)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ul(I)},set:function(S){Uh(I,S)},enumerable:!0,configurable:!0}),(function(S){for(var j=0,ne=Xe.length;j<ne;j++){var de=il.call(this,S[j][0],S[j][1],S[j][2],Xe[j][3],!0);p===!1&&(v[de]=!0);var Se=S[j][0].split("-");Rh({id:de,fontName:Se[0],fontStyle:Se[1]||""})}vn.publish("addFonts",{fonts:It,dictionary:zt})}).call(y,Xe),et="F1",uc(s,t),vn.publish("initialized"),y}jd.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},jd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},jd.prototype.processOwnerPassword=function(n,e){return Zy(Qy(e).substr(0,5),n)},jd.prototype.encryptor=function(n,e){var t=Qy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Zy(t,i)}},o1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ln(n)!==Ln(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},_t.API={events:[]},_t.version="3.0.4";var Ei=_t.API,S5=1,Oh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Md=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},Qc=function(n){return n.toFixed(5)};Ei.__acroform__={};var Er=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},mS=function(n){return n*S5},qa=function(n){var e=new vN,t=gt.internal.getHeight(n)||0,i=gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(i)),Number(Xt(t))],e},l$=Ei.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},c$=Ei.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},u$=Ei.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Vi=Ei.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return u$(n,e-1)},Ui=Ei.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return l$(n,e-1)},qi=Ei.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return c$(n,e-1)},h$=Ei.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=n[0],r=n[1],o=n[2],a=n[3],c={};return c.lowerLeft_X=t(s)||0,c.lowerLeft_Y=i(r+a)||0,c.upperRight_X=t(s+o)||0,c.upperRight_Y=i(r)||0,[Number(Xt(c.lowerLeft_X)),Number(Xt(c.lowerLeft_Y)),Number(Xt(c.upperRight_X)),Number(Xt(c.upperRight_Y))]},d$=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=ev(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Xt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=qa(n);return r.scope=n.scope,r.stream=e.join(`
`),r}},ev=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var r=t,o=gt.internal.getHeight(n)||0;o=o<0?-o:o;var a=gt.internal.getWidth(n)||0;a=a<0?-a:a;var c=function(R,B,ie){if(R+1<s.length){var oe=B+" "+s[R+1][0];return h0(oe,n,ie).width<=a-4}return!1};r++;e:for(;r>0;){e="",r--;var h,f,p=h0("3",n,r).height,v=n.multiline?o-r:(o-p)/2,y=v+=2,k=0,A=0,N=0;if(r<=0){e=`(...) Tj
`,e+="% Width of Text: "+h0(e,n,r=12).width+", FieldWidth:"+a+`
`;break}for(var E="",D=0,U=0;U<s.length;U++)if(s.hasOwnProperty(U)){var V=!1;if(s[U].length!==1&&N!==s[U].length-1){if((p+2)*(D+2)+2>o)continue e;E+=s[U][N],V=!0,A=U,U--}else{E=(E+=s[U][N]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var J=parseInt(U),se=c(J,E,r),ee=U>=s.length-1;if(se&&!ee){E+=" ",N=0;continue}if(se||ee){if(ee)A=J;else if(n.multiline&&(p+2)*(D+2)+2>o)continue e}else{if(!n.multiline||(p+2)*(D+2)+2>o)continue e;A=J}}for(var M="",P=k;P<=A;P++){var W=s[P];if(n.multiline){if(P===A){M+=W[N]+" ",N=(N+1)%W.length;continue}if(P===k){M+=W[W.length-1]+" ";continue}}M+=W[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=h0(M,n,r).width,n.textAlign){case"right":h=a-f-2;break;case"center":h=(a-f)/2;break;default:h=2}e+=Xt(h)+" "+Xt(y)+` Td
`,e+="("+Oh(M)+`) Tj
`,e+=-Xt(h)+` 0 Td
`,y=-(r+2),f=0,k=V?A:A+1,D++,E=""}break}return i.text=e,i.fontSize=r,i},h0=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},f$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},g$=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},m$=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(fa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(f$)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");S5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xN,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var r=i[s];r.objId=void 0,r.hasAnnotation&&g$(r,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,s){var r=!i;for(var o in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],c=[],h=a.Rect;if(a.Rect&&(a.Rect=h$(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=gt.createDefaultAppearanceStream(a),Ln(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=d$(a);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var y=a.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var k=y[o];typeof k=="function"&&(k=k.call(s,a)),p+="/"+o+" "+k+" ",s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k)}}else typeof(k=y)=="function"&&(k=k.call(s,a)),p+="/"+o+" "+k,s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:a.objId}),s.internal.out("endobj")}r&&(function(A,N){for(var E in A)if(A.hasOwnProperty(E)){var D=E,U=A[E];N.internal.newObjectDeferredBegin(U.objId,!0),Ln(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete A[D]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},yN=Ei.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var s="[",r=0;r<n.length;r++)switch(r!==0&&(s+=" "),Ln(n[r])){case"boolean":case"number":case"object":s+=n[r].toString();break;case"string":n[r].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+Oh(i(n[r].toString()))+")"):s+=n[r].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ry=function(n,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Oh(i(n))+")"},Ka=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ka.prototype.toString=function(){return this.objId+" 0 R"},Ka.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ka.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:yN(s,this.objId,this.scope)}):s instanceof Ka?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var vN=function(){Ka.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Er(vN,Ka);var xN=function(){Ka.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oh(t(n))+")"}},set:function(t){n=t}})};Er(xN,Ka);var fa=function n(){Ka.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vi(e,3)},set:function(E){E?this.F=Ui(e,3):this.F=qi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof a1)return;r="FieldObject"+n.FieldNum++}var E=function(D){return D};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Oh(E(r))+")"},set:function(E){r=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(E){r=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/S5:h},set:function(E){h=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof a1||this instanceof dh))return ry(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vs==0?ry(v,this.objId,this.scope):v},set:function(E){E=E.toString(),v=this instanceof vs==0?E.substr(0,1)==="("?Md(E.substr(1,E.length-2)):Md(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs==1?Md(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof vs==1?"/"+E:E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof vs==0?ry(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof vs==0?E.substr(0,1)==="("?Md(E.substr(1,E.length-2)):Md(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs==1?Md(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof vs==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){E=!!E,A=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(E){k=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,1)},set:function(E){E?this.Ff=Ui(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,2)},set:function(E){E?this.Ff=Ui(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,3)},set:function(E){E?this.Ff=Ui(this.Ff,3):this.Ff=qi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');N=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(N){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Er(fa,Ka);var $d=function(){fa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yN(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(r,o,a){a||(a=1);for(var c,h=[];c=o.exec(r);)h.push(c[a]);return h})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,18)},set:function(t){t?this.Ff=Ui(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ui(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,20)},set:function(t){t?(this.Ff=Ui(this.Ff,20),e.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,22)},set:function(t){t?this.Ff=Ui(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(t){t?this.Ff=Ui(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,27)},set:function(t){t?this.Ff=Ui(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};Er($d,fa);var Kd=function(){$d.call(this),this.fontName="helvetica",this.combo=!1};Er(Kd,$d);var Yd=function(){Kd.call(this),this.combo=!0};Er(Yd,Kd);var T0=function(){Yd.call(this),this.edit=!0};Er(T0,Yd);var vs=function(){fa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,15)},set:function(t){t?this.Ff=Ui(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,16)},set:function(t){t?this.Ff=Ui(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,17)},set:function(t){t?this.Ff=Ui(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(t){t?this.Ff=Ui(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(r){return r};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Oh(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Ln(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Er(vs,fa);var P0=function(){vs.call(this),this.pushButton=!0};Er(P0,vs);var Xd=function(){vs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Er(Xd,vs);var a1=function(){var n,e;fa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),i)o.push("/"+r+" ("+Oh(s(i[r]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Ln(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Er(a1,fa),Xd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Xd.prototype.createOption=function(n){var e=new a1;return e.Parent=this,e.optionName=n,this.Kids.push(e),p$.call(this.scope,e),e};var M0=function(){vs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Er(M0,vs);var dh=function(){fa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,13)},set:function(e){e?this.Ff=Ui(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,21)},set:function(e){e?this.Ff=Ui(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(e){e?this.Ff=Ui(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,24)},set:function(e){e?this.Ff=Ui(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,25)},set:function(e){e?this.Ff=Ui(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(e){e?this.Ff=Ui(this.Ff,26):this.Ff=qi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Er(dh,fa);var O0=function(){dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,14)},set:function(n){n?this.Ff=Ui(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};Er(O0,dh);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),r=ev(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Xt(r.fontSize)+" Tf "+s),t.push("BT"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=qa(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],r=gt.internal.getHeight(n),o=gt.internal.getWidth(n),a=ev(n,n.caption);return s.push("1 g"),s.push("0 0 "+Xt(o)+" "+Xt(r)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Xt(o-1)+" "+Xt(r-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Xt(a.fontSize)+" Tf "+i),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Circle.YesNormal,e.D[n]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=qa(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=gt.internal.Bezier_C,r=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Qc(gt.internal.getWidth(n)/2)+" "+Qc(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),t.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),t.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),t.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*gt.internal.Bezier_C).toFixed(5)),o=Number((i*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Qc(gt.internal.getWidth(n)/2)+" "+Qc(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),t.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),t.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),t.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Qc(gt.internal.getWidth(n)/2)+" "+Qc(gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=[],i=gt.internal.getWidth(n)<=gt.internal.getHeight(n)?gt.internal.getWidth(n)/4:gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Qc(gt.internal.getWidth(n)/2)+" "+Qc(gt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),t.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),t.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),t.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=gt.RadioButton.Cross.YesNormal,e.D[n]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=qa(n);e.scope=n.scope;var t=[],i=gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(i.x1.x)+" "+Xt(i.x1.y)+" m"),t.push(Xt(i.x2.x)+" "+Xt(i.x2.y)+" l"),t.push(Xt(i.x4.x)+" "+Xt(i.x4.y)+" m"),t.push(Xt(i.x3.x)+" "+Xt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=gt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Xt(gt.internal.getWidth(n)-2)+" "+Xt(gt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),i.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),i.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),i.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=qa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(gt.internal.getWidth(n))+" "+Xt(gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=gt.internal.getWidth(n),t=gt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},gt.internal.getWidth=function(n){var e=0;return Ln(n)==="object"&&(e=mS(n.Rect[2])),e},gt.internal.getHeight=function(n){var e=0;return Ln(n)==="object"&&(e=mS(n.Rect[3])),e};var p$=Ei.addField=function(n){if(m$(this,n),!(n instanceof fa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ei.AcroFormChoiceField=$d,Ei.AcroFormListBox=Kd,Ei.AcroFormComboBox=Yd,Ei.AcroFormEditBox=T0,Ei.AcroFormButton=vs,Ei.AcroFormPushButton=P0,Ei.AcroFormRadioButton=Xd,Ei.AcroFormCheckBox=M0,Ei.AcroFormTextField=dh,Ei.AcroFormPasswordField=O0,Ei.AcroFormAppearance=gt,Ei.AcroForm={ChoiceField:$d,ListBox:Kd,ComboBox:Yd,EditBox:T0,Button:vs,PushButton:P0,RadioButton:Xd,CheckBox:M0,TextField:dh,PasswordField:O0,Appearance:gt},_t.AcroForm={ChoiceField:$d,ListBox:Kd,ComboBox:Yd,EditBox:T0,Button:vs,PushButton:P0,RadioButton:Xd,CheckBox:M0,TextField:dh,PasswordField:O0,Appearance:gt};_t.AcroForm;function wN(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(R,B){var ie,oe,pe,Q,ae,ue=t;if((B=B||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(se(R))for(ae in i)for(pe=i[ae],ie=0;ie<pe.length;ie+=1){for(Q=!0,oe=0;oe<pe[ie].length;oe+=1)if(pe[ie][oe]!==void 0&&pe[ie][oe]!==R[oe]){Q=!1;break}if(Q===!0){ue=ae;break}}else for(ae in i)for(pe=i[ae],ie=0;ie<pe.length;ie+=1){for(Q=!0,oe=0;oe<pe[ie].length;oe+=1)if(pe[ie][oe]!==void 0&&pe[ie][oe]!==R.charCodeAt(oe)){Q=!1;break}if(Q===!0){ue=ae;break}}return ue===t&&B!==t&&(ue=B),ue},r=function R(B){for(var ie=this.internal.write,oe=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:B.width}),Q.push({key:"Height",value:B.height}),B.colorSpace===E.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===E.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var ae="",ue=0,ge=B.transparency.length;ue<ge;ue++)ae+=B.transparency[ue]+" "+B.transparency[ue]+" ";Q.push({key:"Mask",value:"["+ae+"]"})}B.sMask!==void 0&&Q.push({key:"SMask",value:B.objectId+1+" 0 R"});var $=B.filter!==void 0?["/"+B.filter]:void 0;if(oe({data:B.data,additionalKeyValues:Q,alreadyAppliedFilters:$,objectId:B.objectId}),ie("endobj"),"sMask"in B&&B.sMask!==void 0){var le,O=(le=B.sMaskBitsPerComponent)!==null&&le!==void 0?le:B.bitsPerComponent,I={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:B.sMask};"filter"in B&&(I.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(B.width),I.filter=B.filter),R.call(this,I)}if(B.colorSpace===E.INDEXED){var K=this.internal.newObject();oe({data:M(new Uint8Array(B.palette)),objectId:K}),ie("endobj")}},o=function(){var R=this.internal.collections[e+"images"];for(var B in R)r.call(this,R[B])},a=function(){var R,B=this.internal.collections[e+"images"],ie=this.internal.write;for(var oe in B)ie("/I"+(R=B[oe]).index,R.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var R=this.internal.collections[e+"images"];return c.call(this),R},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(R){return typeof n["process"+R.toUpperCase()]=="function"},v=function(R){return Ln(R)==="object"&&R.nodeType===1},y=function(R,B){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var ie=""+R.getAttribute("src");if(ie.indexOf("data:image/")===0)return E0(unescape(ie).split("base64,").pop());var oe=n.loadFile(ie,!0);if(oe!==void 0)return oe}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var pe;switch(B){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return E0(R.toDataURL(pe,1).split("base64,").pop())}},k=function(R){var B=this.internal.collections[e+"images"];if(B){for(var ie in B)if(R===B[ie].alias)return B[ie]}},A=function(R,B,ie){return R||B||(R=-96,B=-96),R<0&&(R=-1*ie.width*72/R/this.internal.scaleFactor),B<0&&(B=-1*ie.height*72/B/this.internal.scaleFactor),R===0&&(R=B*ie.width/ie.height),B===0&&(B=R*ie.height/ie.width),[R,B]},N=function(R,B,ie,oe,pe,Q){var ae=A.call(this,ie,oe,pe),ue=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,$=h.call(this);if(ie=ae[0],oe=ae[1],$[pe.index]=pe,Q){Q*=Math.PI/180;var le=Math.cos(Q),O=Math.sin(Q),I=function(re){return re.toFixed(4)},K=[I(le),I(O),I(-1*O),I(le),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ue(R),ge(B+oe),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ue(ie),"0","0",ue(oe),"0","0","cm"].join(" "))):this.internal.write([ue(ie),"0","0",ue(oe),ue(R),ge(B+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=n.__addimage__.sHashCode=function(R){var B,ie,oe=0;if(typeof R=="string")for(ie=R.length,B=0;B<ie;B++)oe=(oe<<5)-oe+R.charCodeAt(B),oe|=0;else if(se(R))for(ie=R.byteLength/2,B=0;B<ie;B++)oe=(oe<<5)-oe+R[B],oe|=0;return oe},V=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var B=!0;return R.length===0&&(B=!1),R.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(B=!1),B},J=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var B=R.indexOf(",");return B<0?null:R.substring(0,B).trim().endsWith("base64")?R.substring(B+1):null};n.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},ee=n.__addimage__.binaryStringToUint8Array=function(R){for(var B=R.length,ie=new Uint8Array(B),oe=0;oe<B;oe++)ie[oe]=R.charCodeAt(oe);return ie},M=n.__addimage__.arrayBufferToBinaryString=function(R){for(var B="",ie=se(R)?R:new Uint8Array(R),oe=0;oe<ie.length;oe+=8192)B+=String.fromCharCode.apply(null,ie.subarray(oe,oe+8192));return B};n.addImage=function(){var R,B,ie,oe,pe,Q,ae,ue,ge;if(typeof arguments[1]=="number"?(B=t,ie=arguments[1],oe=arguments[2],pe=arguments[3],Q=arguments[4],ae=arguments[5],ue=arguments[6],ge=arguments[7]):(B=arguments[1],ie=arguments[2],oe=arguments[3],pe=arguments[4],Q=arguments[5],ae=arguments[6],ue=arguments[7],ge=arguments[8]),Ln(R=arguments[0])==="object"&&!v(R)&&"imageData"in R){var $=R;R=$.imageData,B=$.format||B||t,ie=$.x||ie||0,oe=$.y||oe||0,pe=$.w||$.width||pe,Q=$.h||$.height||Q,ae=$.alias||ae,ue=$.compression||ue,ge=$.rotation||$.angle||ge}var le=this.internal.getFilters();if(ue===void 0&&le.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(ie)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=P.call(this,R,B,ae,ue);return N.call(this,ie,oe,pe,Q,O,ge),this};var P=function(R,B,ie,oe){var pe,Q,ae;if(typeof R=="string"&&s(R)===t){R=unescape(R);var ue=W(R,!1);(ue!==""||(ue=n.loadFile(R,!0))!==void 0)&&(R=ue)}if(v(R)&&(R=y(R,B)),B=s(R,B),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ae=ie)==null||ae.length===0)&&(ie=(function(ge){return typeof ge=="string"||se(ge)?U(ge):se(ge.data)?U(ge.data):null})(R)),(pe=k.call(this,ie))||(R instanceof Uint8Array||B==="RGBA"||(Q=R,R=ee(R)),pe=this["process"+B.toUpperCase()](R,f.call(this),ie,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in n.image_compression?ge:D.NONE})(oe),Q)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},W=n.__addimage__.convertBase64ToBinaryString=function(R,B){B=typeof B!="boolean"||B;var ie,oe="";if(typeof R=="string"){var pe;ie=(pe=J(R))!==null&&pe!==void 0?pe:R;try{oe=E0(ie)}catch(Q){if(B)throw V(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(R){var B,ie,oe="";if(v(R)&&(R=y(R)),typeof R=="string"&&s(R)===t&&((oe=W(R,!1))===""&&(oe=n.loadFile(R)||""),R=oe),ie=s(R),!p(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(R instanceof Uint8Array||(R=ee(R)),!(B=this["process"+ie.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=ie,B}})(_t.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};_t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,s,r,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((i=h[p]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<h.length;v++){i=h[v];var y=this.internal.pdfEscape,k=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(A.objId),D=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+y(E(i.contents))+")",r+=" /Popup "+N.objId+" 0 R",r+=" /P "+c.objId+" 0 R",r+=" /T ("+y(E(D))+") >>",A.content=r;var U=A.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+U,i.open&&(r+=" /Open true"),r+=" >>",N.content=r,this.internal.write(A.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var V=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(k(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var J=this.annotations._nameMap[i.options.name];i.options.pageNumber=J.page,i.options.top=J.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(k(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;default:var se=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+se+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,s,r,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(t),y:h(i),w:c(t+s),h:h(i+r)},options:o,type:"link"})},n.textWithLink=function(t,i,s,r){var o,a,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){a=r.maxWidth;var f=this.splitTextToSize(t,a).length;o=Math.ceil(h*f)}else a=c,o=h;return this.text(t,i,s,r),s+=.2*h,r.align==="center"&&(i-=c/2),r.align==="right"&&(i-=c),this.link(i,s-h,a,o,r),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(_t.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var r=n.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},a=n.__arabicParser__.isArabicEndLetter=function(A){return o(A)&&r(A)&&e[A.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(A){return o(A)&&s.indexOf(A.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return o(A)&&r(A)&&e[A.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(A){return o(A)&&r(A)&&e[A.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(A){return o(A)&&r(A)&&e[A.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(A){return o(A)&&r(A)&&e[A.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(A){var N=0,E=t,D="",U=0;for(N=0;N<A.length;N+=1)E[A.charCodeAt(N)]!==void 0?(U++,typeof(E=E[A.charCodeAt(N)])=="number"&&(D+=String.fromCharCode(E),E=t,U=0),N===A.length-1&&(E=t,D+=A.charAt(N-(U-1)),N-=U-1,U=0)):(E=t,D+=A.charAt(N-U),N-=U,U=0);return D};n.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&i[A.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(A,N,E){return o(A)?r(A)===!1?-1:!h(A)||!o(N)&&!o(E)||!o(E)&&a(N)||a(A)&&!o(N)||a(A)&&c(N)||a(A)&&a(N)?0:f(A)&&o(N)&&!a(N)&&o(E)&&h(E)?3:a(A)||!o(E)?1:2:-1},y=function(A){var N=0,E=0,D=0,U="",V="",J="",se=(A=A||"").split("\\s+"),ee=[];for(N=0;N<se.length;N+=1){for(ee.push(""),E=0;E<se[N].length;E+=1)U=se[N][E],V=se[N][E-1],J=se[N][E+1],o(U)?(D=v(U,V,J),ee[N]+=D!==-1?String.fromCharCode(e[U.charCodeAt(0)][D]):U):ee[N]+=U;ee[N]=p(ee[N])}return ee.join(" ")},k=n.__arabicParser__.processArabic=n.processArabic=function(){var A,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(N)){var D=0;for(E=[],D=0;D<N.length;D+=1)Array.isArray(N[D])?E.push([y(N[D][0]),N[D][1],N[D][2]]):E.push([y(N[D])]);A=E}else A=y(N);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};n.events.push(["preProcessText",k])})(_t.API),_t.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(a){r=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(_t.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(A){k=A}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){i.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),v=h.scaleFactor||this.internal.scaleFactor,y=0,k=0,A=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=h.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(U,V){return U.concat(N.splitTextToSize(V,E))},[])):c=Array.isArray(c)?c:[c];for(var D=0;D<c.length;D++)y<(A=this.getStringUnitWidth(c[D],{font:p})*f)&&(y=A);return y!==0&&(k=c.length),{w:y/=v,h:Math.max((k*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,y&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,f,p,v){if(i.call(this),!f)throw new Error("No data for PDF table.");var y,k,A,N,E=[],D=[],U=[],V={},J={},se=[],ee=[],M=(v=v||{}).autoSize||!1,P=v.printHeaders!==!1,W=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,R=v.margins||Object.assign({width:this.getPageWidth()},e),B=typeof v.padding=="number"?v.padding:3,ie=v.headerBackgroundColor||"#c8c8c8",oe=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=oe,this.setFontSize(W),p==null)D=E=Object.keys(f[0]),U=E.map(function(){return"left"});else if(Array.isArray(p)&&Ln(p[0])==="object")for(E=p.map(function($){return $.name}),D=p.map(function($){return $.prompt||$.name||""}),U=p.map(function($){return $.align||"left"}),y=0;y<p.length;y+=1)J[p[y].name]=.7499990551181103*p[y].width;else Array.isArray(p)&&typeof p[0]=="string"&&(D=E=p,U=E.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(y=0;y<E.length;y+=1){for(V[N=E[y]]=f.map(function($){return $[N]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=V[N],this.setFont(void 0,"normal"),A=0;A<k.length;A+=1)se.push(this.getTextDimensions(k[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[N]=Math.max.apply(null,se)+B+B,se=[]}if(P){var pe={};for(y=0;y<E.length;y+=1)pe[E[y]]={},pe[E[y]].text=D[y],pe[E[y]].align=U[y];var Q=a.call(this,pe,J);ee=E.map(function($){return new r(c,h,J[$],Q,pe[$].text,void 0,pe[$].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var ae=p.reduce(function($,le){return $[le.name]=le.align,$},{});for(y=0;y<f.length;y+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:y,data:f[y]},this);var ue=a.call(this,f[y],J);for(A=0;A<E.length;A+=1){var ge=f[y][E[A]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:y,col:A,data:ge},this),o.call(this,new r(c,h,J[E[A]],ue,ge,y+2,ae[E[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var a=function(c,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(y){var k=c[y];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,h[y]-f-f)},this).map(function(y){return this.getLineHeightFactor()*y.length*p/v+f+f},this).reduce(function(y,k){return Math.max(y,k)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){f=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=c;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(k)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(_t.API);var _N={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tv=wN(SN),kN=[100,200,300,400,500,600,700,800,900],b$=wN(kN);function oy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(r){return _N[r=r||"normal"]?r:"normal"})(n.style),i=(function(r){return r?typeof r=="number"?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):r==="bold"?700:400:400})(n.weight),s=(function(r){return typeof tv[r=r||"normal"]=="number"?r:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,i].join(" ")}}}function pS(n,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(n[e[s]])return n[e[s]]}var y$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function vS(n){return n.trimLeft()}function v$(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function x$(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var d0,xS,wS,Od,f0,_S,SS,kS,ay=["times"];function AS(n,e,t,i,s){var r=4,o=NS;switch(s){case _t.API.image_compression.FAST:r=1,o=CS;break;case _t.API.image_compression.MEDIUM:r=6,o=ES;break;case _t.API.image_compression.SLOW:r=9,o=TS}n=(function(c,h,f,p){for(var v,y=c.length/h,k=new Uint8Array(c.length+y),A=[w$,CS,NS,ES,TS],N=0;N<y;N+=1){var E=N*h,D=c.subarray(E,E+h);if(p)k.set(p(D,f,v),E+N);else{for(var U=A.length,V=[],J=0;J<U;J+=1)V[J]=A[J](D,f,v);var se=S$(V.concat());k.set(V[se],E+N)}v=D}return k})(n,e,Math.ceil(t*i/8),o);var a=Ky(n,{level:r});return _t.API.__addimage__.arrayBufferToBinaryString(a)}function w$(n){var e=Array.apply([],n);return e.unshift(0),e}function CS(n,e){var t=n.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var r=n[s-e]||0;i[s+1]=n[s]-r+256&255}return i}function NS(n,e,t){var i=n.length,s=[];s[0]=2;for(var r=0;r<i;r+=1){var o=t&&t[r]||0;s[r+1]=n[r]-o+256&255}return s}function ES(n,e,t){var i=n.length,s=[];s[0]=3;for(var r=0;r<i;r+=1){var o=n[r-e]||0,a=t&&t[r]||0;s[r+1]=n[r]+256-(o+a>>>1)&255}return s}function TS(n,e,t){var i=n.length,s=[];s[0]=4;for(var r=0;r<i;r+=1){var o=_$(n[r-e]||0,t&&t[r]||0,t&&t[r-e]||0);s[r+1]=n[r]-o+256&255}return s}function _$(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),s=Math.abs(n-t),r=Math.abs(n+e-t-t);return i<=s&&i<=r?n:s<=r?e:t}function S$(n){var e=n.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function ly(n,e,t){var i=e*t,s=Math.floor(i/8),r=16-(i-8*s+t),o=(1<<t)-1;return AN(n,s)>>r&o}function PS(n,e,t,i){var s=t*i,r=Math.floor(s/8),o=16-(s-8*r+i),a=(1<<i)-1,c=(e&a)<<o;(function(h,f,p){if(f+1<h.byteLength)h.setUint16(f,p,!1);else{var v=p>>8&255;h.setUint8(f,v)}})(n,r,AN(n,r)&~(a<<o)&65535|c)}function AN(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function k$(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,s=n[e++],r=s>>7,o=1<<1+(7&s);n[e++],n[e++];var a=null,c=null;r&&(a=e,c=o,e+=3*o);var h=!0,f=[],p=0,v=null,y=0,k=null;for(this.width=t,this.height=i;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,k=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=n[e++];p=n[e++]|n[e++]<<8,v=n[e++],1&A||(v=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,U=n[e++]|n[e++]<<8,V=n[e++],J=V>>6&1,se=1<<1+(7&V),ee=a,M=c,P=!1;V>>7&&(P=!0,ee=e,M=se,e+=3*se);var W=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}f.push({x:N,y:E,width:D,height:U,has_local_palette:P,palette_offset:ee,palette_size:M,data_offset:W,data_length:e-W,transparent_index:v,interlaced:!!J,delay:p,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return k},this.frameInfo=function(B){if(B<0||B>=f.length)throw new Error("Frame index out of range.");return f[B]},this.decodeAndBlitFrameBGRA=function(B,ie){var oe=this.frameInfo(B),pe=oe.width*oe.height,Q=new Uint8Array(pe);MS(n,oe.data_offset,Q,pe);var ae=oe.palette_offset,ue=oe.transparent_index;ue===null&&(ue=256);var ge=oe.width,$=t-ge,le=ge,O=4*(oe.y*t+oe.x),I=4*((oe.y+oe.height)*t+oe.x),K=O,re=4*$;oe.interlaced===!0&&(re+=4*t*7);for(var ce=8,xe=0,ye=Q.length;xe<ye;++xe){var ke=Q[xe];if(le===0&&(le=ge,(K+=re)>=I&&(re=4*$+4*t*(ce-1),K=O+(ge+$)*(ce<<1),ce>>=1)),ke===ue)K+=4;else{var Le=n[ae+3*ke],Re=n[ae+3*ke+1],Ke=n[ae+3*ke+2];ie[K++]=Ke,ie[K++]=Re,ie[K++]=Le,ie[K++]=255}--le}},this.decodeAndBlitFrameRGBA=function(B,ie){var oe=this.frameInfo(B),pe=oe.width*oe.height,Q=new Uint8Array(pe);MS(n,oe.data_offset,Q,pe);var ae=oe.palette_offset,ue=oe.transparent_index;ue===null&&(ue=256);var ge=oe.width,$=t-ge,le=ge,O=4*(oe.y*t+oe.x),I=4*((oe.y+oe.height)*t+oe.x),K=O,re=4*$;oe.interlaced===!0&&(re+=4*t*7);for(var ce=8,xe=0,ye=Q.length;xe<ye;++xe){var ke=Q[xe];if(le===0&&(le=ge,(K+=re)>=I&&(re=4*$+4*t*(ce-1),K=O+(ge+$)*(ce<<1),ce>>=1)),ke===ue)K+=4;else{var Le=n[ae+3*ke],Re=n[ae+3*ke+1],Ke=n[ae+3*ke+2];ie[K++]=Le,ie[K++]=Re,ie[K++]=Ke,ie[K++]=255}--le}}}function MS(n,e,t,i){for(var s=n[e++],r=1<<s,o=r+1,a=o+1,c=s+1,h=(1<<c)-1,f=0,p=0,v=0,y=n[e++],k=new Int32Array(4096),A=null;;){for(;f<16&&y!==0;)p|=n[e++]<<f,f+=8,y===1?y=n[e++]:--y;if(f<c)break;var N=p&h;if(p>>=c,f-=c,N!==r){if(N===o)break;for(var E=N<a?N:A,D=0,U=E;U>r;)U=k[U]>>8,++D;var V=U;if(v+D+(E!==N?1:0)>i)return void Wn.log("Warning, gif stream longer than expected.");t[v++]=V;var J=v+=D;for(E!==N&&(t[v++]=V),U=E;D--;)U=k[U],t[--J]=255&U,U>>=8;A!==null&&a<4096&&(k[a++]=A<<8|V,a>=h+1&&c<12&&(++c,h=h<<1|1)),A=N}else a=o+1,h=(1<<(c=s+1))-1,A=null}return v!==i&&Wn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cy(n){var e,t,i,s,r,o=Math.floor,a=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),v=new Array(65535),y=new Array(64),k=new Array(64),A=[],N=0,E=7,D=new Array(64),U=new Array(64),V=new Array(64),J=new Array(256),se=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(O,I){for(var K=0,re=0,ce=new Array,xe=1;xe<=16;xe++){for(var ye=1;ye<=O[xe];ye++)ce[I[re]]=[],ce[I[re]][0]=K,ce[I[re]][1]=xe,re++,K++;K*=2}return ce}function ae(O){for(var I=O[0],K=O[1]-1;K>=0;)I&1<<K&&(N|=1<<E),K--,--E<0&&(N==255?(ue(255),ue(0)):ue(N),E=7,N=0)}function ue(O){A.push(O)}function ge(O){ue(O>>8&255),ue(255&O)}function $(O,I,K,re,ce){for(var xe,ye=ce[0],ke=ce[240],Le=(function(Be,pt){var tt,ut,bt,Ot,Lt,rt,dt,kt,et,Bt,lt=0;for(et=0;et<8;++et){tt=Be[lt],ut=Be[lt+1],bt=Be[lt+2],Ot=Be[lt+3],Lt=Be[lt+4],rt=Be[lt+5],dt=Be[lt+6];var mn=tt+(kt=Be[lt+7]),$t=tt-kt,It=ut+dt,zt=ut-dt,En=bt+rt,wt=bt-rt,Rn=Ot+Lt,At=Ot-Lt,Ht=mn+Rn,Dn=mn-Rn,Kt=It+En,Ct=It-En;Be[lt]=Ht+Kt,Be[lt+4]=Ht-Kt;var vn=.707106781*(Ct+Dn);Be[lt+2]=Dn+vn,Be[lt+6]=Dn-vn;var ma=.382683433*((Ht=At+wt)-(Ct=zt+$t)),Gi=.5411961*Ht+ma,Tr=1.306562965*Ct+ma,Pr=.707106781*(Kt=wt+zt),Nt=$t+Pr,ls=$t-Pr;Be[lt+5]=ls+Gi,Be[lt+3]=ls-Gi,Be[lt+1]=Nt+Tr,Be[lt+7]=Nt-Tr,lt+=8}for(lt=0,et=0;et<8;++et){tt=Be[lt],ut=Be[lt+8],bt=Be[lt+16],Ot=Be[lt+24],Lt=Be[lt+32],rt=Be[lt+40],dt=Be[lt+48];var $n=tt+(kt=Be[lt+56]),Vn=tt-kt,Ji=ut+dt,Kn=ut-dt,$i=bt+rt,Qi=bt-rt,pa=Ot+Lt,dr=Ot-Lt,Xs=$n+pa,_s=$n-pa,cs=Ji+$i,Ss=Ji-$i;Be[lt]=Xs+cs,Be[lt+32]=Xs-cs;var Zi=.707106781*(Ss+_s);Be[lt+16]=_s+Zi,Be[lt+48]=_s-Zi;var Yn=.382683433*((Xs=dr+Qi)-(Ss=Kn+Vn)),Mr=.5411961*Xs+Yn,ba=1.306562965*Ss+Yn,fr=.707106781*(cs=Qi+Kn),Or=Vn+fr,lc=Vn-fr;Be[lt+40]=lc+Mr,Be[lt+24]=lc-Mr,Be[lt+8]=Or+ba,Be[lt+56]=Or-ba,lt++}for(et=0;et<64;++et)Bt=Be[et]*pt[et],y[et]=Bt>0?Bt+.5|0:Bt-.5|0;return y})(O,I),Re=0;Re<64;++Re)k[ee[Re]]=Le[Re];var Ke=k[0]-K;K=k[0],Ke==0?ae(re[0]):(ae(re[v[xe=32767+Ke]]),ae(p[xe]));for(var Ye=63;Ye>0&&k[Ye]==0;)Ye--;if(Ye==0)return ae(ye),K;for(var Qe,Y=1;Y<=Ye;){for(var Ue=Y;k[Y]==0&&Y<=Ye;)++Y;var mt=Y-Ue;if(mt>=16){Qe=mt>>4;for(var Xe=1;Xe<=Qe;++Xe)ae(ke);mt&=15}xe=32767+k[Y],ae(ce[(mt<<4)+v[xe]]),ae(p[xe]),Y++}return Ye!=63&&ae(ye),K}function le(O){O=Math.min(Math.max(O,1),100),r!=O&&((function(I){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=o((K[re]*I+50)/100);ce=Math.min(Math.max(ce,1),255),a[ee[re]]=ce}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ke=o((xe[ye]*I+50)/100);ke=Math.min(Math.max(ke,1),255),c[ee[ye]]=ke}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ke=0;Ke<8;Ke++)for(var Ye=0;Ye<8;Ye++)h[Re]=1/(a[ee[Re]]*Le[Ke]*Le[Ye]*8),f[Re]=1/(c[ee[Re]]*Le[Ke]*Le[Ye]*8),Re++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),r=O)}this.encode=function(O,I){I&&le(I),A=new Array,N=0,E=7,ge(65496),ge(65504),ge(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),ge(1),ge(1),ue(0),ue(0),(function(){ge(65499),ge(132),ue(0);for(var ut=0;ut<64;ut++)ue(a[ut]);ue(1);for(var bt=0;bt<64;bt++)ue(c[bt])})(),(function(ut,bt){ge(65472),ge(17),ue(8),ge(bt),ge(ut),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(O.width,O.height),(function(){ge(65476),ge(418),ue(0);for(var ut=0;ut<16;ut++)ue(M[ut+1]);for(var bt=0;bt<=11;bt++)ue(P[bt]);ue(16);for(var Ot=0;Ot<16;Ot++)ue(W[Ot+1]);for(var Lt=0;Lt<=161;Lt++)ue(R[Lt]);ue(1);for(var rt=0;rt<16;rt++)ue(B[rt+1]);for(var dt=0;dt<=11;dt++)ue(ie[dt]);ue(17);for(var kt=0;kt<16;kt++)ue(oe[kt+1]);for(var et=0;et<=161;et++)ue(pe[et])})(),ge(65498),ge(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var K=0,re=0,ce=0;N=0,E=7,this.encode.displayName="_encode_";for(var xe,ye,ke,Le,Re,Ke,Ye,Qe,Y,Ue=O.data,mt=O.width,Xe=O.height,Be=4*mt,pt=0;pt<Xe;){for(xe=0;xe<Be;){for(Re=Be*pt+xe,Ye=-1,Qe=0,Y=0;Y<64;Y++)Ke=Re+(Qe=Y>>3)*Be+(Ye=4*(7&Y)),pt+Qe>=Xe&&(Ke-=Be*(pt+1+Qe-Xe)),xe+Ye>=Be&&(Ke-=xe+Ye-Be+4),ye=Ue[Ke++],ke=Ue[Ke++],Le=Ue[Ke++],D[Y]=(se[ye]+se[ke+256|0]+se[Le+512|0]>>16)-128,U[Y]=(se[ye+768|0]+se[ke+1024|0]+se[Le+1280|0]>>16)-128,V[Y]=(se[ye+1280|0]+se[ke+1536|0]+se[Le+1792|0]>>16)-128;K=$(D,h,K,e,i),re=$(U,f,re,t,s),ce=$(V,f,ce,t,s),xe+=32}pt+=8}if(E>=0){var tt=[];tt[1]=E+1,tt[0]=(1<<E+1)-1,ae(tt)}return ge(65497),new Uint8Array(A)},n=n||50,(function(){for(var O=String.fromCharCode,I=0;I<256;I++)J[I]=O(I)})(),e=Q(M,P),t=Q(B,ie),i=Q(W,R),s=Q(oe,pe),(function(){for(var O=1,I=2,K=1;K<=15;K++){for(var re=O;re<I;re++)v[32767+re]=K,p[32767+re]=[],p[32767+re][1]=K,p[32767+re][0]=re;for(var ce=-(I-1);ce<=-O;ce++)v[32767+ce]=K,p[32767+ce]=[],p[32767+ce][1]=K,p[32767+ce][0]=I-1+ce;O<<=1,I<<=1}})(),(function(){for(var O=0;O<256;O++)se[O]=19595*O,se[O+256|0]=38470*O,se[O+512|0]=7471*O+32768,se[O+768|0]=-11059*O,se[O+1024|0]=-21709*O,se[O+1280|0]=32768*O+8421375,se[O+1536|0]=-27439*O,se[O+1792|0]=-5329*O})(),le(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function na(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function OS(n){function e(P){if(!P)throw Error("assert :P")}function t(P,W,R){for(var B=0;4>B;B++)if(P[W+B]!=R.charCodeAt(B))return!0;return!1}function i(P,W,R,B,ie){for(var oe=0;oe<ie;oe++)P[W+oe]=R[B+oe]}function s(P,W,R,B){for(var ie=0;ie<B;ie++)P[W+ie]=R}function r(P){return new Int32Array(P)}function o(P,W){for(var R=[],B=0;B<P;B++)R.push(new W);return R}function a(P,W){var R=[];return(function B(ie,oe,pe){for(var Q=pe[oe],ae=0;ae<Q&&(ie.push(pe.length>oe+1?[]:new W),!(pe.length<oe+1));ae++)B(ie[ae],oe+1,pe)})(R,0,P),R}var c=function(){var P=this;function W(b,w){for(var C=1<<w-1>>>0;b&C;)C>>>=1;return C?(b&C-1)+C:b}function R(b,w,C,T,F){e(!(T%C));do b[w+(T-=C)]=F;while(0<T)}function B(b,w,C,T,F){if(e(2328>=F),512>=F)var z=r(512);else if((z=r(F))==null)return 0;return(function(q,G,X,te,me,Ee){var Z,ve,Ae=G,De=1<<X,Ne=r(16),Fe=r(16);for(e(me!=0),e(te!=null),e(q!=null),e(0<X),ve=0;ve<me;++ve){if(15<te[ve])return 0;++Ne[te[ve]]}if(Ne[0]==me)return 0;for(Fe[1]=0,Z=1;15>Z;++Z){if(Ne[Z]>1<<Z)return 0;Fe[Z+1]=Fe[Z]+Ne[Z]}for(ve=0;ve<me;++ve)Z=te[ve],0<te[ve]&&(Ee[Fe[Z]++]=ve);if(Fe[15]==1)return(te=new ie).g=0,te.value=Ee[0],R(q,Ae,1,De,te),De;var je,$e=-1,qe=De-1,vt=0,st=1,Vt=1,at=1<<X;for(ve=0,Z=1,me=2;Z<=X;++Z,me<<=1){if(st+=Vt<<=1,0>(Vt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z])(te=new ie).g=Z,te.value=Ee[ve++],R(q,Ae+vt,me,at,te),vt=W(vt,Z)}for(Z=X+1,me=2;15>=Z;++Z,me<<=1){if(st+=Vt<<=1,0>(Vt-=Ne[Z]))return 0;for(;0<Ne[Z];--Ne[Z]){if(te=new ie,(vt&qe)!=$e){for(Ae+=at,je=1<<($e=Z)-X;15>$e&&!(0>=(je-=Ne[$e]));)++$e,je<<=1;De+=at=1<<(je=$e-X),q[G+($e=vt&qe)].g=je+X,q[G+$e].value=Ae-G-$e}te.g=Z-X,te.value=Ee[ve++],R(q,Ae+(vt>>X),me,at,te),vt=W(vt,Z)}}return st!=2*Fe[15]-1?0:De})(b,w,C,T,F,z)}function ie(){this.value=this.g=0}function oe(){this.value=this.g=0}function pe(){this.G=o(5,ie),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Io,oe)}function Q(b,w,C,T){e(b!=null),e(w!=null),e(2147483648>T),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=w,b.pa=C,b.Jd=w,b.Yc=C+T,b.Zc=4<=T?C+T-4+1:C,ye(b)}function ae(b,w){for(var C=0;0<w--;)C|=Le(b,128)<<w;return C}function ue(b,w){var C=ae(b,w);return ke(b)?-C:C}function ge(b,w,C,T){var F,z=0;for(e(b!=null),e(w!=null),e(4294967288>T),b.Sb=T,b.Ra=0,b.u=0,b.h=0,4<T&&(T=4),F=0;F<T;++F)z+=w[C+F]<<8*F;b.Ra=z,b.bb=T,b.oa=w,b.pa=C}function $(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<zo-8>>>0,++b.bb,b.u-=8;re(b)&&(b.h=1,b.u=0)}function le(b,w){if(e(0<=w),!b.h&&w<=js){var C=K(b)&Cs[w];return b.u+=w,$(b),C}return b.h=1,b.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(b){return b.Ra>>>(b.u&zo-1)>>>0}function re(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>zo}function ce(b,w){b.u=w,b.h=re(b)}function xe(b){b.u>=uo&&(e(b.u>=uo),$(b))}function ye(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ke(b){return ae(b,1)}function Le(b,w){var C=b.Ca;0>b.b&&ye(b);var T=b.b,F=C*w>>>8,z=(b.I>>>T>F)+0;for(z?(C-=F,b.I-=F+1<<T>>>0):C=F+1,T=C,F=0;256<=T;)F+=8,T>>=8;return T=7^F+Ta[T],b.b-=T,b.Ca=(C<<T)-1,z}function Re(b,w,C){b[w+0]=C>>24&255,b[w+1]=C>>16&255,b[w+2]=C>>8&255,b[w+3]=255&C}function Ke(b,w){return b[w+0]|b[w+1]<<8}function Ye(b,w){return Ke(b,w)|b[w+2]<<16}function Qe(b,w){return Ke(b,w)|Ke(b,w+2)<<16}function Y(b,w){var C=1<<w;return e(b!=null),e(0<w),b.X=r(C),b.X==null?0:(b.Mb=32-w,b.Xa=w,1)}function Ue(b,w){e(b!=null),e(w!=null),e(b.Xa==w.Xa),i(w.X,0,b.X,0,1<<w.Xa)}function mt(){this.X=[],this.Xa=this.Mb=0}function Xe(b,w,C,T){e(C!=null),e(T!=null);var F=C[0],z=T[0];return F==0&&(F=(b*z+w/2)/w),z==0&&(z=(w*F+b/2)/b),0>=F||0>=z?0:(C[0]=F,T[0]=z,1)}function Be(b,w){return b+(1<<w)-1>>>w}function pt(b,w){return((4278255360&b)+(4278255360&w)>>>0&4278255360)+((16711935&b)+(16711935&w)>>>0&16711935)>>>0}function tt(b,w){P[w]=function(C,T,F,z,q,G,X){var te;for(te=0;te<q;++te){var me=P[b](G[X+te-1],F,z+te);G[X+te]=pt(C[T+te],me)}}}function ut(){this.ud=this.hd=this.jd=0}function bt(b,w){return((4278124286&(b^w))>>>1)+(b&w)>>>0}function Ot(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Lt(b,w){return Ot(b+(b-w+.5>>1))}function rt(b,w,C){return Math.abs(w-C)-Math.abs(b-C)}function dt(b,w,C,T,F,z,q){for(T=z[q-1],C=0;C<F;++C)z[q+C]=T=pt(b[w+C],T)}function kt(b,w,C,T,F){var z;for(z=0;z<C;++z){var q=b[w+z],G=q>>8&255,X=16711935&(X=(X=16711935&q)+((G<<16)+G));T[F+z]=(4278255360&q)+X>>>0}}function et(b,w){w.jd=255&b,w.hd=b>>8&255,w.ud=b>>16&255}function Bt(b,w,C,T,F,z){var q;for(q=0;q<T;++q){var G=w[C+q],X=G>>>8,te=G,me=255&(me=(me=G>>>16)+((b.jd<<24>>24)*(X<<24>>24)>>>5));te=255&(te=(te+=(b.hd<<24>>24)*(X<<24>>24)>>>5)+((b.ud<<24>>24)*(me<<24>>24)>>>5)),F[z+q]=(4278255360&G)+(me<<16)+te}}function lt(b,w,C,T,F){P[w]=function(z,q,G,X,te,me,Ee,Z,ve){for(X=Ee;X<Z;++X)for(Ee=0;Ee<ve;++Ee)te[me++]=F(G[T(z[q++])])},P[b]=function(z,q,G,X,te,me,Ee){var Z=8>>z.b,ve=z.Ea,Ae=z.K[0],De=z.w;if(8>Z)for(z=(1<<z.b)-1,De=(1<<Z)-1;q<G;++q){var Ne,Fe=0;for(Ne=0;Ne<ve;++Ne)Ne&z||(Fe=T(X[te++])),me[Ee++]=F(Ae[Fe&De]),Fe>>=Z}else P["VP8LMapColor"+C](X,te,Ae,De,me,Ee,q,G,ve)}}function mn(b,w,C,T,F){for(C=w+C;w<C;){var z=b[w++];T[F++]=z>>16&255,T[F++]=z>>8&255,T[F++]=255&z}}function $t(b,w,C,T,F){for(C=w+C;w<C;){var z=b[w++];T[F++]=z>>16&255,T[F++]=z>>8&255,T[F++]=255&z,T[F++]=z>>24&255}}function It(b,w,C,T,F){for(C=w+C;w<C;){var z=(q=b[w++])>>16&240|q>>12&15,q=240&q|q>>28&15;T[F++]=z,T[F++]=q}}function zt(b,w,C,T,F){for(C=w+C;w<C;){var z=(q=b[w++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;T[F++]=z,T[F++]=q}}function En(b,w,C,T,F){for(C=w+C;w<C;){var z=b[w++];T[F++]=255&z,T[F++]=z>>8&255,T[F++]=z>>16&255}}function wt(b,w,C,T,F,z){if(z==0)for(C=w+C;w<C;)Re(T,((z=b[w++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),F+=32;else i(T,F,b,w,C)}function Rn(b,w){P[w][0]=P[b+"0"],P[w][1]=P[b+"1"],P[w][2]=P[b+"2"],P[w][3]=P[b+"3"],P[w][4]=P[b+"4"],P[w][5]=P[b+"5"],P[w][6]=P[b+"6"],P[w][7]=P[b+"7"],P[w][8]=P[b+"8"],P[w][9]=P[b+"9"],P[w][10]=P[b+"10"],P[w][11]=P[b+"11"],P[w][12]=P[b+"12"],P[w][13]=P[b+"13"],P[w][14]=P[b+"0"],P[w][15]=P[b+"0"]}function At(b){return b==Pu||b==Ma||b==Ho||b==Nc}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function Dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new Dn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ma(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Gi(b,w){var C=b.T,T=w.ba.f.RGBA,F=T.eb,z=T.fb+b.ka*T.A,q=Xi[w.ba.S],G=b.y,X=b.O,te=b.f,me=b.N,Ee=b.ea,Z=b.W,ve=w.cc,Ae=w.dc,De=w.Mc,Ne=w.Nc,Fe=b.ka,je=b.ka+b.T,$e=b.U,qe=$e+1>>1;for(Fe==0?q(G,X,null,null,te,me,Ee,Z,te,me,Ee,Z,F,z,null,null,$e):(q(w.ec,w.fc,G,X,ve,Ae,De,Ne,te,me,Ee,Z,F,z-T.A,F,z,$e),++C);Fe+2<je;Fe+=2)ve=te,Ae=me,De=Ee,Ne=Z,me+=b.Rc,Z+=b.Rc,z+=2*T.A,q(G,(X+=2*b.fa)-b.fa,G,X,ve,Ae,De,Ne,te,me,Ee,Z,F,z-T.A,F,z,$e);return X+=b.fa,b.j+je<b.o?(i(w.ec,w.fc,G,X,$e),i(w.cc,w.dc,te,me,qe),i(w.Mc,w.Nc,Ee,Z,qe),C--):1&je||q(G,X,null,null,te,me,Ee,Z,te,me,Ee,Z,F,z+T.A,null,null,$e),C}function Tr(b,w,C){var T=b.F,F=[b.J];if(T!=null){var z=b.U,q=w.ba.S,G=q==yl||q==Ho;w=w.ba.f.RGBA;var X=[0],te=b.ka;X[0]=b.T,b.Kb&&(te==0?--X[0]:(--te,F[0]-=b.width),b.j+b.ka+b.T==b.o&&(X[0]=b.o-b.j-te));var me=w.eb;te=w.fb+te*w.A,b=sr(T,F[0],b.width,z,X,me,te+(G?0:3),w.A),e(C==X),b&&At(q)&&Ac(me,te,G,z,X,w.A)}return 0}function Pr(b){var w=b.ma,C=w.ba.S,T=11>C,F=C==Cc||C==Tu||C==yl||C==qo||C==12||At(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Ea(w.Oa,b,F?11:12))return 0;if(F&&At(C)&&hl(),b.da)alert("todo:use_scaling");else{if(T){if(w.Ib=ma,b.Kb){if(C=b.U+1>>1,w.memory=r(b.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+b.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Gi,hl()}}else alert("todo:EmitYUV");F&&(w.Jb=Tr,T&&Ir())}if(T&&!qm){for(b=0;256>b;++b)z1[b]=89858*(b-128)+Ri>>yo,Lu[b]=-22014*(b-128)+Ri,wf[b]=-45773*(b-128),Di[b]=113618*(b-128)+Ri>>yo;for(b=Ra;b<ed;++b)w=76283*(b-16)+Ri>>yo,Ru[b-Ra]=no(w,255),_f[b-Ra]=no(w+8>>4,15);qm=1}return 1}function Nt(b){var w=b.ma,C=b.U,T=b.T;return e(!(1&b.ka)),0>=C||0>=T?0:(C=w.Ib(b,w),w.Jb!=null&&w.Jb(b,w,C),w.Dc+=C,1)}function ls(b){b.ma.memory=null}function $n(b,w,C,T){return le(b,8)!=47?0:(w[0]=le(b,14)+1,C[0]=le(b,14)+1,T[0]=le(b,1),le(b,3)!=0?0:!b.h)}function Vn(b,w){if(4>b)return b+1;var C=b-2>>1;return(2+(1&b)<<C)+le(w,C)+1}function Ji(b,w){return 120<w?w-120:1<=(C=((C=Go[w-1])>>4)*b+(8-(15&C)))?C:1;var C}function Kn(b,w,C){var T=K(C),F=b[w+=255&T].g-8;return 0<F&&(ce(C,C.u+8),T=K(C),w+=b[w].value,w+=T&(1<<F)-1),ce(C,C.u+b[w].g),b[w].value}function $i(b,w,C){return C.g+=b.g,C.value+=b.value<<w>>>0,e(8>=C.g),b.g}function Qi(b,w,C){var T=b.xc;return e((w=T==0?0:b.vc[b.md*(C>>T)+(w>>T)])<b.Wb),b.Ya[w]}function pa(b,w,C,T){var F=b.ab,z=b.c*w,q=b.C;w=q+w;var G=C,X=T;for(T=b.Ta,C=b.Ua;0<F--;){var te=b.gc[F],me=q,Ee=w,Z=G,ve=X,Ae=(X=T,G=C,te.Ea);switch(e(me<Ee),e(Ee<=te.nc),te.hc){case 2:pi(Z,ve,(Ee-me)*Ae,X,G);break;case 0:var De=me,Ne=Ee,Fe=X,je=G,$e=(at=te).Ea;De==0&&(Cu(Z,ve,null,null,1,Fe,je),dt(Z,ve+1,0,0,$e-1,Fe,je+1),ve+=$e,je+=$e,++De);for(var qe=1<<at.b,vt=qe-1,st=Be($e,at.b),Vt=at.K,at=at.w+(De>>at.b)*st;De<Ne;){var sn=Vt,Ai=at,jt=1;for(vc(Z,ve,Fe,je-$e,1,Fe,je);jt<$e;){var ct=(jt&~vt)+qe;ct>$e&&(ct=$e),(0,wc[sn[Ai++]>>8&15])(Z,ve+ +jt,Fe,je+jt-$e,ct-jt,Fe,je+jt),jt=ct}ve+=$e,je+=$e,++De&vt||(at+=st)}Ee!=te.nc&&i(X,G-Ae,X,G+(Ee-me-1)*Ae,Ae);break;case 1:for(Ae=Z,Ne=ve,$e=(Z=te.Ea)-(je=Z&~(Fe=(ve=1<<te.b)-1)),De=Be(Z,te.b),qe=te.K,te=te.w+(me>>te.b)*De;me<Ee;){for(vt=qe,st=te,Vt=new ut,at=Ne+je,sn=Ne+Z;Ne<at;)et(vt[st++],Vt),_c(Vt,Ae,Ne,ve,X,G),Ne+=ve,G+=ve;Ne<sn&&(et(vt[st++],Vt),_c(Vt,Ae,Ne,$e,X,G),Ne+=$e,G+=$e),++me&Fe||(te+=De)}break;case 3:if(Z==X&&ve==G&&0<te.b){for(Ne=X,Z=Ae=G+(Ee-me)*Ae-(je=(Ee-me)*Be(te.Ea,te.b)),ve=X,Fe=G,De=[],je=($e=je)-1;0<=je;--je)De[je]=ve[Fe+je];for(je=$e-1;0<=je;--je)Ne[Z+je]=De[je];qh(te,me,Ee,X,Ae,X,G)}else qh(te,me,Ee,Z,ve,X,G)}G=T,X=C}X!=C&&i(T,C,G,X,z)}function dr(b,w){var C=b.V,T=b.Ba+b.c*b.C,F=w-b.C;if(e(w<=b.l.o),e(16>=F),0<F){var z=b.l,q=b.Ta,G=b.Ua,X=z.width;if(pa(b,F,C,T),F=G=[G],e((C=b.C)<(T=w)),e(z.v<z.va),T>z.o&&(T=z.o),C<z.j){var te=z.j-C;C=z.j,F[0]+=te*X}if(C>=T?C=0:(F[0]+=4*z.v,z.ka=C-z.j,z.U=z.va-z.v,z.T=T-C,C=1),C){if(G=G[0],11>(C=b.ca).S){var me=C.f.RGBA,Ee=(T=C.S,F=z.U,z=z.T,te=me.eb,me.A),Z=z;for(me=me.fb+b.Ma*me.A;0<Z--;){var ve=q,Ae=G,De=F,Ne=te,Fe=me;switch(T){case fs:Sc(ve,Ae,De,Ne,Fe);break;case Cc:ho(ve,Ae,De,Ne,Fe);break;case Pu:ho(ve,Ae,De,Ne,Fe),Ac(Ne,Fe,0,De,1,0);break;case go:Vo(ve,Ae,De,Ne,Fe);break;case Tu:wt(ve,Ae,De,Ne,Fe,1);break;case Ma:wt(ve,Ae,De,Ne,Fe,1),Ac(Ne,Fe,0,De,1,0);break;case yl:wt(ve,Ae,De,Ne,Fe,0);break;case Ho:wt(ve,Ae,De,Ne,Fe,0),Ac(Ne,Fe,1,De,1,0);break;case qo:Pa(ve,Ae,De,Ne,Fe);break;case Nc:Pa(ve,Ae,De,Ne,Fe),ir(Ne,Fe,De,1,0);break;case Yh:tr(ve,Ae,De,Ne,Fe);break;default:e(0)}G+=X,me+=Ee}b.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=C.height)}}b.C=w,e(b.C<=b.i)}function Xs(b){var w;if(0<b.ua)return 0;for(w=0;w<b.Wb;++w){var C=b.Ya[w].G,T=b.Ya[w].H;if(0<C[1][T[1]+0].g||0<C[2][T[2]+0].g||0<C[3][T[3]+0].g)return 0}return 1}function _s(b,w,C,T,F,z){if(b.Z!=0){var q=b.qd,G=b.rd;for(e(po[b.Z]!=null);w<C;++w)po[b.Z](q,G,T,F,T,F,z),q=T,G=F,F+=z;b.qd=q,b.rd=G}}function cs(b,w){var C=b.l.ma,T=C.Z==0||C.Z==1?b.l.j:b.C;if(T=b.C<T?T:b.C,e(w<=b.l.o),w>T){var F=b.l.width,z=C.ca,q=C.tb+F*T,G=b.V,X=b.Ba+b.c*T,te=b.gc;e(b.ab==1),e(te[0].hc==3),Fs(te[0],T,w,G,X,z,q),_s(C,T,w,z,q,F)}b.C=b.Ma=w}function Ss(b,w,C,T,F,z,q){var G=b.$/T,X=b.$%T,te=b.m,me=b.s,Ee=C+b.$,Z=Ee;F=C+T*F;var ve=C+T*z,Ae=280+me.ua,De=b.Pb?G:16777216,Ne=0<me.ua?me.Wa:null,Fe=me.wc,je=Ee<ve?Qi(me,X,G):null;e(b.C<z),e(ve<=F);var $e=!1;e:for(;;){for(;$e||Ee<ve;){var qe=0;if(G>=De){var vt=Ee-C;e((De=b).Pb),De.wd=De.m,De.xd=vt,0<De.s.ua&&Ue(De.s.Wa,De.s.vb),De=G+zm}if(X&Fe||(je=Qi(me,X,G)),e(je!=null),je.Qb&&(w[Ee]=je.qb,$e=!0),!$e)if(xe(te),je.jc){qe=te,vt=w;var st=Ee,Vt=je.pd[K(qe)&Io-1];e(je.jc),256>Vt.g?(ce(qe,qe.u+Vt.g),vt[st]=Vt.value,qe=0):(ce(qe,qe.u+Vt.g-256),e(256<=Vt.value),qe=Vt.value),qe==0&&($e=!0)}else qe=Kn(je.G[0],je.H[0],te);if(te.h)break;if($e||256>qe){if(!$e)if(je.nd)w[Ee]=(je.qb|qe<<8)>>>0;else{if(xe(te),$e=Kn(je.G[1],je.H[1],te),xe(te),vt=Kn(je.G[2],je.H[2],te),st=Kn(je.G[3],je.H[3],te),te.h)break;w[Ee]=(st<<24|$e<<16|qe<<8|vt)>>>0}if($e=!1,++Ee,++X>=T&&(X=0,++G,q!=null&&G<=z&&!(G%16)&&q(b,G),Ne!=null))for(;Z<Ee;)qe=w[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else if(280>qe){if(qe=Vn(qe-256,te),vt=Kn(je.G[4],je.H[4],te),xe(te),vt=Ji(T,vt=Vn(vt,te)),te.h)break;if(Ee-C<vt||F-Ee<qe)break e;for(st=0;st<qe;++st)w[Ee+st]=w[Ee+st-vt];for(Ee+=qe,X+=qe;X>=T;)X-=T,++G,q!=null&&G<=z&&!(G%16)&&q(b,G);if(e(Ee<=F),X&Fe&&(je=Qi(me,X,G)),Ne!=null)for(;Z<Ee;)qe=w[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe}else{if(!(qe<Ae))break e;for($e=qe-280,e(Ne!=null);Z<Ee;)qe=w[Z++],Ne.X[(506832829*qe&4294967295)>>>Ne.Mb]=qe;qe=Ee,e(!($e>>>(vt=Ne).Xa)),w[qe]=vt.X[$e],$e=!0}$e||e(te.h==re(te))}if(b.Pb&&te.h&&Ee<F)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ue(b.s.vb,b.s.Wa);else{if(te.h)break e;q?.(b,G>z?z:G),b.a=0,b.$=Ee-C}return 1}return b.a=3,0}function Zi(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var w=b.Wa;w!=null&&(w.X=null),b.vb=null,e(b!=null)}function Yn(){var b=new Dt;return b==null?null:(b.a=0,b.xb=Ec,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),pi=kt,_c=Bt,Sc=mn,ho=$t,Pa=It,tr=zt,Vo=En,P.VP8LMapColor32b=si,P.VP8LMapColor8b=xc,b)}function Mr(b,w,C,T,F){var z=1,q=[b],G=[w],X=T.m,te=T.s,me=null,Ee=0;e:for(;;){if(C)for(;z&&le(X,1);){var Z=q,ve=G,Ae=T,De=1,Ne=Ae.m,Fe=Ae.gc[Ae.ab],je=le(Ne,2);if(Ae.Oc&1<<je)z=0;else{switch(Ae.Oc|=1<<je,Fe.hc=je,Fe.Ea=Z[0],Fe.nc=ve[0],Fe.K=[null],++Ae.ab,e(4>=Ae.ab),je){case 0:case 1:Fe.b=le(Ne,3)+2,De=Mr(Be(Fe.Ea,Fe.b),Be(Fe.nc,Fe.b),0,Ae,Fe.K),Fe.K=Fe.K[0];break;case 3:var $e,qe=le(Ne,8)+1,vt=16<qe?0:4<qe?1:2<qe?2:3;if(Z[0]=Be(Fe.Ea,vt),Fe.b=vt,$e=De=Mr(qe,1,0,Ae,Fe.K)){var st,Vt=qe,at=Fe,sn=1<<(8>>at.b),Ai=r(sn);if(Ai==null)$e=0;else{var jt=at.K[0],ct=at.w;for(Ai[0]=at.K[0][0],st=1;st<1*Vt;++st)Ai[st]=pt(jt[ct+st],Ai[st-1]);for(;st<4*sn;++st)Ai[st]=0;at.K[0]=null,at.K[0]=Ai,$e=1}}De=$e;break;case 2:break;default:e(0)}z=De}}if(q=q[0],G=G[0],z&&le(X,1)&&!(z=1<=(Ee=le(X,4))&&11>=Ee)){T.a=3;break e}var Ze;if(Ze=z)t:{var ti,Ut,Qt,ht=T,Wt=q,dn=G,qn=Ee,bi=C,yi=ht.m,ai=ht.s,tn=[null],fn=1,li=0,Tt=xl[qn];n:for(;;){if(bi&&le(yi,1)){var ji=le(yi,3)+2,ar=Be(Wt,ji),ci=Be(dn,ji),Es=ar*ci;if(!Mr(ar,ci,0,ht,tn))break n;for(tn=tn[0],ai.xc=ji,ti=0;ti<Es;++ti){var Tn=tn[ti]>>8&65535;tn[ti]=Tn,Tn>=fn&&(fn=Tn+1)}}if(yi.h)break n;for(Ut=0;5>Ut;++Ut){var vi=rr[Ut];!Ut&&0<qn&&(vi+=1<<qn),li<vi&&(li=vi)}var Ts=o(fn*Tt,ie),ts=fn,Fn=o(ts,pe);if(Fn==null)var pn=null;else e(65536>=ts),pn=Fn;var gs=r(li);if(pn==null||gs==null||Ts==null){ht.a=1;break n}var ns=Ts;for(ti=Qt=0;ti<fn;++ti){var Cn=pn[ti],Ps=Cn.G,Fi=Cn.H,vo=0,zr=1,Bi=0;for(Ut=0;5>Ut;++Ut){vi=rr[Ut],Ps[Ut]=ns,Fi[Ut]=Qt,!Ut&&0<qn&&(vi+=1<<qn);s:{var Du,td=vi,ju=ht,Pc=gs,Gm=ns,$m=Qt,Fu=0,Xo=ju.m,U1=le(Xo,1);if(s(Pc,0,0,td),U1){var Km=le(Xo,1)+1,Ym=le(Xo,1),Sf=le(Xo,Ym==0?1:8);Pc[Sf]=1,Km==2&&(Pc[Sf=le(Xo,8)]=1);var Mc=1}else{var kf=r(19),Af=le(Xo,4)+4;if(19<Af){ju.a=3;var Bu=0;break s}for(Du=0;Du<Af;++Du)kf[Wo[Du]]=le(Xo,3);var nd=void 0,Oc=void 0,Xm=ju,Jm=kf,Jo=td,Iu=Pc,id=0,Vr=Xm.m,Lc=8,Cf=o(128,ie);i:for(;B(Cf,0,7,Jm,19);){if(le(Vr,1)){var Qm=2+2*le(Vr,3);if((nd=2+le(Vr,Qm))>Jo)break i}else nd=Jo;for(Oc=0;Oc<Jo&&nd--;){xe(Vr);var Nf=Cf[0+(127&K(Vr))];ce(Vr,Vr.u+Nf.g);var Sl=Nf.value;if(16>Sl)Iu[Oc++]=Sl,Sl!=0&&(Lc=Sl);else{var Zm=Sl==16,Ef=Sl-16,Tf=xr[Ef],Pf=le(Vr,Xh[Ef])+Tf;if(Oc+Pf>Jo)break i;for(var ep=Zm?Lc:0;0<Pf--;)Iu[Oc++]=ep}}id=1;break i}id||(Xm.a=3),Mc=id}(Mc=Mc&&!Xo.h)&&(Fu=B(Gm,$m,8,Pc,td)),Mc&&Fu!=0?Bu=Fu:(ju.a=3,Bu=0)}if(Bu==0)break n;if(zr&&vl[Ut]==1&&(zr=ns[Qt].g==0),vo+=ns[Qt].g,Qt+=Bu,3>=Ut){var kl,sd=gs[0];for(kl=1;kl<vi;++kl)gs[kl]>sd&&(sd=gs[kl]);Bi+=sd}}if(Cn.nd=zr,Cn.Qb=0,zr&&(Cn.qb=(Ps[3][Fi[3]+0].value<<24|Ps[1][Fi[1]+0].value<<16|Ps[2][Fi[2]+0].value)>>>0,vo==0&&256>Ps[0][Fi[0]+0].value&&(Cn.Qb=1,Cn.qb+=Ps[0][Fi[0]+0].value<<8)),Cn.jc=!Cn.Qb&&6>Bi,Cn.jc){var zu,Qo=Cn;for(zu=0;zu<Io;++zu){var xo=zu,Zo=Qo.pd[xo],Vu=Qo.G[0][Qo.H[0]+xo];256<=Vu.value?(Zo.g=Vu.g+256,Zo.value=Vu.value):(Zo.g=0,Zo.value=0,xo>>=$i(Vu,8,Zo),xo>>=$i(Qo.G[1][Qo.H[1]+xo],16,Zo),xo>>=$i(Qo.G[2][Qo.H[2]+xo],0,Zo),$i(Qo.G[3][Qo.H[3]+xo],24,Zo))}}}ai.vc=tn,ai.Wb=fn,ai.Ya=pn,ai.yc=Ts,Ze=1;break t}Ze=0}if(!(z=Ze)){T.a=3;break e}if(0<Ee){if(te.ua=1<<Ee,!Y(te.Wa,Ee)){T.a=1,z=0;break e}}else te.ua=0;var Uu=T,Mf=q,tp=G,Of=Uu.s,Lf=Of.xc;if(Uu.c=Mf,Uu.i=tp,Of.md=Be(Mf,Lf),Of.wc=Lf==0?-1:(1<<Lf)-1,C){T.xb=Um;break e}if((me=r(q*G))==null){T.a=1,z=0;break e}z=(z=Ss(T,me,0,q,G,G,null))&&!X.h;break e}return z?(F!=null?F[0]=me:(e(me==null),e(C)),T.$=0,C||Zi(te)):Zi(te),z}function ba(b,w){var C=b.c*b.i,T=C+w+16*w;return e(b.c<=w),b.V=r(T),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+C+w,1)}function fr(b,w){var C=b.C,T=w-C,F=b.V,z=b.Ba+b.c*C;for(e(w<=b.l.o);0<T;){var q=16<T?16:T,G=b.l.ma,X=b.l.width,te=X*q,me=G.ca,Ee=G.tb+X*C,Z=b.Ta,ve=b.Ua;pa(b,q,F,z),ml(Z,ve,me,Ee,te),_s(G,C,C+q,me,Ee,X),T-=q,F+=q*b.c,C+=q}e(C==w),b.C=b.Ma=w}function Or(){this.ub=this.yd=this.td=this.Rb=0}function lc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lh(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function cc(){this.Yb=(function(){var b=[];return(function w(C,T,F){for(var z=F[T],q=0;q<z&&(C.push(F.length>T+1?[]:0),!(F.length<T+1));q++)w(C[q],T+1,F)})(b,0,[3,11]),b})()}function Rh(){this.jb=r(3),this.Wc=a([4,8],cc),this.Xc=a([4,17],cc)}function il(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function ks(){this.ld=this.La=this.dd=this.tc=0}function Js(){this.Na=this.la=0}function uc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hc(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function To(){this.uc=this.M=this.Nb=0,this.wa=Array(new ks),this.Y=0,this.ya=Array(new hc),this.aa=0,this.l=new sl}function dc(){this.y=r(16),this.f=r(8),this.ea=r(8)}function fc(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Or,this.Kc=new lc,this.ed=new il,this.Qa=new Lh,this.Ic=this.$c=this.Aa=0,this.D=new To,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,uc),this.Pa=new Rh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dc),this.Hd=0,this.rb=Array(new Js),this.sb=0,this.wa=Array(new ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hc),this.L=this.aa=0,this.gd=a([4,2],ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function no(b,w){return 0>b?0:b>w?w:b}function sl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ds(){var b=new fc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Li||(Li=rl)),b}function mi(b,w,C){return b.a==0&&(b.a=w,b.sc=C,b.cb=0),0}function Dh(b,w,C){return 3<=C&&b[w+0]==157&&b[w+1]==1&&b[w+2]==42}function Qs(b,w){if(b==null)return 0;if(b.a=0,b.sc="OK",w==null)return mi(b,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,T=w.w,F=w.ha;if(4>F)return mi(b,7,"Truncated header.");var z=C[T+0]|C[T+1]<<8|C[T+2]<<16,q=b.Od;if(q.Rb=!(1&z),q.td=z>>1&7,q.yd=z>>4&1,q.ub=z>>5,3<q.td)return mi(b,3,"Incorrect keyframe parameters.");if(!q.yd)return mi(b,4,"Frame not displayable.");T+=3,F-=3;var G=b.Kc;if(q.Rb){if(7>F)return mi(b,7,"cannot parse picture header");if(!Dh(C,T,F))return mi(b,3,"Bad code word");G.c=16383&(C[T+4]<<8|C[T+3]),G.Td=C[T+4]>>6,G.i=16383&(C[T+6]<<8|C[T+5]),G.Ud=C[T+6]>>6,T+=7,F-=7,b.za=G.c+15>>4,b.Ub=G.i+15>>4,w.width=G.c,w.height=G.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((z=b.Pa).jb,0,255,z.jb.length),e((z=b.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(q.ub>F)return mi(b,7,"bad partition length");Q(z=b.m,C,T,q.ub),T+=q.ub,F-=q.ub,q.Rb&&(G.Ld=ke(z),G.Kd=ke(z)),G=b.Qa;var X,te=b.Pa;if(e(z!=null),e(G!=null),G.Cb=ke(z),G.Cb){if(G.Bb=ke(z),ke(z)){for(G.Fb=ke(z),X=0;4>X;++X)G.Zb[X]=ke(z)?ue(z,7):0;for(X=0;4>X;++X)G.Lb[X]=ke(z)?ue(z,6):0}if(G.Bb)for(X=0;3>X;++X)te.jb[X]=ke(z)?ae(z,8):255}else G.Bb=0;if(z.Ka)return mi(b,3,"cannot parse segment header");if((G=b.ed).zd=ke(z),G.Tb=ae(z,6),G.wb=ae(z,3),G.Pc=ke(z),G.Pc&&ke(z)){for(te=0;4>te;++te)ke(z)&&(G.vd[te]=ue(z,6));for(te=0;4>te;++te)ke(z)&&(G.od[te]=ue(z,6))}if(b.L=G.Tb==0?0:G.zd?1:2,z.Ka)return mi(b,3,"cannot parse filter header");var me=F;if(F=X=T,T=X+me,G=me,b.Xb=(1<<ae(b.m,2))-1,me<3*(te=b.Xb))C=7;else{for(X+=3*te,G-=3*te,me=0;me<te;++me){var Ee=C[F+0]|C[F+1]<<8|C[F+2]<<16;Ee>G&&(Ee=G),Q(b.Jc[+me],C,X,Ee),X+=Ee,G-=Ee,F+=3}Q(b.Jc[+te],C,X,G),C=X<T?0:5}if(C!=0)return mi(b,C,"cannot parse partitions");for(C=ae(X=b.m,7),F=ke(X)?ue(X,4):0,T=ke(X)?ue(X,4):0,G=ke(X)?ue(X,4):0,te=ke(X)?ue(X,4):0,X=ke(X)?ue(X,4):0,me=b.Qa,Ee=0;4>Ee;++Ee){if(me.Cb){var Z=me.Zb[Ee];me.Fb||(Z+=C)}else{if(0<Ee){b.pb[Ee]=b.pb[0];continue}Z=C}var ve=b.pb[Ee];ve.Sc[0]=Mu[no(Z+F,127)],ve.Sc[1]=Ou[no(Z+0,127)],ve.Eb[0]=2*Mu[no(Z+T,127)],ve.Eb[1]=101581*Ou[no(Z+G,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Mu[no(Z+te,117)],ve.Qc[1]=Ou[no(Z+X,127)],ve.lc=Z+X}if(!q.Rb)return mi(b,4,"Not a key frame.");for(ke(z),q=b.Pa,C=0;4>C;++C){for(F=0;8>F;++F)for(T=0;3>T;++T)for(G=0;11>G;++G)te=Le(z,wl[C][F][T][G])?ae(z,8):mo[C][F][T][G],q.Wc[C][F].Yb[T][G]=te;for(F=0;17>F;++F)q.Xc[C][F]=q.Wc[C][Vm[F]]}return b.kc=ke(z),b.kc&&(b.Bd=ae(z,8)),b.cb=1}function rl(b,w,C,T,F,z,q){var G=w[F].Yb[C];for(C=0;16>F;++F){if(!Le(b,G[C+0]))return F;for(;!Le(b,G[C+1]);)if(G=w[++F].Yb[0],C=0,F==16)return 16;var X=w[F+1].Yb;if(Le(b,G[C+2])){var te=b,me=0;if(Le(te,(Z=G)[(Ee=C)+3]))if(Le(te,Z[Ee+6])){for(G=0,Ee=2*(me=Le(te,Z[Ee+8]))+(Z=Le(te,Z[Ee+9+me])),me=0,Z=oi[Ee];Z[G];++G)me+=me+Le(te,Z[G]);me+=3+(8<<Ee)}else Le(te,Z[Ee+7])?(me=7+2*Le(te,165),me+=Le(te,145)):me=5+Le(te,159);else me=Le(te,Z[Ee+4])?3+Le(te,Z[Ee+5]):2;G=X[2]}else me=1,G=X[1];X=q+xn[F],0>(te=b).b&&ye(te);var Ee,Z=te.b,ve=(Ee=te.Ca>>1)-(te.I>>Z)>>31;--te.b,te.Ca+=ve,te.Ca|=1,te.I-=(Ee+1&ve)<<Z,z[X]=((me^ve)-ve)*T[(0<F)+0]}return 16}function ol(b){var w=b.rb[b.sb-1];w.la=0,w.Na=0,s(b.zc,0,0,b.zc.length),b.ja=0}function gr(b,w,C,T,F){F=b[w+C+32*T]+(F>>3),b[w+C+32*T]=-256&F?0>F?0:255:F}function wn(b,w,C,T,F,z){gr(b,w,0,C,T+F),gr(b,w,1,C,T+z),gr(b,w,2,C,T-z),gr(b,w,3,C,T-F)}function Lr(b){return(20091*b>>16)+b}function bu(b,w,C,T){var F,z=0,q=r(16);for(F=0;4>F;++F){var G=b[w+0]+b[w+8],X=b[w+0]-b[w+8],te=(35468*b[w+4]>>16)-Lr(b[w+12]),me=Lr(b[w+4])+(35468*b[w+12]>>16);q[z+0]=G+me,q[z+1]=X+te,q[z+2]=X-te,q[z+3]=G-me,z+=4,w++}for(F=z=0;4>F;++F)G=(b=q[z+0]+4)+q[z+8],X=b-q[z+8],te=(35468*q[z+4]>>16)-Lr(q[z+12]),gr(C,T,0,0,G+(me=Lr(q[z+4])+(35468*q[z+12]>>16))),gr(C,T,1,0,X+te),gr(C,T,2,0,X-te),gr(C,T,3,0,G-me),z++,T+=32}function yu(b,w,C,T){var F=b[w+0]+4,z=35468*b[w+4]>>16,q=Lr(b[w+4]),G=35468*b[w+1]>>16;wn(C,T,0,F+q,b=Lr(b[w+1]),G),wn(C,T,1,F+z,b,G),wn(C,T,2,F-z,b,G),wn(C,T,3,F-q,b,G)}function ya(b,w,C,T,F){bu(b,w,C,T),F&&bu(b,w+16,C,T+4)}function Rr(b,w,C,T){Uo(b,w+0,C,T,1),Uo(b,w+32,C,T+128,1)}function vu(b,w,C,T){var F;for(b=b[w+0]+4,F=0;4>F;++F)for(w=0;4>w;++w)gr(C,T,w,F,b)}function Po(b,w,C,T){b[w+0]&&an(b,w+0,C,T),b[w+16]&&an(b,w+16,C,T+4),b[w+32]&&an(b,w+32,C,T+128),b[w+48]&&an(b,w+48,C,T+128+4)}function gc(b,w,C,T){var F,z=r(16);for(F=0;4>F;++F){var q=b[w+0+F]+b[w+12+F],G=b[w+4+F]+b[w+8+F],X=b[w+4+F]-b[w+8+F],te=b[w+0+F]-b[w+12+F];z[0+F]=q+G,z[8+F]=q-G,z[4+F]=te+X,z[12+F]=te-X}for(F=0;4>F;++F)q=(b=z[0+4*F]+3)+z[3+4*F],G=z[1+4*F]+z[2+4*F],X=z[1+4*F]-z[2+4*F],te=b-z[3+4*F],C[T+0]=q+G>>3,C[T+16]=te+X>>3,C[T+32]=q-G>>3,C[T+48]=te-X>>3,T+=64}function va(b,w,C){var T,F=w-32,z=Yi,q=255-b[F-1];for(T=0;T<C;++T){var G,X=z,te=q+b[w-1];for(G=0;G<C;++G)b[w+G]=X[te+b[F+G]];w+=32}}function jh(b,w){va(b,w,4)}function xu(b,w){va(b,w,8)}function bf(b,w){va(b,w,16)}function wu(b,w){var C;for(C=0;16>C;++C)i(b,w+32*C,b,w-32,16)}function al(b,w){var C;for(C=16;0<C;--C)s(b,w,b[w-1],16),w+=32}function Zs(b,w,C){var T;for(T=0;16>T;++T)s(w,C+32*T,b,16)}function _u(b,w){var C,T=16;for(C=0;16>C;++C)T+=b[w-1+32*C]+b[w+C-32];Zs(T>>5,b,w)}function mr(b,w){var C,T=8;for(C=0;16>C;++C)T+=b[w-1+32*C];Zs(T>>4,b,w)}function io(b,w){var C,T=8;for(C=0;16>C;++C)T+=b[w+C-32];Zs(T>>4,b,w)}function Fh(b,w){Zs(128,b,w)}function Rt(b,w,C){return b+2*w+C+2>>2}function Bh(b,w){var C,T=w-32;for(T=new Uint8Array([Rt(b[T-1],b[T+0],b[T+1]),Rt(b[T+0],b[T+1],b[T+2]),Rt(b[T+1],b[T+2],b[T+3]),Rt(b[T+2],b[T+3],b[T+4])]),C=0;4>C;++C)i(b,w+32*C,T,0,T.length)}function ll(b,w){var C=b[w-1],T=b[w-1+32],F=b[w-1+64],z=b[w-1+96];Re(b,w+0,16843009*Rt(b[w-1-32],C,T)),Re(b,w+32,16843009*Rt(C,T,F)),Re(b,w+64,16843009*Rt(T,F,z)),Re(b,w+96,16843009*Rt(F,z,z))}function Dr(b,w){var C,T=4;for(C=0;4>C;++C)T+=b[w+C-32]+b[w-1+32*C];for(T>>=3,C=0;4>C;++C)s(b,w+32*C,T,4)}function jr(b,w){var C=b[w-1+0],T=b[w-1+32],F=b[w-1+64],z=b[w-1-32],q=b[w+0-32],G=b[w+1-32],X=b[w+2-32],te=b[w+3-32];b[w+0+96]=Rt(T,F,b[w-1+96]),b[w+1+96]=b[w+0+64]=Rt(C,T,F),b[w+2+96]=b[w+1+64]=b[w+0+32]=Rt(z,C,T),b[w+3+96]=b[w+2+64]=b[w+1+32]=b[w+0+0]=Rt(q,z,C),b[w+3+64]=b[w+2+32]=b[w+1+0]=Rt(G,q,z),b[w+3+32]=b[w+2+0]=Rt(X,G,q),b[w+3+0]=Rt(te,X,G)}function er(b,w){var C=b[w+1-32],T=b[w+2-32],F=b[w+3-32],z=b[w+4-32],q=b[w+5-32],G=b[w+6-32],X=b[w+7-32];b[w+0+0]=Rt(b[w+0-32],C,T),b[w+1+0]=b[w+0+32]=Rt(C,T,F),b[w+2+0]=b[w+1+32]=b[w+0+64]=Rt(T,F,z),b[w+3+0]=b[w+2+32]=b[w+1+64]=b[w+0+96]=Rt(F,z,q),b[w+3+32]=b[w+2+64]=b[w+1+96]=Rt(z,q,G),b[w+3+64]=b[w+2+96]=Rt(q,G,X),b[w+3+96]=Rt(G,X,X)}function so(b,w){var C=b[w-1+0],T=b[w-1+32],F=b[w-1+64],z=b[w-1-32],q=b[w+0-32],G=b[w+1-32],X=b[w+2-32],te=b[w+3-32];b[w+0+0]=b[w+1+64]=z+q+1>>1,b[w+1+0]=b[w+2+64]=q+G+1>>1,b[w+2+0]=b[w+3+64]=G+X+1>>1,b[w+3+0]=X+te+1>>1,b[w+0+96]=Rt(F,T,C),b[w+0+64]=Rt(T,C,z),b[w+0+32]=b[w+1+96]=Rt(C,z,q),b[w+1+32]=b[w+2+96]=Rt(z,q,G),b[w+2+32]=b[w+3+96]=Rt(q,G,X),b[w+3+32]=Rt(G,X,te)}function Su(b,w){var C=b[w+0-32],T=b[w+1-32],F=b[w+2-32],z=b[w+3-32],q=b[w+4-32],G=b[w+5-32],X=b[w+6-32],te=b[w+7-32];b[w+0+0]=C+T+1>>1,b[w+1+0]=b[w+0+64]=T+F+1>>1,b[w+2+0]=b[w+1+64]=F+z+1>>1,b[w+3+0]=b[w+2+64]=z+q+1>>1,b[w+0+32]=Rt(C,T,F),b[w+1+32]=b[w+0+96]=Rt(T,F,z),b[w+2+32]=b[w+1+96]=Rt(F,z,q),b[w+3+32]=b[w+2+96]=Rt(z,q,G),b[w+3+64]=Rt(q,G,X),b[w+3+96]=Rt(G,X,te)}function Mo(b,w){var C=b[w-1+0],T=b[w-1+32],F=b[w-1+64],z=b[w-1+96];b[w+0+0]=C+T+1>>1,b[w+2+0]=b[w+0+32]=T+F+1>>1,b[w+2+32]=b[w+0+64]=F+z+1>>1,b[w+1+0]=Rt(C,T,F),b[w+3+0]=b[w+1+32]=Rt(T,F,z),b[w+3+32]=b[w+1+64]=Rt(F,z,z),b[w+3+64]=b[w+2+64]=b[w+0+96]=b[w+1+96]=b[w+2+96]=b[w+3+96]=z}function mc(b,w){var C=b[w-1+0],T=b[w-1+32],F=b[w-1+64],z=b[w-1+96],q=b[w-1-32],G=b[w+0-32],X=b[w+1-32],te=b[w+2-32];b[w+0+0]=b[w+2+32]=C+q+1>>1,b[w+0+32]=b[w+2+64]=T+C+1>>1,b[w+0+64]=b[w+2+96]=F+T+1>>1,b[w+0+96]=z+F+1>>1,b[w+3+0]=Rt(G,X,te),b[w+2+0]=Rt(q,G,X),b[w+1+0]=b[w+3+32]=Rt(C,q,G),b[w+1+32]=b[w+3+64]=Rt(T,C,q),b[w+1+64]=b[w+3+96]=Rt(F,T,C),b[w+1+96]=Rt(z,F,T)}function ro(b,w){var C;for(C=0;8>C;++C)i(b,w+32*C,b,w-32,8)}function pc(b,w){var C;for(C=0;8>C;++C)s(b,w,b[w-1],8),w+=32}function oo(b,w,C){var T;for(T=0;8>T;++T)s(w,C+32*T,b,8)}function us(b,w){var C,T=8;for(C=0;8>C;++C)T+=b[w+C-32]+b[w-1+32*C];oo(T>>4,b,w)}function Fr(b,w){var C,T=4;for(C=0;8>C;++C)T+=b[w+C-32];oo(T>>3,b,w)}function xa(b,w){var C,T=4;for(C=0;8>C;++C)T+=b[w-1+32*C];oo(T>>3,b,w)}function wa(b,w){oo(128,b,w)}function Oo(b,w,C){var T=b[w-C],F=b[w+0],z=3*(F-T)+Kh[1020+b[w-2*C]-b[w+C]],q=bl[112+(z+4>>3)];b[w-C]=Yi[255+T+bl[112+(z+3>>3)]],b[w+0]=Yi[255+F-q]}function cl(b,w,C,T){var F=b[w+0],z=b[w+C];return vr[255+b[w-2*C]-b[w-C]]>T||vr[255+z-F]>T}function _a(b,w,C,T){return 4*vr[255+b[w-C]-b[w+0]]+vr[255+b[w-2*C]-b[w+C]]<=T}function Lo(b,w,C,T,F){var z=b[w-3*C],q=b[w-2*C],G=b[w-C],X=b[w+0],te=b[w+C],me=b[w+2*C],Ee=b[w+3*C];return 4*vr[255+G-X]+vr[255+q-te]>T?0:vr[255+b[w-4*C]-z]<=F&&vr[255+z-q]<=F&&vr[255+q-G]<=F&&vr[255+Ee-me]<=F&&vr[255+me-te]<=F&&vr[255+te-X]<=F}function ao(b,w,C,T){var F=2*T+1;for(T=0;16>T;++T)_a(b,w+T,C,F)&&Oo(b,w+T,C)}function bc(b,w,C,T){var F=2*T+1;for(T=0;16>T;++T)_a(b,w+T*C,1,F)&&Oo(b,w+T*C,1)}function Ih(b,w,C,T){var F;for(F=3;0<F;--F)ao(b,w+=4*C,C,T)}function zh(b,w,C,T){var F;for(F=3;0<F;--F)bc(b,w+=4,C,T)}function Ro(b,w,C,T,F,z,q,G){for(z=2*z+1;0<F--;){if(Lo(b,w,C,z,q))if(cl(b,w,C,G))Oo(b,w,C);else{var X=b,te=w,me=C,Ee=X[te-2*me],Z=X[te-me],ve=X[te+0],Ae=X[te+me],De=X[te+2*me],Ne=27*(je=Kh[1020+3*(ve-Z)+Kh[1020+Ee-Ae]])+63>>7,Fe=18*je+63>>7,je=9*je+63>>7;X[te-3*me]=Yi[255+X[te-3*me]+je],X[te-2*me]=Yi[255+Ee+Fe],X[te-me]=Yi[255+Z+Ne],X[te+0]=Yi[255+ve-Ne],X[te+me]=Yi[255+Ae-Fe],X[te+2*me]=Yi[255+De-je]}w+=T}}function Br(b,w,C,T,F,z,q,G){for(z=2*z+1;0<F--;){if(Lo(b,w,C,z,q))if(cl(b,w,C,G))Oo(b,w,C);else{var X=b,te=w,me=C,Ee=X[te-me],Z=X[te+0],ve=X[te+me],Ae=bl[112+(4+(De=3*(Z-Ee))>>3)],De=bl[112+(De+3>>3)],Ne=Ae+1>>1;X[te-2*me]=Yi[255+X[te-2*me]+Ne],X[te-me]=Yi[255+Ee+De],X[te+0]=Yi[255+Z-Ae],X[te+me]=Yi[255+ve-Ne]}w+=T}}function Vh(b,w,C,T,F,z){Ro(b,w,C,1,16,T,F,z)}function ul(b,w,C,T,F,z){Ro(b,w,1,C,16,T,F,z)}function Uh(b,w,C,T,F,z){var q;for(q=3;0<q;--q)Br(b,w+=4*C,C,1,16,T,F,z)}function S(b,w,C,T,F,z){var q;for(q=3;0<q;--q)Br(b,w+=4,1,C,16,T,F,z)}function j(b,w,C,T,F,z,q,G){Ro(b,w,F,1,8,z,q,G),Ro(C,T,F,1,8,z,q,G)}function ne(b,w,C,T,F,z,q,G){Ro(b,w,1,F,8,z,q,G),Ro(C,T,1,F,8,z,q,G)}function de(b,w,C,T,F,z,q,G){Br(b,w+4*F,F,1,8,z,q,G),Br(C,T+4*F,F,1,8,z,q,G)}function Se(b,w,C,T,F,z,q,G){Br(b,w+4,1,F,8,z,q,G),Br(C,T+4,1,F,8,z,q,G)}function Ie(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new mt,this.vb=new mt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new ie}function Dt(){this.xb=this.a=0,this.l=new sl,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=o(4,ot),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(b,w,C,T,F,z,q){for(b=b==null?0:b[w+0],w=0;w<q;++w)F[z+w]=b+C[T+w]&255,b=F[z+w]}function ei(b,w,C,T,F,z,q){var G;if(b==null)hn(null,null,C,T,F,z,q);else for(G=0;G<q;++G)F[z+G]=b[w+G]+C[T+G]&255}function Si(b,w,C,T,F,z,q){if(b==null)hn(null,null,C,T,F,z,q);else{var G,X=b[w+0],te=X,me=X;for(G=0;G<q;++G)te=me+(X=b[w+G])-te,me=C[T+G]+(-256&te?0>te?0:255:te)&255,te=X,F[z+G]=me}}function jn(b,w,C,T){var F=w.width,z=w.o;if(e(b!=null&&w!=null),0>C||0>=T||C+T>z)return null;if(!b.Cc){if(b.ga==null){var q;if(b.ga=new Yt,(q=b.ga==null)||(q=w.width*w.o,e(b.Gb.length==0),b.Gb=r(q),b.Uc=0,b.Gb==null?q=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,q=1),q=!q),!q){q=b.ga;var G=b.Fa,X=b.P,te=b.qc,me=b.mb,Ee=b.nb,Z=X+1,ve=te-1,Ae=q.l;if(e(G!=null&&me!=null&&w!=null),po[0]=null,po[1]=hn,po[2]=ei,po[3]=Si,q.ca=me,q.tb=Ee,q.c=w.width,q.i=w.height,e(0<q.c&&0<q.i),1>=te)w=0;else if(q.$a=3&G[X+0],q.Z=G[X+0]>>2&3,q.Lc=G[X+0]>>4&3,X=G[X+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||X)w=0;else if(Ae.put=Nt,Ae.ac=Pr,Ae.bc=ls,Ae.ma=q,Ae.width=w.width,Ae.height=w.height,Ae.Da=w.Da,Ae.v=w.v,Ae.va=w.va,Ae.j=w.j,Ae.o=w.o,q.$a)e:{e(q.$a==1),w=Yn();t:for(;;){if(w==null){w=0;break e}if(e(q!=null),q.mc=w,w.c=q.c,w.i=q.i,w.l=q.l,w.l.ma=q,w.l.width=q.c,w.l.height=q.i,w.a=0,ge(w.m,G,Z,ve),!Mr(q.c,q.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Xs(w.s)?(q.ic=1,G=w.c*w.i,w.Ta=null,w.Ua=0,w.V=r(G),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(q.ic=0,w=ba(w,q.c)),!w))break t;w=1;break e}q.mc=null,w=0}else w=ve>=q.c*q.i;q=!w}if(q)return null;b.ga.Lc!=1?b.Ga=0:T=z-C}e(b.ga!=null),e(C+T<=z);e:{if(w=(G=b.ga).c,z=G.l.o,G.$a==0){if(Z=b.rc,ve=b.Vc,Ae=b.Fa,X=b.P+1+C*w,te=b.mb,me=b.nb+C*w,e(X<=b.P+b.qc),G.Z!=0)for(e(po[G.Z]!=null),q=0;q<T;++q)po[G.Z](Z,ve,Ae,X,te,me,w),Z=te,ve=me,me+=w,X+=w;else for(q=0;q<T;++q)i(te,me,Ae,X,w),Z=te,ve=me,me+=w,X+=w;b.rc=Z,b.Vc=ve}else{if(e(G.mc!=null),w=C+T,e((q=G.mc)!=null),e(w<=q.i),q.C>=w)w=1;else if(G.ic||Ir(),G.ic){G=q.V,Z=q.Ba,ve=q.c;var De=q.i,Ne=(Ae=1,X=q.$/ve,te=q.$%ve,me=q.m,Ee=q.s,q.$),Fe=ve*De,je=ve*w,$e=Ee.wc,qe=Ne<je?Qi(Ee,te,X):null;e(Ne<=Fe),e(w<=De),e(Xs(Ee));t:for(;;){for(;!me.h&&Ne<je;){if(te&$e||(qe=Qi(Ee,te,X)),e(qe!=null),xe(me),256>(De=Kn(qe.G[0],qe.H[0],me)))G[Z+Ne]=De,++Ne,++te>=ve&&(te=0,++X<=w&&!(X%16)&&cs(q,X));else{if(!(280>De)){Ae=0;break t}De=Vn(De-256,me);var vt,st=Kn(qe.G[4],qe.H[4],me);if(xe(me),!(Ne>=(st=Ji(ve,st=Vn(st,me)))&&Fe-Ne>=De)){Ae=0;break t}for(vt=0;vt<De;++vt)G[Z+Ne+vt]=G[Z+Ne+vt-st];for(Ne+=De,te+=De;te>=ve;)te-=ve,++X<=w&&!(X%16)&&cs(q,X);Ne<je&&te&$e&&(qe=Qi(Ee,te,X))}e(me.h==re(me))}cs(q,X>w?w:X);break t}!Ae||me.h&&Ne<Fe?(Ae=0,q.a=me.h?5:3):q.$=Ne,w=Ae}else w=Ss(q,q.V,q.Ba,q.c,q.i,w,fr);if(!w){T=0;break e}}C+T>=z&&(b.Cc=1),T=1}if(!T)return null;if(b.Cc&&((T=b.ga)!=null&&(T.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+C*F}function Oi(b,w,C,T,F,z){for(;0<F--;){var q,G=b,X=w+(C?1:0),te=b,me=w+(C?0:3);for(q=0;q<T;++q){var Ee=te[me+4*q];Ee!=255&&(Ee*=32897,G[X+4*q+0]=G[X+4*q+0]*Ee>>23,G[X+4*q+1]=G[X+4*q+1]*Ee>>23,G[X+4*q+2]=G[X+4*q+2]*Ee>>23)}w+=z}}function ki(b,w,C,T,F){for(;0<T--;){var z;for(z=0;z<C;++z){var q=b[w+2*z+0],G=15&(te=b[w+2*z+1]),X=4369*G,te=(240&te|te>>4)*X>>16;b[w+2*z+0]=(240&q|q>>4)*X>>16&240|(15&q|q<<4)*X>>16>>4&15,b[w+2*z+1]=240&te|G}w+=F}}function es(b,w,C,T,F,z,q,G){var X,te,me=255;for(te=0;te<F;++te){for(X=0;X<T;++X){var Ee=b[w+X];z[q+4*X]=Ee,me&=Ee}w+=C,q+=G}return me!=255}function Do(b,w,C,T,F){var z;for(z=0;z<F;++z)C[T+z]=b[w+z]>>8}function Ir(){Ac=Oi,ir=ki,sr=es,ml=Do}function jo(b,w,C){P[b]=function(T,F,z,q,G,X,te,me,Ee,Z,ve,Ae,De,Ne,Fe,je,$e){var qe,vt=$e-1>>1,st=G[X+0]|te[me+0]<<16,Vt=Ee[Z+0]|ve[Ae+0]<<16;e(T!=null);var at=3*st+Vt+131074>>2;for(w(T[F+0],255&at,at>>16,De,Ne),z!=null&&(at=3*Vt+st+131074>>2,w(z[q+0],255&at,at>>16,Fe,je)),qe=1;qe<=vt;++qe){var sn=G[X+qe]|te[me+qe]<<16,Ai=Ee[Z+qe]|ve[Ae+qe]<<16,jt=st+sn+Vt+Ai+524296,ct=jt+2*(sn+Vt)>>3;at=ct+st>>1,st=(jt=jt+2*(st+Ai)>>3)+sn>>1,w(T[F+2*qe-1],255&at,at>>16,De,Ne+(2*qe-1)*C),w(T[F+2*qe-0],255&st,st>>16,De,Ne+(2*qe-0)*C),z!=null&&(at=jt+Vt>>1,st=ct+Ai>>1,w(z[q+2*qe-1],255&at,at>>16,Fe,je+(2*qe-1)*C),w(z[q+2*qe+0],255&st,st>>16,Fe,je+(2*qe+0)*C)),st=sn,Vt=Ai}1&$e||(at=3*st+Vt+131074>>2,w(T[F+$e-1],255&at,at>>16,De,Ne+($e-1)*C),z!=null&&(at=3*Vt+st+131074>>2,w(z[q+$e-1],255&at,at>>16,Fe,je+($e-1)*C)))}}function hl(){Xi[fs]=Ko,Xi[Cc]=bo,Xi[go]=La,Xi[Tu]=Jh,Xi[yl]=Qh,Xi[qo]=Tc,Xi[Yh]=Zh,Xi[Pu]=bo,Xi[Ma]=Jh,Xi[Ho]=Qh,Xi[Nc]=Tc}function lo(b){return b&-16384?0>b?0:255:b>>I1}function Sa(b,w){return lo((19077*b>>8)+(26149*w>>8)-14234)}function ka(b,w,C){return lo((19077*b>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Aa(b,w){return lo((19077*b>>8)+(33050*w>>8)-17685)}function Fo(b,w,C,T,F){T[F+0]=Sa(b,C),T[F+1]=ka(b,w,C),T[F+2]=Aa(b,w)}function Ki(b,w,C,T,F){T[F+0]=Aa(b,w),T[F+1]=ka(b,w,C),T[F+2]=Sa(b,C)}function Ca(b,w,C,T,F){var z=ka(b,w,C);w=z<<3&224|Aa(b,w)>>3,T[F+0]=248&Sa(b,C)|z>>5,T[F+1]=w}function pr(b,w,C,T,F){var z=240&Aa(b,w)|15;T[F+0]=240&Sa(b,C)|ka(b,w,C)>>4,T[F+1]=z}function ku(b,w,C,T,F){T[F+0]=255,Fo(b,w,C,T,F+1)}function Au(b,w,C,T,F){Ki(b,w,C,T,F),T[F+3]=255}function As(b,w,C,T,F){Fo(b,w,C,T,F),T[F+3]=255}function co(b,w,C){P[b]=function(T,F,z,q,G,X,te,me,Ee){for(var Z=me+(-2&Ee)*C;me!=Z;)w(T[F+0],z[q+0],G[X+0],te,me),w(T[F+1],z[q+0],G[X+0],te,me+C),F+=2,++q,++X,me+=2*C;1&Ee&&w(T[F+0],z[q+0],G[X+0],te,me)}}function dl(b,w,C){return C==0?b==0?w==0?6:5:w==0?4:0:C}function Na(b,w,C,T,F){switch(b>>>30){case 3:Uo(w,C,T,F,0);break;case 2:nr(w,C,T,F);break;case 1:an(w,C,T,F)}}function hs(b,w){var C,T,F=w.M,z=w.Nb,q=b.oc,G=b.pc+40,X=b.oc,te=b.pc+584,me=b.oc,Ee=b.pc+600;for(C=0;16>C;++C)q[G+32*C-1]=129;for(C=0;8>C;++C)X[te+32*C-1]=129,me[Ee+32*C-1]=129;for(0<F?q[G-1-32]=X[te-1-32]=me[Ee-1-32]=129:(s(q,G-32-1,127,21),s(X,te-32-1,127,9),s(me,Ee-32-1,127,9)),T=0;T<b.za;++T){var Z=w.ya[w.aa+T];if(0<T){for(C=-1;16>C;++C)i(q,G+32*C-4,q,G+32*C+12,4);for(C=-1;8>C;++C)i(X,te+32*C-4,X,te+32*C+4,4),i(me,Ee+32*C-4,me,Ee+32*C+4,4)}var ve=b.Gd,Ae=b.Hd+T,De=Z.ad,Ne=Z.Hc;if(0<F&&(i(q,G-32,ve[Ae].y,0,16),i(X,te-32,ve[Ae].f,0,8),i(me,Ee-32,ve[Ae].ea,0,8)),Z.Za){var Fe=q,je=G-32+16;for(0<F&&(T>=b.za-1?s(Fe,je,ve[Ae].y[15],4):i(Fe,je,ve[Ae+1].y,0,4)),C=0;4>C;C++)Fe[je+128+C]=Fe[je+256+C]=Fe[je+384+C]=Fe[je+0+C];for(C=0;16>C;++C,Ne<<=2)Fe=q,je=G+_l[C],Ns[Z.Ob[C]](Fe,je),Na(Ne,De,16*+C,Fe,je)}else if(Fe=dl(T,F,Z.Ob[0]),$o[Fe](q,G),Ne!=0)for(C=0;16>C;++C,Ne<<=2)Na(Ne,De,16*+C,q,G+_l[C]);for(C=Z.Gc,Fe=dl(T,F,Z.Dd),or[Fe](X,te),or[Fe](me,Ee),Ne=De,Fe=X,je=te,255&(Z=0|C)&&(170&Z?ds(Ne,256,Fe,je):An(Ne,256,Fe,je)),Z=me,Ne=Ee,255&(C>>=8)&&(170&C?ds(De,320,Z,Ne):An(De,320,Z,Ne)),F<b.Ub-1&&(i(ve[Ae].y,0,q,G+480,16),i(ve[Ae].f,0,X,te+224,8),i(ve[Ae].ea,0,me,Ee+224,8)),C=8*z*b.B,ve=b.sa,Ae=b.ta+16*T+16*z*b.R,De=b.qa,Z=b.ra+8*T+C,Ne=b.Ha,Fe=b.Ia+8*T+C,C=0;16>C;++C)i(ve,Ae+C*b.R,q,G+32*C,16);for(C=0;8>C;++C)i(De,Z+C*b.B,X,te+32*C,8),i(Ne,Fe+C*b.B,me,Ee+32*C,8)}}function fl(b,w,C,T,F,z,q,G,X){var te=[0],me=[0],Ee=0,Z=X!=null?X.kd:0,ve=X??new Ge;if(b==null||12>C)return 7;ve.data=b,ve.w=w,ve.ha=C,w=[w],C=[C],ve.gb=[ve.gb];e:{var Ae=w,De=C,Ne=ve.gb;if(e(b!=null),e(De!=null),e(Ne!=null),Ne[0]=0,12<=De[0]&&!t(b,Ae[0],"RIFF")){if(t(b,Ae[0]+8,"WEBP")){Ne=3;break e}var Fe=Qe(b,Ae[0]+4);if(12>Fe||4294967286<Fe){Ne=3;break e}if(Z&&Fe>De[0]-8){Ne=7;break e}Ne[0]=Fe,Ae[0]+=12,De[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Fe=0<ve.gb[0],C=C[0];;){e:{var je=b;De=w,Ne=C;var $e=te,qe=me,vt=Ae=[0];if((at=Ee=[Ee])[0]=0,8>Ne[0])Ne=7;else{if(!t(je,De[0],"VP8X")){if(Qe(je,De[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var st=Qe(je,De[0]+8),Vt=1+Ye(je,De[0]+12);if(2147483648<=Vt*(je=1+Ye(je,De[0]+15))){Ne=3;break e}vt!=null&&(vt[0]=st),$e!=null&&($e[0]=Vt),qe!=null&&(qe[0]=je),De[0]+=18,Ne[0]-=18,at[0]=1}Ne=0}}if(Ee=Ee[0],Ae=Ae[0],Ne!=0)return Ne;if(De=!!(2&Ae),!Fe&&Ee)return 3;if(z!=null&&(z[0]=!!(16&Ae)),q!=null&&(q[0]=De),G!=null&&(G[0]=0),q=te[0],Ae=me[0],Ee&&De&&X==null){Ne=0;break}if(4>C){Ne=7;break}if(Fe&&Ee||!Fe&&!Ee&&!t(b,w[0],"ALPH")){C=[C],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{st=b,Ne=w,Fe=C;var at=ve.gb;$e=ve.na,qe=ve.P,vt=ve.Sa,Vt=22,e(st!=null),e(Fe!=null),je=Ne[0];var sn=Fe[0];for(e($e!=null),e(vt!=null),$e[0]=null,qe[0]=null,vt[0]=0;;){if(Ne[0]=je,Fe[0]=sn,8>sn){Ne=7;break e}var Ai=Qe(st,je+4);if(4294967286<Ai){Ne=3;break e}var jt=8+Ai+1&-2;if(Vt+=jt,0<at&&Vt>at){Ne=3;break e}if(!t(st,je,"VP8 ")||!t(st,je,"VP8L")){Ne=0;break e}if(sn[0]<jt){Ne=7;break e}t(st,je,"ALPH")||($e[0]=st,qe[0]=je+8,vt[0]=Ai),je+=jt,sn-=jt}}if(C=C[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ne!=0)break}C=[C],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(at=b,Ne=w,Fe=C,$e=ve.gb[0],qe=ve.Ja,vt=ve.xa,st=Ne[0],je=!t(at,st,"VP8 "),Vt=!t(at,st,"VP8L"),e(at!=null),e(Fe!=null),e(qe!=null),e(vt!=null),8>Fe[0])Ne=7;else{if(je||Vt){if(at=Qe(at,st+4),12<=$e&&at>$e-12){Ne=3;break e}if(Z&&at>Fe[0]-8){Ne=7;break e}qe[0]=at,Ne[0]+=8,Fe[0]-=8,vt[0]=Vt}else vt[0]=5<=Fe[0]&&at[st+0]==47&&!(at[st+4]>>5),qe[0]=Fe[0];Ne=0}if(C=C[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],w=w[0],Ne!=0)break;if(4294967286<ve.Ja)return 3;if(G==null||De||(G[0]=ve.xa?2:1),q=[q],Ae=[Ae],ve.xa){if(5>C){Ne=7;break}G=q,Z=Ae,De=z,b==null||5>C?b=0:5<=C&&b[w+0]==47&&!(b[w+4]>>5)?(Fe=[0],at=[0],$e=[0],ge(qe=new I,b,w,C),$n(qe,Fe,at,$e)?(G!=null&&(G[0]=Fe[0]),Z!=null&&(Z[0]=at[0]),De!=null&&(De[0]=$e[0]),b=1):b=0):b=0}else{if(10>C){Ne=7;break}G=Ae,b==null||10>C||!Dh(b,w+3,C-3)?b=0:(Z=b[w+0]|b[w+1]<<8|b[w+2]<<16,De=16383&(b[w+7]<<8|b[w+6]),b=16383&(b[w+9]<<8|b[w+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ve.Ja||!De||!b?b=0:(q&&(q[0]=De),G&&(G[0]=b),b=1))}if(!b||(q=q[0],Ae=Ae[0],Ee&&(te[0]!=q||me[0]!=Ae)))return 3;X!=null&&(X[0]=ve,X.offset=w-X.w,e(4294967286>w-X.w),e(X.offset==X.ha-C));break}return Ne==0||Ne==7&&Ee&&X==null?(z!=null&&(z[0]|=ve.na!=null&&0<ve.na.length),T!=null&&(T[0]=q),F!=null&&(F[0]=Ae),0):Ne}function Ea(b,w,C){var T=w.width,F=w.height,z=0,q=0,G=T,X=F;if(w.Da=b!=null&&0<b.Da,w.Da&&(G=b.cd,X=b.bd,z=b.v,q=b.j,11>C||(z&=-2,q&=-2),0>z||0>q||0>=G||0>=X||z+G>T||q+X>F))return 0;if(w.v=z,w.j=q,w.va=z+G,w.o=q+X,w.U=G,w.T=X,w.da=b!=null&&0<b.da,w.da){if(!Xe(G,X,C=[b.ib],z=[b.hb]))return 0;w.ib=C[0],w.hb=z[0]}return w.ob=b!=null&&b.ob,w.Kb=b==null||!b.Sd,w.da&&(w.ob=w.ib<3*T/4&&w.hb<3*F/4,w.Kb=0),1}function yc(b){if(b==null)return 2;if(11>b.S){var w=b.f.RGBA;w.fb+=(b.height-1)*w.A,w.A=-w.A}else w=b.f.kb,b=b.height,w.O+=(b-1)*w.fa,w.fa=-w.fa,w.N+=(b-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(b-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(b-1)*w.lb,w.lb=-w.lb);return 0}function Bo(b,w,C,T){if(T==null||0>=b||0>=w)return 2;if(C!=null){if(C.Da){var F=C.cd,z=C.bd,q=-2&C.v,G=-2&C.j;if(0>q||0>G||0>=F||0>=z||q+F>b||G+z>w)return 2;b=F,w=z}if(C.da){if(!Xe(b,w,F=[C.ib],z=[C.hb]))return 2;b=F[0],w=z[0]}}T.width=b,T.height=w;e:{var X=T.width,te=T.height;if(b=T.S,0>=X||0>=te||!(b>=fs&&13>b))b=2;else{if(0>=T.Rd&&T.sd==null){q=z=F=w=0;var me=(G=X*Wm[b])*te;if(11>b||(z=(te+1)/2*(w=(X+1)/2),b==12&&(q=(F=X)*te)),(te=r(me+2*z+q))==null){b=1;break e}T.sd=te,11>b?((X=T.f.RGBA).eb=te,X.fb=0,X.A=G,X.size=me):((X=T.f.kb).y=te,X.O=0,X.fa=G,X.Fd=me,X.f=te,X.N=0+me,X.Ab=w,X.Cd=z,X.ea=te,X.W=0+me+z,X.Db=w,X.Ed=z,b==12&&(X.F=te,X.J=0+me+2*z),X.Tc=q,X.lb=F)}if(w=1,F=T.S,z=T.width,q=T.height,F>=fs&&13>F)if(11>F)b=T.f.RGBA,w&=(G=Math.abs(b.A))*(q-1)+z<=b.size,w&=G>=z*Wm[F],w&=b.eb!=null;else{b=T.f.kb,G=(z+1)/2,me=(q+1)/2,X=Math.abs(b.fa),te=Math.abs(b.Ab);var Ee=Math.abs(b.Db),Z=Math.abs(b.lb),ve=Z*(q-1)+z;w&=X*(q-1)+z<=b.Fd,w&=te*(me-1)+G<=b.Cd,w=(w&=Ee*(me-1)+G<=b.Ed)&X>=z&te>=G&Ee>=G,w&=b.y!=null,w&=b.f!=null,w&=b.ea!=null,F==12&&(w&=Z>=z,w&=ve<=b.Tc,w&=b.F!=null)}else w=0;b=w?0:2}}return b!=0||C!=null&&C.fd&&(b=yc(T)),b}var Io=64,Cs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],js=24,zo=32,uo=8,Ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(b){return b},P.Predictor2=function(b,w,C){return w[C+0]},P.Predictor3=function(b,w,C){return w[C+1]},P.Predictor4=function(b,w,C){return w[C-1]},P.Predictor5=function(b,w,C){return bt(bt(b,w[C+1]),w[C+0])},P.Predictor6=function(b,w,C){return bt(b,w[C-1])},P.Predictor7=function(b,w,C){return bt(b,w[C+0])},P.Predictor8=function(b,w,C){return bt(w[C-1],w[C+0])},P.Predictor9=function(b,w,C){return bt(w[C+0],w[C+1])},P.Predictor10=function(b,w,C){return bt(bt(b,w[C-1]),bt(w[C+0],w[C+1]))},P.Predictor11=function(b,w,C){var T=w[C+0];return 0>=rt(T>>24&255,b>>24&255,(w=w[C-1])>>24&255)+rt(T>>16&255,b>>16&255,w>>16&255)+rt(T>>8&255,b>>8&255,w>>8&255)+rt(255&T,255&b,255&w)?T:b},P.Predictor12=function(b,w,C){var T=w[C+0];return(Ot((b>>24&255)+(T>>24&255)-((w=w[C-1])>>24&255))<<24|Ot((b>>16&255)+(T>>16&255)-(w>>16&255))<<16|Ot((b>>8&255)+(T>>8&255)-(w>>8&255))<<8|Ot((255&b)+(255&T)-(255&w)))>>>0},P.Predictor13=function(b,w,C){var T=w[C-1];return(Lt((b=bt(b,w[C+0]))>>24&255,T>>24&255)<<24|Lt(b>>16&255,T>>16&255)<<16|Lt(b>>8&255,T>>8&255)<<8|Lt(255&b,255&T))>>>0};var Cu=P.PredictorAdd0;P.PredictorAdd1=dt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var vc=P.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var pi,qh=P.ColorIndexInverseTransform,si=P.MapARGB,Fs=P.VP8LColorIndexInverseTransformAlpha,xc=P.MapAlpha,wc=P.VP8LPredictorsAdd=[];wc.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var _c,Sc,ho,Pa,tr,Vo,br,Uo,nr,ds,an,An,ri,Un,fo,kc,gl,Hh,Bm,Im,yf,vf,Wh,yr,Ac,ir,sr,ml,Gh=r(511),Nu=r(2041),Eu=r(225),$h=r(767),pl=0,Kh=Nu,bl=Eu,Yi=$h,vr=Gh,fs=0,Cc=1,go=2,Tu=3,yl=4,qo=5,Yh=6,Pu=7,Ma=8,Ho=9,Nc=10,Xh=[2,3,7],xr=[3,3,11],rr=[280,256,256,256,40],vl=[0,1,1,1,0],Wo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Go=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zm=8,Mu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ou=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Li=null,oi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$o=[],Ns=[],or=[],Um=1,Ec=2,po=[],Xi=[];jo("UpsampleRgbLinePair",Fo,3),jo("UpsampleBgrLinePair",Ki,3),jo("UpsampleRgbaLinePair",As,4),jo("UpsampleBgraLinePair",Au,4),jo("UpsampleArgbLinePair",ku,4),jo("UpsampleRgba4444LinePair",pr,2),jo("UpsampleRgb565LinePair",Ca,2);var Ko=P.UpsampleRgbLinePair,La=P.UpsampleBgrLinePair,bo=P.UpsampleRgbaLinePair,Jh=P.UpsampleBgraLinePair,Qh=P.UpsampleArgbLinePair,Tc=P.UpsampleRgba4444LinePair,Zh=P.UpsampleRgb565LinePair,yo=16,Ri=1<<yo-1,Ra=-227,ed=482,I1=6,qm=0,z1=r(256),Di=r(256),wf=r(256),Lu=r(256),Ru=r(ed-Ra),_f=r(ed-Ra);co("YuvToRgbRow",Fo,3),co("YuvToBgrRow",Ki,3),co("YuvToRgbaRow",As,4),co("YuvToBgraRow",Au,4),co("YuvToArgbRow",ku,4),co("YuvToRgba4444Row",pr,2),co("YuvToRgb565Row",Ca,2);var _l=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yo=[0,2,8],V1=[8,7,6,4,4,2,2,2,1,1,1,1],Hm=1;this.WebPDecodeRGBA=function(b,w,C,T,F){var z=Cc,q=new Ie,G=new Kt;q.ba=G,G.S=z,G.width=[G.width],G.height=[G.height];var X=G.width,te=G.height,me=new Ct;if(me==null||b==null)var Ee=2;else e(me!=null),Ee=fl(b,w,C,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ee!=0?X=0:(X!=null&&(X[0]=me.width[0]),te!=null&&(te[0]=me.height[0]),X=1),X){G.width=G.width[0],G.height=G.height[0],T!=null&&(T[0]=G.width),F!=null&&(F[0]=G.height);e:{if(T=new sl,(F=new Ge).data=b,F.w=w,F.ha=C,F.kd=1,w=[0],e(F!=null),((b=fl(F.data,F.w,F.ha,null,null,null,w,null,F))==0||b==7)&&w[0]&&(b=4),(w=b)==0){if(e(q!=null),T.data=F.data,T.w=F.w+F.offset,T.ha=F.ha-F.offset,T.put=Nt,T.ac=Pr,T.bc=ls,T.ma=q,F.xa){if((b=Yn())==null){q=1;break e}if((function(Z,ve){var Ae=[0],De=[0],Ne=[0];t:for(;;){if(Z==null)return 0;if(ve==null)return Z.a=2,0;if(Z.l=ve,Z.a=0,ge(Z.m,ve.data,ve.w,ve.ha),!$n(Z.m,Ae,De,Ne)){Z.a=3;break t}if(Z.xb=Ec,ve.width=Ae[0],ve.height=De[0],!Mr(Ae[0],De[0],1,Z,null))break t;return 1}return e(Z.a!=0),0})(b,T)){if(T=(w=Bo(T.width,T.height,q.Oa,q.ba))==0){t:{T=b;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((C=T.l)!=null),e((F=C.ma)!=null),T.xb!=0){if(T.ca=F.ba,T.tb=F.tb,e(T.ca!=null),!Ea(F.Oa,C,Tu)){T.a=2;break n}if(!ba(T,C.width)||C.da)break n;if((C.da||At(T.ca.S))&&Ir(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Ir()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!Y(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Ss(T,T.V,T.Ba,T.c,T.i,C.o,dr))break n;F.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(w=b.a)}else w=b.a}else{if((b=new Ds)==null){q=1;break e}if(b.Fa=F.na,b.P=F.P,b.qc=F.Sa,Qs(b,T)){if((w=Bo(T.width,T.height,q.Oa,q.ba))==0){if(b.Aa=0,C=q.Oa,e((F=b)!=null),C!=null){if(0<(X=0>(X=C.Md)?0:100<X?255:255*X/100)){for(te=me=0;4>te;++te)12>(Ee=F.pb[te]).lc&&(Ee.ia=X*V1[0>Ee.lc?0:Ee.lc]>>3),me|=Ee.ia;me&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=C.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(Z,ve){if(Z==null)return 0;if(ve==null)return mi(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Qs(Z,ve))return 0;if(e(Z.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(Z.L=0);var Ae=Yo[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ve.v-Ae>>4,Z.zb=ve.j-Ae>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ve.o+15+Ae>>4,Z.Hb=ve.va+15+Ae>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var De=Z.ed;for(Ae=0;4>Ae;++Ae){var Ne;if(Z.Qa.Cb){var Fe=Z.Qa.Lb[Ae];Z.Qa.Fb||(Fe+=De.Tb)}else Fe=De.Tb;for(Ne=0;1>=Ne;++Ne){var je=Z.gd[Ae][Ne],$e=Fe;if(De.Pc&&($e+=De.vd[0],Ne&&($e+=De.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var qe=$e;0<De.wb&&(qe=4<De.wb?qe>>2:qe>>1)>9-De.wb&&(qe=9-De.wb),1>qe&&(qe=1),je.dd=qe,je.tc=2*$e+qe,je.ld=40<=$e?2:15<=$e?1:0}else je.tc=0;je.La=Ne}}}Ae=0}else mi(Z,6,"Frame setup failed"),Ae=Z.a;if(Ae=Ae==0){if(Ae){Z.$c=0,0<Z.Aa||(Z.Ic=Hm);t:{Ae=Z.Ic,De=4*(qe=Z.za);var vt=32*qe,st=qe+1,Vt=0<Z.L?qe*(0<Z.Aa?2:1):0,at=(Z.Aa==2?2:1)*qe;if((je=De+832+(Ne=3*(16*Ae+Yo[Z.L])/2*vt)+(Fe=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=je)Ae=0;else{if(je>Z.Vb){if(Z.Vb=0,Z.Ec=r(je),Z.Fc=0,Z.Ec==null){Ae=mi(Z,1,"no memory during frame initialization.");break t}Z.Vb=je}je=Z.Ec,$e=Z.Fc,Z.Ac=je,Z.Bc=$e,$e+=De,Z.Gd=o(vt,dc),Z.Hd=0,Z.rb=o(st+1,Js),Z.sb=1,Z.wa=Vt?o(Vt,ks):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=qe),e(!0),Z.oc=je,Z.pc=$e,$e+=832,Z.ya=o(at,hc),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=qe),Z.R=16*qe,Z.B=8*qe,qe=(vt=Yo[Z.L])*Z.R,vt=vt/2*Z.B,Z.sa=je,Z.ta=$e+qe,Z.qa=Z.sa,Z.ra=Z.ta+16*Ae*Z.R+vt,Z.Ha=Z.qa,Z.Ia=Z.ra+8*Ae*Z.B+vt,Z.$c=0,$e+=Ne,Z.mb=Fe?je:null,Z.nb=Fe?$e:null,e($e+Fe<=Z.Fc+Z.Vb),ol(Z),s(Z.Ac,Z.Bc,0,De),Ae=1}}if(Ae){if(ve.ka=0,ve.y=Z.sa,ve.O=Z.ta,ve.f=Z.qa,ve.N=Z.ra,ve.ea=Z.Ha,ve.Vd=Z.Ia,ve.fa=Z.R,ve.Rc=Z.B,ve.F=null,ve.J=0,!pl){for(Ae=-255;255>=Ae;++Ae)Gh[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Nu[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Eu[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)$h[255+Ae]=0>Ae?0:255<Ae?255:Ae;pl=1}br=gc,Uo=ya,ds=Rr,an=vu,An=Po,nr=yu,ri=Vh,Un=ul,fo=j,kc=ne,gl=Uh,Hh=S,Bm=de,Im=Se,yf=ao,vf=bc,Wh=Ih,yr=zh,Ns[0]=Dr,Ns[1]=jh,Ns[2]=Bh,Ns[3]=ll,Ns[4]=jr,Ns[5]=so,Ns[6]=er,Ns[7]=Su,Ns[8]=mc,Ns[9]=Mo,$o[0]=_u,$o[1]=bf,$o[2]=wu,$o[3]=al,$o[4]=mr,$o[5]=io,$o[6]=Fh,or[0]=us,or[1]=xu,or[2]=ro,or[3]=pc,or[4]=xa,or[5]=Fr,or[6]=wa,Ae=1}else Ae=0}Ae&&(Ae=(function(sn,Ai){for(sn.M=0;sn.M<sn.Va;++sn.M){var jt,ct=sn.Jc[sn.M&sn.Xb],Ze=sn.m,ti=sn;for(jt=0;jt<ti.za;++jt){var Ut=Ze,Qt=ti,ht=Qt.Ac,Wt=Qt.Bc+4*jt,dn=Qt.zc,qn=Qt.ya[Qt.aa+jt];if(Qt.Qa.Bb?qn.$b=Le(Ut,Qt.Pa.jb[0])?2+Le(Ut,Qt.Pa.jb[2]):Le(Ut,Qt.Pa.jb[1]):qn.$b=0,Qt.kc&&(qn.Ad=Le(Ut,Qt.Bd)),qn.Za=!Le(Ut,145)+0,qn.Za){var bi=qn.Ob,yi=0;for(Qt=0;4>Qt;++Qt){var ai,tn=dn[0+Qt];for(ai=0;4>ai;++ai){tn=xf[ht[Wt+ai]][tn];for(var fn=Oa[Le(Ut,tn[0])];0<fn;)fn=Oa[2*fn+Le(Ut,tn[fn])];tn=-fn,ht[Wt+ai]=tn}i(bi,yi,ht,Wt,4),yi+=4,dn[0+Qt]=tn}}else tn=Le(Ut,156)?Le(Ut,128)?1:3:Le(Ut,163)?2:0,qn.Ob[0]=tn,s(ht,Wt,tn,4),s(dn,0,tn,4);qn.Dd=Le(Ut,142)?Le(Ut,114)?Le(Ut,183)?1:3:2:0}if(ti.m.Ka)return mi(sn,7,"Premature end-of-partition0 encountered.");for(;sn.ja<sn.za;++sn.ja){if(ti=ct,Ut=(Ze=sn).rb[Ze.sb-1],ht=Ze.rb[Ze.sb+Ze.ja],jt=Ze.ya[Ze.aa+Ze.ja],Wt=Ze.kc?jt.Ad:0)Ut.la=ht.la=0,jt.Za||(Ut.Na=ht.Na=0),jt.Hc=0,jt.Gc=0,jt.ia=0;else{var li,Tt;if(Ut=ht,ht=ti,Wt=Ze.Pa.Xc,dn=Ze.ya[Ze.aa+Ze.ja],qn=Ze.pb[dn.$b],Qt=dn.ad,bi=0,yi=Ze.rb[Ze.sb-1],tn=ai=0,s(Qt,bi,0,384),dn.Za)var ji=0,ar=Wt[3];else{fn=r(16);var ci=Ut.Na+yi.Na;if(ci=Li(ht,Wt[1],ci,qn.Eb,0,fn,0),Ut.Na=yi.Na=(0<ci)+0,1<ci)br(fn,0,Qt,bi);else{var Es=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Qt[bi+fn]=Es}ji=1,ar=Wt[0]}var Tn=15&Ut.la,vi=15&yi.la;for(fn=0;4>fn;++fn){var Ts=1&vi;for(Es=Tt=0;4>Es;++Es)Tn=Tn>>1|(Ts=(ci=Li(ht,ar,ci=Ts+(1&Tn),qn.Sc,ji,Qt,bi))>ji)<<7,Tt=Tt<<2|(3<ci?3:1<ci?2:Qt[bi+0]!=0),bi+=16;Tn>>=4,vi=vi>>1|Ts<<7,ai=(ai<<8|Tt)>>>0}for(ar=Tn,ji=vi>>4,li=0;4>li;li+=2){for(Tt=0,Tn=Ut.la>>4+li,vi=yi.la>>4+li,fn=0;2>fn;++fn){for(Ts=1&vi,Es=0;2>Es;++Es)ci=Ts+(1&Tn),Tn=Tn>>1|(Ts=0<(ci=Li(ht,Wt[2],ci,qn.Qc,0,Qt,bi)))<<3,Tt=Tt<<2|(3<ci?3:1<ci?2:Qt[bi+0]!=0),bi+=16;Tn>>=2,vi=vi>>1|Ts<<5}tn|=Tt<<4*li,ar|=Tn<<4<<li,ji|=(240&vi)<<li}Ut.la=ar,yi.la=ji,dn.Hc=ai,dn.Gc=tn,dn.ia=43690&tn?0:qn.ia,Wt=!(ai|tn)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[jt.$b][jt.Za],Ze.wa[Ze.Y+Ze.ja].La|=!Wt),ti.Ka)return mi(sn,7,"Premature end-of-file encountered.")}if(ol(sn),Ze=Ai,ti=1,jt=(ct=sn).D,Ut=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(jt.M=ct.M,jt.uc=Ut,hs(ct,jt),ti=1,jt=(Tt=ct.D).Nb,Ut=(tn=Yo[ct.L])*ct.R,ht=tn/2*ct.B,fn=16*jt*ct.R,Es=8*jt*ct.B,Wt=ct.sa,dn=ct.ta-Ut+fn,qn=ct.qa,Qt=ct.ra-ht+Es,bi=ct.Ha,yi=ct.Ia-ht+Es,vi=(Tn=Tt.M)==0,ai=Tn>=ct.Va-1,ct.Aa==2&&hs(ct,Tt),Tt.uc)for(Ts=(ci=ct).D.M,e(ci.D.uc),Tt=ci.yb;Tt<ci.Hb;++Tt){ji=Tt,ar=Ts;var ts=(Fn=(Bi=ci).D).Nb;li=Bi.R;var Fn=Fn.wa[Fn.Y+ji],pn=Bi.sa,gs=Bi.ta+16*ts*li+16*ji,ns=Fn.dd,Cn=Fn.tc;if(Cn!=0)if(e(3<=Cn),Bi.L==1)0<ji&&vf(pn,gs,li,Cn+4),Fn.La&&yr(pn,gs,li,Cn),0<ar&&yf(pn,gs,li,Cn+4),Fn.La&&Wh(pn,gs,li,Cn);else{var Ps=Bi.B,Fi=Bi.qa,vo=Bi.ra+8*ts*Ps+8*ji,zr=Bi.Ha,Bi=Bi.Ia+8*ts*Ps+8*ji;ts=Fn.ld,0<ji&&(Un(pn,gs,li,Cn+4,ns,ts),kc(Fi,vo,zr,Bi,Ps,Cn+4,ns,ts)),Fn.La&&(Hh(pn,gs,li,Cn,ns,ts),Im(Fi,vo,zr,Bi,Ps,Cn,ns,ts)),0<ar&&(ri(pn,gs,li,Cn+4,ns,ts),fo(Fi,vo,zr,Bi,Ps,Cn+4,ns,ts)),Fn.La&&(gl(pn,gs,li,Cn,ns,ts),Bm(Fi,vo,zr,Bi,Ps,Cn,ns,ts))}}if(ct.ia&&alert("todo:DitherRow"),Ze.put!=null){if(Tt=16*Tn,Tn=16*(Tn+1),vi?(Ze.y=ct.sa,Ze.O=ct.ta+fn,Ze.f=ct.qa,Ze.N=ct.ra+Es,Ze.ea=ct.Ha,Ze.W=ct.Ia+Es):(Tt-=tn,Ze.y=Wt,Ze.O=dn,Ze.f=qn,Ze.N=Qt,Ze.ea=bi,Ze.W=yi),ai||(Tn-=tn),Tn>Ze.o&&(Tn=Ze.o),Ze.F=null,Ze.J=null,ct.Fa!=null&&0<ct.Fa.length&&Tt<Tn&&(Ze.J=jn(ct,Ze,Tt,Tn-Tt),Ze.F=ct.mb,Ze.F==null&&Ze.F.length==0)){ti=mi(ct,3,"Could not decode alpha data.");break t}Tt<Ze.j&&(tn=Ze.j-Tt,Tt=Ze.j,e(!(1&tn)),Ze.O+=ct.R*tn,Ze.N+=ct.B*(tn>>1),Ze.W+=ct.B*(tn>>1),Ze.F!=null&&(Ze.J+=Ze.width*tn)),Tt<Tn&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,Ze.F!=null&&(Ze.J+=Ze.v),Ze.ka=Tt-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Tn-Tt,ti=Ze.put(Ze))}jt+1!=ct.Ic||ai||(i(ct.sa,ct.ta-Ut,Wt,dn+16*ct.R,Ut),i(ct.qa,ct.ra-ht,qn,Qt+8*ct.B,ht),i(ct.Ha,ct.Ia-ht,bi,yi+8*ct.B,ht))}if(!ti)return mi(sn,6,"Output aborted.")}return 1})(Z,ve)),ve.bc!=null&&ve.bc(ve),Ae&=1}return Ae?(Z.cb=0,Ae):0})(b,T)||(w=b.a)}}else w=b.a}w==0&&q.Oa!=null&&q.Oa.fd&&(w=yc(q.ba))}q=w}z=q!=0?null:11>z?G.f.RGBA.eb:G.f.kb.y}else z=null;return z};var Wm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,W){for(var R="",B=0;B<4;B++)R+=String.fromCharCode(P[W++]);return R}function f(P,W){return P[W+0]|P[W+1]<<8}function p(P,W){return(P[W+0]|P[W+1]<<8|P[W+2]<<16)>>>0}function v(P,W){return(P[W+0]|P[W+1]<<8|P[W+2]<<16|P[W+3]<<24)>>>0}new c;var y=[0],k=[0],A=[],N=new c,E=n,D=(function(P,W){var R={},B=0,ie=!1,oe=0,pe=0;if(R.frames=[],!(function(O,I){for(var K=0;K<4;K++)if(O[I+K]!="RIFF".charCodeAt(K))return!0;return!1})(P,W)){for(v(P,W+=4),W+=8;W<P.length;){var Q=h(P,W),ae=v(P,W+=4);W+=4;var ue=ae+(1&ae);switch(Q){case"VP8 ":case"VP8L":R.frames[B]===void 0&&(R.frames[B]={}),(le=R.frames[B]).src_off=ie?pe:W-8,le.src_size=oe+ae+8,B++,ie&&(ie=!1,oe=0,pe=0);break;case"VP8X":(le=R.header={}).feature_flags=P[W];var ge=W+4;le.canvas_width=1+p(P,ge),ge+=3,le.canvas_height=1+p(P,ge),ge+=3;break;case"ALPH":ie=!0,oe=ue+8,pe=W-8;break;case"ANIM":(le=R.header).bgcolor=v(P,W),ge=W+4,le.loop_count=f(P,ge),ge+=2;break;case"ANMF":var $,le;(le=R.frames[B]={}).offset_x=2*p(P,W),W+=3,le.offset_y=2*p(P,W),W+=3,le.width=1+p(P,W),W+=3,le.height=1+p(P,W),W+=3,le.duration=p(P,W),W+=3,$=P[W++],le.dispose=1&$,le.blend=$>>1&1}Q!="ANMF"&&(W+=ue)}return R}})(E,0);D.response=E,D.rgbaoutput=!0,D.dataurl=!1;var U=D.header?D.header:null,V=D.frames?D.frames:null;if(U){U.loop_counter=U.loop_count,y=[U.canvas_height],k=[U.canvas_width];for(var J=0;J<V.length&&V[J].blend!=0;J++);}var se=V[0],ee=N.WebPDecodeRGBA(E,se.src_off,se.src_size,k,y);se.rgba=ee,se.imgwidth=k[0],se.imgheight=y[0];for(var M=0;M<k[0]*y[0]*4;M++)A[M]=ee[M];return this.width=k,this.height=y,this.data=A,this}(function(n){var e,t,i,s,r,o,a,c,h,f=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var p=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=O;Object.defineProperty(this,"pdf",{get:function(){return I}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Y){K=!!Y}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Y){re=!!Y}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Y){isNaN(Y)||(ce=Y)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Y){isNaN(Y)||(xe=Y)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Y){var Ue;typeof Y=="number"?Ue=[Y,Y,Y,Y]:((Ue=new Array(4))[0]=Y[0],Ue[1]=Y.length>=2?Y[1]:Ue[0],Ue[2]=Y.length>=3?Y[2]:Ue[0],Ue[3]=Y.length>=4?Y[3]:Ue[1]),h.margin=Ue}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Y){ye=Y}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Y){ke=Y}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(Y){Le=Y}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Y){Y instanceof f&&(h=Y)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Y){h.path=Y}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Y){Re=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ue;Ue=v(Y),this.ctx.fillStyle=Ue.style,this.ctx.isFillTransparent=Ue.a===0,this.ctx.fillOpacity=Ue.a,this.pdf.setFillColor(Ue.r,Ue.g,Ue.b,{a:Ue.a}),this.pdf.setTextColor(Ue.r,Ue.g,Ue.b,{a:Ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ue=v(Y);this.ctx.strokeStyle=Ue.style,this.ctx.isStrokeTransparent=Ue.a===0,this.ctx.strokeOpacity=Ue.a,Ue.a===0?this.pdf.setDrawColor(255,255,255):(Ue.a,this.pdf.setDrawColor(Ue.r,Ue.g,Ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var Ke=null,Ye=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(Y){Ke=null,Ye=null,Qe=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ue;if(this.ctx.font=Y,(Ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var mt=Ue[1];Ue[2];var Xe=Ue[3],Be=Ue[4];Ue[5];var pt=Ue[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(tt==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var ut=(function(lt){var mn,$t,It=[],zt=lt.trim();if(zt==="")return ay;if(zt in bS)return[bS[zt]];for(;zt!=="";){switch($t=null,mn=(zt=vS(zt)).charAt(0)){case'"':case"'":$t=v$(zt.substring(1),mn);break;default:$t=x$(zt)}if($t===null||(It.push($t[0]),(zt=vS($t[1]))!==""&&zt.charAt(0)!==","))return ay;zt=zt.replace(/^,/,"")}return It})(pt);if(this.fontFaces){var bt=(function(lt,mn){var $t=lt.getFontList(),It=JSON.stringify($t);if(Ke===null||Ye!==It){var zt=(function(En){var wt=[];return Object.keys(En).forEach(function(Rn){En[Rn].forEach(function(At){var Ht=null;switch(At){case"bold":Ht={family:Rn,weight:"bold"};break;case"italic":Ht={family:Rn,style:"italic"};break;case"bolditalic":Ht={family:Rn,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:Rn}}Ht!==null&&(Ht.ref={name:Rn,style:At},wt.push(Ht))})}),wt})($t);Ke=(function(En){for(var wt={},Rn=0;Rn<En.length;++Rn){var At=oy(En[Rn]),Ht=At.family,Dn=At.stretch,Kt=At.style,Ct=At.weight;wt[Ht]=wt[Ht]||{},wt[Ht][Dn]=wt[Ht][Dn]||{},wt[Ht][Dn][Kt]=wt[Ht][Dn][Kt]||{},wt[Ht][Dn][Kt][Ct]=At}return wt})(zt.concat(mn)),Ye=It}return Ke})(this.pdf,this.fontFaces),Ot=ut.map(function(lt){return{family:lt,stretch:"normal",weight:Xe,style:mt}}),Lt=(function(lt,mn,$t){for(var It=($t=$t||{}).defaultFontFamily||"times",zt=Object.assign({},y$,$t.genericFontFamilies||{}),En=null,wt=null,Rn=0;Rn<mn.length;++Rn)if(zt[(En=oy(mn[Rn])).family]&&(En.family=zt[En.family]),lt.hasOwnProperty(En.family)){wt=lt[En.family];break}if(!(wt=wt||lt[It]))throw new Error("Could not find a font-family for the rule '"+yS(En)+"' and default family '"+It+"'.");if(wt=(function(At,Ht){if(Ht[At])return Ht[At];var Dn=tv[At],Kt=Dn<=tv.normal?-1:1,Ct=pS(Ht,SN,Dn,Kt);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+At);return Ct})(En.stretch,wt),wt=(function(At,Ht){if(Ht[At])return Ht[At];for(var Dn=_N[At],Kt=0;Kt<Dn.length;++Kt)if(Ht[Dn[Kt]])return Ht[Dn[Kt]];throw new Error("Could not find a matching font-style for "+At)})(En.style,wt),!(wt=(function(At,Ht){if(Ht[At])return Ht[At];if(At===400&&Ht[500])return Ht[500];if(At===500&&Ht[400])return Ht[400];var Dn=b$[At],Kt=pS(Ht,kN,Dn,At<400?-1:1);if(!Kt)throw new Error("Could not find a matching font-weight for value "+At);return Kt})(En.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+yS(En)+"'.");return wt})(bt,Ot);this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var rt="";(Xe==="bold"||parseInt(Xe,10)>=700||mt==="bold")&&(rt="bold"),mt==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var dt="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<ut.length;et++){if(this.pdf.internal.getFont(ut[et],rt,{noFallback:!0,disableWarning:!0})!==void 0){dt=ut[et];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(ut[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=ut[et],rt="bold";else if(this.pdf.internal.getFont(ut[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=ut[et],rt="normal";break}}if(dt===""){for(var Bt=0;Bt<ut.length;Bt++)if(kt[ut[Bt]]){dt=kt[ut[Bt]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};p.prototype.setLineDash=function(O){this.lineDash=O},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){V.call(this,"fill",!1)},p.prototype.stroke=function(){V.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(O,I){if(isNaN(O)||isNaN(I))throw Wn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(O,I)},p.prototype.closePath=function(){var O=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Ln(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){O=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},p.prototype.lineTo=function(O,I){if(isNaN(O)||isNaN(I))throw Wn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},p.prototype.quadraticCurveTo=function(O,I,K,re){if(isNaN(K)||isNaN(re)||isNaN(O)||isNaN(I))throw Wn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(K,re)),xe=this.ctx.transform.applyToPoint(new o(O,I));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},p.prototype.bezierCurveTo=function(O,I,K,re,ce,xe){if(isNaN(ce)||isNaN(xe)||isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Wn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(ce,xe)),ke=this.ctx.transform.applyToPoint(new o(O,I)),Le=this.ctx.transform.applyToPoint(new o(K,re));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Le.x,y2:Le.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},p.prototype.arc=function(O,I,K,re,ce,xe){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re)||isNaN(ce))throw Wn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(O,I));O=ye.x,I=ye.y;var ke=this.ctx.transform.applyToPoint(new o(0,K)),Le=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ke.x-Le.x,2)+Math.pow(ke.y-Le.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:O,y:I,radius:K,startAngle:re,endAngle:ce,counterclockwise:xe})},p.prototype.arcTo=function(O,I,K,re,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(O,I,K,re){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Wn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,I),this.lineTo(O+K,I),this.lineTo(O+K,I+re),this.lineTo(O,I+re),this.lineTo(O,I),this.lineTo(O+K,I),this.lineTo(O,I)},p.prototype.fillRect=function(O,I,K,re){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Wn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,I,K,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(O,I,K,re){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Wn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(O,I,K,re),this.stroke())},p.prototype.clearRect=function(O,I,K,re){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re))throw Wn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,I,K,re))},p.prototype.save=function(O){O=typeof O!="boolean"||O;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},p.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(I),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(O){var I,K,re,ce;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))I=0,K=0,re=0,ce=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(xe!==null)I=parseInt(xe[1]),K=parseInt(xe[2]),re=parseInt(xe[3]),ce=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)I=parseInt(xe[1]),K=parseInt(xe[2]),re=parseInt(xe[3]),ce=parseFloat(xe[4]);else{if(ce=1,typeof O=="string"&&O.charAt(0)!=="#"){var ye=new mN(O);O=ye.ok?ye.toHex():"#000000"}O.length===4?(I=O.substring(1,2),I+=I,K=O.substring(2,3),K+=K,re=O.substring(3,4),re+=re):(I=O.substring(1,3),K=O.substring(3,5),re=O.substring(5,7)),I=parseInt(I,16),K=parseInt(K,16),re=parseInt(re,16)}}return{r:I,g:K,b:re,a:ce,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(O,I,K,re){if(isNaN(I)||isNaN(K)||typeof O!="string")throw Wn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!y.call(this)){var ce=ue(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;B.call(this,{text:O,x:I,y:K,scale:xe,angle:ce,align:this.textAlign,maxWidth:re})}},p.prototype.strokeText=function(O,I,K,re){if(isNaN(I)||isNaN(K)||typeof O!="string")throw Wn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){re=isNaN(re)?void 0:re;var ce=ue(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;B.call(this,{text:O,x:I,y:K,scale:xe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},p.prototype.measureText=function(O){if(typeof O!="string")throw Wn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,K=this.pdf.internal.scaleFactor,re=I.internal.getFontSize(),ce=I.getStringUnitWidth(O)*re/I.internal.scaleFactor;return new function(xe){var ye=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:ce*=Math.round(96*K/72*1e4)/1e4})},p.prototype.scale=function(O,I){if(isNaN(O)||isNaN(I))throw Wn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(O,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.rotate=function(O){if(isNaN(O))throw Wn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},p.prototype.translate=function(O,I){if(isNaN(O)||isNaN(I))throw Wn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,O,I);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.transform=function(O,I,K,re,ce,xe){if(isNaN(O)||isNaN(I)||isNaN(K)||isNaN(re)||isNaN(ce)||isNaN(xe))throw Wn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(O,I,K,re,ce,xe);this.ctx.transform=this.ctx.transform.multiply(ye)},p.prototype.setTransform=function(O,I,K,re,ce,xe){O=isNaN(O)?1:O,I=isNaN(I)?0:I,K=isNaN(K)?0:K,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(O,I,K,re,ce,xe)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(O,I,K,re,ce,xe,ye,ke,Le){var Re=this.pdf.getImageProperties(O),Ke=1,Ye=1,Qe=1,Y=1;re!==void 0&&ke!==void 0&&(Qe=ke/re,Y=Le/ce,Ke=Re.width/re*ke/re,Ye=Re.height/ce*Le/ce),xe===void 0&&(xe=I,ye=K,I=0,K=0),re!==void 0&&ke===void 0&&(ke=re,Le=ce),re===void 0&&ke===void 0&&(ke=Re.width,Le=Re.height);var Ue=this.ctx.transform.decompose(),mt=ue(Ue.rotate.shx),Xe=new c,Be=(Xe=(Xe=(Xe=Xe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new a(xe-I*Qe,ye-K*Y,re*Ke,ce*Ye));if(this.autoPaging){for(var pt,tt=N.call(this,Be),ut=[],bt=0;bt<tt.length;bt+=1)ut.indexOf(tt[bt])===-1&&ut.push(tt[bt]);U(ut);for(var Ot=ut[0],Lt=ut[ut.length-1],rt=Ot;rt<Lt+1;rt++){this.pdf.setPage(rt);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=rt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=rt===1?0:et+(rt-2)*Bt;if(this.ctx.clip_path.length!==0){var mn=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(pt,this.posX+this.margin[3],-lt+kt+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=mn}var $t=JSON.parse(JSON.stringify(Be));$t=D([$t],this.posX+this.margin[3],-lt+kt+this.ctx.prevPageLastElemOffset)[0];var It=(rt>Ot||rt<Lt)&&A.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Bt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,mt),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,mt)};var N=function(O,I,K){var re=[];I=I||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":re.push(Math.floor((O.y+ce)/K)+1);break;case"arc":re.push(Math.floor((O.y+ce-O.radius)/K)+1),re.push(Math.floor((O.y+ce+O.radius)/K)+1);break;case"qct":var xe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);re.push(Math.floor((xe.y+ce)/K)+1),re.push(Math.floor((xe.y+xe.h+ce)/K)+1);break;case"bct":var ye=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);re.push(Math.floor((ye.y+ce)/K)+1),re.push(Math.floor((ye.y+ye.h+ce)/K)+1);break;case"rect":re.push(Math.floor((O.y+ce)/K)+1),re.push(Math.floor((O.y+O.h+ce)/K)+1)}for(var ke=0;ke<re.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<re[ke];)E.call(this);return re},E=function(){var O=this.fillStyle,I=this.strokeStyle,K=this.font,re=this.lineCap,ce=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=I,this.font=K,this.lineCap=re,this.lineWidth=ce,this.lineJoin=xe},D=function(O,I,K){for(var re=0;re<O.length;re++)switch(O[re].type){case"bct":O[re].x2+=I,O[re].y2+=K;case"qct":O[re].x1+=I,O[re].y1+=K;default:O[re].x+=I,O[re].y+=K}return O},U=function(O){return O.sort(function(I,K){return I-K})},V=function(O,I){var K=this.fillStyle,re=this.strokeStyle,ce=this.lineCap,xe=this.lineWidth,ye=Math.abs(xe*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var Le,Re,Ke=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),Qe=[],Y=0;Y<Ye.length;Y++)if(Ye[Y].x!==void 0)for(var Ue=N.call(this,Ye[Y]),mt=0;mt<Ue.length;mt+=1)Qe.indexOf(Ue[mt])===-1&&Qe.push(Ue[mt]);for(var Xe=0;Xe<Qe.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Qe[Xe];)E.call(this);U(Qe);for(var Be=Qe[0],pt=Qe[Qe.length-1],tt=Be;tt<pt+1;tt++){this.pdf.setPage(tt),this.fillStyle=K,this.strokeStyle=re,this.lineCap=ce,this.lineWidth=ye,this.lineJoin=ke;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=tt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=tt===1?0:Ot+(tt-2)*Lt;if(this.ctx.clip_path.length!==0){var dt=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Le,this.posX+this.margin[3],-rt+bt+this.ctx.prevPageLastElemOffset),J.call(this,O,!0),this.path=dt}if(Re=JSON.parse(JSON.stringify(Ke)),this.path=D(Re,this.posX+this.margin[3],-rt+bt+this.ctx.prevPageLastElemOffset),I===!1||tt===0){var kt=(tt>Be||tt<pt)&&A.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Lt,null).clip().discardPath()),J.call(this,O,I),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}this.path=Ke}else this.lineWidth=ye,J.call(this,O,I),this.lineWidth=xe},J=function(O,I){if((O!=="stroke"||I||!k.call(this))&&(O==="stroke"||I||!y.call(this))){for(var K,re,ce=[],xe=this.path,ye=0;ye<xe.length;ye++){var ke=xe[ye];switch(ke.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ke,deltas:[],abs:[]});break;case"lt":var Le=ce.length;if(xe[ye-1]&&!isNaN(xe[ye-1].x)&&(K=[ke.x-xe[ye-1].x,ke.y-xe[ye-1].y],Le>0)){for(;Le>=0;Le--)if(ce[Le-1].close!==!0&&ce[Le-1].begin!==!0){ce[Le-1].deltas.push(K),ce[Le-1].abs.push(ke);break}}break;case"bct":K=[ke.x1-xe[ye-1].x,ke.y1-xe[ye-1].y,ke.x2-xe[ye-1].x,ke.y2-xe[ye-1].y,ke.x-xe[ye-1].x,ke.y-xe[ye-1].y],ce[ce.length-1].deltas.push(K);break;case"qct":var Re=xe[ye-1].x+2/3*(ke.x1-xe[ye-1].x),Ke=xe[ye-1].y+2/3*(ke.y1-xe[ye-1].y),Ye=ke.x+2/3*(ke.x1-ke.x),Qe=ke.y+2/3*(ke.y1-ke.y),Y=ke.x,Ue=ke.y;K=[Re-xe[ye-1].x,Ke-xe[ye-1].y,Ye-xe[ye-1].x,Qe-xe[ye-1].y,Y-xe[ye-1].x,Ue-xe[ye-1].y],ce[ce.length-1].deltas.push(K);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ke)}}re=I?null:O==="stroke"?"stroke":"fill";for(var mt=!1,Xe=0;Xe<ce.length;Xe++)if(ce[Xe].arc)for(var Be=ce[Xe].abs,pt=0;pt<Be.length;pt++){var tt=Be[pt];tt.type==="arc"?M.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,I,!mt):ie.call(this,tt.x,tt.y),mt=!0}else if(ce[Xe].close===!0)this.pdf.internal.out("h"),mt=!1;else if(ce[Xe].begin!==!0){var ut=ce[Xe].start.x,bt=ce[Xe].start.y;oe.call(this,ce[Xe].deltas,ut,bt),mt=!0}re&&P.call(this,re),I&&W.call(this)}},se=function(O){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-K;case"top":return O+I-K;case"hanging":return O+I-2*K;case"middle":return O+I/2-K;default:return O}},ee=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(I,K){this.colorStops.push([I,K])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(O,I,K,re,ce,xe,ye,ke,Le){for(var Re=Q.call(this,K,re,ce,xe),Ke=0;Ke<Re.length;Ke++){var Ye=Re[Ke];Ke===0&&(Le?R.call(this,Ye.x1+O,Ye.y1+I):ie.call(this,Ye.x1+O,Ye.y1+I)),pe.call(this,O,I,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}ke?W.call(this):P.call(this,ye)},P=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(O,I){this.pdf.internal.out(t(O)+" "+i(I)+" m")},B=function(O){var I;switch(O.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var K,re,ce,xe=this.pdf.getTextDimensions(O.text),ye=se.call(this,O.y),ke=ee.call(this,ye)-xe.h,Le=this.ctx.transform.applyToPoint(new o(O.x,ye));if(this.autoPaging){var Re=this.ctx.transform.decompose(),Ke=new c;Ke=(Ke=(Ke=Ke.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var Ye=this.ctx.transform.applyToRectangle(new a(O.x,ye,xe.w,xe.h)),Qe=Ke.applyToRectangle(new a(O.x,ke,xe.w,xe.h)),Y=N.call(this,Qe),Ue=[],mt=0;mt<Y.length;mt+=1)Ue.indexOf(Y[mt])===-1&&Ue.push(Y[mt]);U(Ue);for(var Xe=Ue[0],Be=Ue[Ue.length-1],pt=Xe;pt<Be+1;pt++){this.pdf.setPage(pt);var tt=pt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Ot=bt-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],rt=Lt-this.margin[3],dt=pt===1?0:ut+(pt-2)*Ot;if(this.ctx.clip_path.length!==0){var kt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(K,this.posX+this.margin[3],-1*dt+tt),J.call(this,"fill",!0),this.path=kt}var et=D([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-dt+tt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale);var Bt=this.autoPaging!=="text";if(Bt||et.y+et.h<=bt){if(Bt||et.y>=tt&&et.x<=Lt){var lt=Bt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Lt-et.x)[0],mn=D([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-dt+tt+this.ctx.prevPageLastElemOffset)[0],$t=Bt&&(pt>Xe||pt<Be)&&A.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Ot,null).clip().discardPath()),this.pdf.text(lt,mn.x,mn.y,{angle:O.angle,align:I,renderingMode:O.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else et.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-et.y);O.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)}}else O.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*O.scale),ce=this.lineWidth,this.lineWidth=ce*O.scale),this.pdf.text(O.text,Le.x+this.posX,Le.y+this.posY,{angle:O.angle,align:I,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)},ie=function(O,I,K,re){K=K||0,re=re||0,this.pdf.internal.out(t(O+K)+" "+i(I+re)+" l")},oe=function(O,I,K){return this.pdf.lines(O,I,K,null,null)},pe=function(O,I,K,re,ce,xe,ye,ke){this.pdf.internal.out([e(s(K+O)),e(r(re+I)),e(s(ce+O)),e(r(xe+I)),e(s(ye+O)),e(r(ke+I)),"c"].join(" "))},Q=function(O,I,K,re){for(var ce=2*Math.PI,xe=Math.PI/2;I>K;)I-=ce;var ye=Math.abs(K-I);ye<ce&&re&&(ye=ce-ye);for(var ke=[],Le=re?-1:1,Re=I;ye>1e-5;){var Ke=Re+Le*Math.min(ye,xe);ke.push(ae.call(this,O,Re,Ke)),ye-=Math.abs(Ke-Re),Re=Ke}return ke},ae=function(O,I,K){var re=(K-I)/2,ce=O*Math.cos(re),xe=O*Math.sin(re),ye=ce,ke=-xe,Le=ye*ye+ke*ke,Re=Le+ye*ce+ke*xe,Ke=4/3*(Math.sqrt(2*Le*Re)-Re)/(ye*xe-ke*ce),Ye=ye-Ke*ke,Qe=ke+Ke*ye,Y=Ye,Ue=-Qe,mt=re+I,Xe=Math.cos(mt),Be=Math.sin(mt);return{x1:O*Math.cos(I),y1:O*Math.sin(I),x2:Ye*Xe-Qe*Be,y2:Ye*Be+Qe*Xe,x3:Y*Xe-Ue*Be,y3:Y*Be+Ue*Xe,x4:O*Math.cos(K),y4:O*Math.sin(K)}},ue=function(O){return 180*O/Math.PI},ge=function(O,I,K,re,ce,xe){var ye=O+.5*(K-O),ke=I+.5*(re-I),Le=ce+.5*(K-ce),Re=xe+.5*(re-xe),Ke=Math.min(O,ce,ye,Le),Ye=Math.max(O,ce,ye,Le),Qe=Math.min(I,xe,ke,Re),Y=Math.max(I,xe,ke,Re);return new a(Ke,Qe,Ye-Ke,Y-Qe)},$=function(O,I,K,re,ce,xe,ye,ke){var Le,Re,Ke,Ye,Qe,Y,Ue,mt,Xe,Be,pt,tt,ut,bt,Ot=K-O,Lt=re-I,rt=ce-K,dt=xe-re,kt=ye-ce,et=ke-xe;for(Re=0;Re<41;Re++)Xe=(Ue=(Ke=O+(Le=Re/40)*Ot)+Le*((Qe=K+Le*rt)-Ke))+Le*(Qe+Le*(ce+Le*kt-Qe)-Ue),Be=(mt=(Ye=I+Le*Lt)+Le*((Y=re+Le*dt)-Ye))+Le*(Y+Le*(xe+Le*et-Y)-mt),Re==0?(pt=Xe,tt=Be,ut=Xe,bt=Be):(pt=Math.min(pt,Xe),tt=Math.min(tt,Be),ut=Math.max(ut,Xe),bt=Math.max(bt,Be));return new a(Math.round(pt),Math.round(tt),Math.round(ut-pt),Math.round(bt-tt))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,I,K=(O=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:I}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(_t.API),(function(n){var e=function(o){var a,c,h,f,p,v,y,k,A,N;for(c=[],h=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(p=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(v=(p=((p=((p=((p=(p-(N=p%85))/85)-(A=p%85))/85)-(k=p%85))/85)-(y=p%85))/85)%85,c.push(v+33,y+33,k+33,A+33,N+33)):c.push(122);return(function(E,D){for(var U=D;U>0;U--)E.pop()})(c,a.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var a,c,h,f,p,v=String,y="length",k=255,A="charCodeAt",N="slice",E="replace";for(o[N](-2),o=o[N](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],f=0,p=(o+=a="uuuuu"[N](o[y]%5||5))[y];p>f;f+=5)c=52200625*(o[A](f)-33)+614125*(o[A](f+1)-33)+7225*(o[A](f+2)-33)+85*(o[A](f+3)-33)+(o[A](f+4)-33),h.push(k&c>>24,k&c>>16,k&c>>8,k&c);return(function(D,U){for(var V=U;V>0;V--)D.pop()})(h,a[y]),v.fromCharCode.apply(v,h)},i=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var c="",h=0;h<o.length;h+=2)c+=String.fromCharCode("0x"+(o[h]+o[h+1]));return c},r=function(o){for(var a=new Uint8Array(o.length),c=o.length;c--;)a[c]=o.charCodeAt(c);return(a=Ky(a)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var c=0,h=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=i(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(_t.API),(function(n){n.loadFile=function(e,t,i){return(function(s,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(c,h,f){var p=new XMLHttpRequest,v=0,y=function(k){var A=k.length,N=[],E=String.fromCharCode;for(v=0;v<A;v+=1)N.push(E(255&k.charCodeAt(v)));return N.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(y(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return y(p.responseText)})(s,r,o)}catch{}return a})(e,t,i)},n.loadImageFile=n.loadFile})(_t.API),(function(n){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Ub(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Ub(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var c=Ln(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(a,c){var h=document.createElement(a);for(var f in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[f]=c.style[f];return h},r=function a(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(a(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function a(c){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),h);return(f=f.setProgress(1,a,1,[a])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,c){return a.__proto__=c||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,c){return this.then(function(){switch(c=c||(function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),c){case"string":return this.then(t).then(function(h){return this.set({src:s("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=r(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var k=f[y],A=k.src.find(function(N){return N.format==="truetype"});A&&h.addFont(A.url,k.ref.name,k.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},o.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(i(a)!=="object")return this;var c=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(a,c){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return c?c(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function c(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(a=a||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,c,h,f){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,c,h,f){return this.setProgress(a?this.progress.val+a:null,c||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,c){var h=this;return this.thenCore(a,c,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,f),v}).then(f,p).then(function(v){return h.updateProgress(1),v})})},o.prototype.thenCore=function(a,c,h){h=h||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=h.call(p,a,c);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},o.prototype.thenList=function(a){var c=this;return a.forEach(function(h){c=c.thenCore(h)}),c},o.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return o.convert(c,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,_t.getPageSize=function(a,c,h){if(Ln(a)==="object"){var f=a;a=f.orientation,c=f.unit||c,h=f.format||h}c=c||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var p,v=(""+h).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var k,A=0,N=0;if(y.hasOwnProperty(v))A=y[v][1]/p,N=y[v][0]/p;else try{A=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(a==="p"||a==="portrait")a="p",N>A&&(k=N,N=A,A=k);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",A>N&&(k=N,N=A,A=k)}return{width:N,height:A,unit:c,k:p,orientation:a}},n.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(oy):null;var h=new o(c);return c.worker?h:h.from(a).doCallback()}})(_t.API),_t.API.addJS=function(n){return wS=n,this.internal.events.subscribe("postPutResources",function(){d0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(d0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){d0!==void 0&&xS!==void 0&&this.internal.out("/Names <</JavaScript "+d0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),r=0;r<s.length;r++){var o=s[r],a=i.exec(o);if(a!=null){var c=a[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(r=0;r<h;r++){var p=t.internal.newObject();f.push(p);var v=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<f.length;r++)t.internal.write("(page_"+(r+1)+")"+f[r]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,r){var o={title:s,options:r,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var o=i.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var r=0;r<s.children.length;r++)i.count++,this.count_r(i,s.children[r]);return i.count}}])})(_t.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,s,r,o,a){var c,h=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(p){for(var v,y=256*p.charCodeAt(4)+p.charCodeAt(5),k=p.length,A={width:0,height:0,numcomponents:1},N=4;N<k;N+=2){if(N+=y,e.indexOf(p.charCodeAt(N+1))!==-1){v=256*p.charCodeAt(N+5)+p.charCodeAt(N+6),A={width:256*p.charCodeAt(N+7)+p.charCodeAt(N+8),height:v,numcomponents:p.charCodeAt(N+9)};break}y=256*p.charCodeAt(N+2)+p.charCodeAt(N+3)}return A})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:t,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:h,index:i,alias:s}}return f}})(_t.API),_t.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,r=i$(n,{checkCrc:!0}),o=r.width,a=r.height,c=r.channels,h=r.palette,f=r.depth;s=h&&c===1?(function(M){for(var P=M.width,W=M.height,R=M.data,B=M.palette,ie=M.depth,oe=!1,pe=[],Q=[],ae=void 0,ue=!1,ge=0,$=0;$<B.length;$++){var le=A6(B[$],4),O=le[0],I=le[1],K=le[2],re=le[3];pe.push(O,I,K),re!=null&&(re===0?(ge++,Q.length<1&&Q.push($)):re<255&&(ue=!0))}if(ue||ge>1){oe=!0,Q=void 0;var ce=P*W;ae=new Uint8Array(ce);for(var xe=new DataView(R.buffer),ye=0;ye<ce;ye++){var ke=ly(xe,ye,ie),Le=A6(B[ke],4)[3];ae[ye]=Le}}else ge===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:R,alphaBytes:ae,needSMask:oe,palette:pe,mask:Q}})(r):c===2||c===4?(function(M){for(var P=M.data,W=M.width,R=M.height,B=M.channels,ie=M.depth,oe=B===2?"DeviceGray":"DeviceRGB",pe=B-1,Q=W*R,ae=pe,ue=Q*ae,ge=1*Q,$=Math.ceil(ue*ie/8),le=Math.ceil(ge*ie/8),O=new Uint8Array($),I=new Uint8Array(le),K=new DataView(P.buffer),re=new DataView(O.buffer),ce=new DataView(I.buffer),xe=!1,ye=0;ye<Q;ye++){for(var ke=ye*B,Le=0;Le<ae;Le++)PS(re,ly(K,ke+Le,ie),ye*ae+Le,ie);var Re=ly(K,ke+ae,ie);Re<(1<<ie)-1&&(xe=!0),PS(ce,Re,1*ye,ie)}return{colorSpace:oe,colorsPerPixel:pe,sMaskBitsPerComponent:xe?ie:void 0,colorBytes:O,alphaBytes:I,needSMask:xe}})(r):(function(M){var P=M.data,W=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(R){for(var B=R.length,ie=new Uint8Array(2*B),oe=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),pe=0;pe<B;pe++)oe.setUint16(2*pe,R[pe],!1);return ie})(P):P,needSMask:!1}})(r);var p,v,y,k=s,A=k.colorSpace,N=k.colorsPerPixel,E=k.sMaskBitsPerComponent,D=k.colorBytes,U=k.alphaBytes,V=k.needSMask,J=k.palette,se=k.mask,ee=null;return i!==_t.API.image_compression.NONE&&typeof Ky=="function"?(ee=(function(M){var P;switch(M){case _t.API.image_compression.FAST:P=11;break;case _t.API.image_compression.MEDIUM:P=13;break;case _t.API.image_compression.SLOW:P=14;break;default:P=12}return P})(i),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(ee," /Colors ").concat(N," /BitsPerComponent ").concat(f," /Columns ").concat(o),n=AS(D,Math.ceil(o*N*f/8),N,f,i),V&&(y=AS(U,Math.ceil(o*E/8),1,E,i))):(p=void 0,v=void 0,n=D,V&&(y=U)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:n,index:e,filter:p,decodeParameters:v,transparency:se,palette:J,sMask:y,predictor:ee,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:E,colorSpace:A}}},(function(n){n.processGIF89A=function(e,t,i,s){var r=new k$(e),o=r.width,a=r.height,c=[];r.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:a},f=new cy(100).encode(h,100);return n.processJPEG.call(this,f,t,i,s)},n.processGIF87A=n.processGIF89A})(_t.API),na.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},na.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Wn.log("bit decode error:"+t)}},na.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var c=this.palette[r>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},na.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*s*4,a=r>>4,c=15&r,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*s+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},na.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*i;if(s<this.palette.length){var o=this.palette[s];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}n!==0&&(this.pos+=4-n)}},na.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&e)/e*255|0,a=(r>>5&e)/e*255|0,c=(r>>10&e)/e*255|0,h=r>>15?255:0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=h}this.pos+=n}},na.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,f=s*this.width*4+4*r;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=255}this.pos+=n}},na.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=r,this.data[o+1]=s,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},na.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=r,this.data[a+1]=s,this.data[a+2]=i,this.data[a+3]=o}},na.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,s){var r=new na(e,!1),o=r.width,a=r.height,c={data:r.getData(),width:o,height:a},h=new cy(100).encode(c,100);return n.processJPEG.call(this,h,t,i,s)}})(_t.API),OS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,s){var r=new OS(e),o=r.width,a=r.height,c={data:r.getData(),width:o,height:a},h=new cy(100).encode(c,100);return n.processJPEG.call(this,h,t,i,s)}})(_t.API),_t.API.processRGBA=function(n,e,t){for(var i=n.data,s=i.length,r=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,c=0,h=0;h<s;h+=4){var f=i[h],p=i[h+1],v=i[h+2],y=i[h+3];r[a++]=f,r[a++]=p,r[a++]=v,o[c++]=y}var k=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_t.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Od=_t.API,f0=Od.getCharWidthsArray=function(n,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,c=a.fof?a.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,v=0,y=n.length,k=0,A=a[0]||c,N=[];for(t=0;t<y;t++)i=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+o*(1e3/r)||0)/1e3):(v=p&&Ln(h[i])==="object"&&!isNaN(parseInt(h[i][k],10))?h[i][k]/f:0,N.push((a[i]||A)/c+v)),k=i;return N},_S=Od.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Od.processArabic&&(n=Od.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,s)/t:f0.apply(this,arguments).reduce(function(r,o){return r+o},0)},SS=function(n,e,t,i){for(var s=[],r=0,o=n.length,a=0;r!==o&&a+e[r]<t;)a+=e[r],r++;s.push(n.slice(0,r));var c=r;for(a=0;r!==o;)a+e[r]>i&&(s.push(n.slice(c,r)),a=0,c=r),a+=e[r],r++;return c!==r&&s.push(n.slice(c,r)),s},kS=function(n,e,t){t||(t={});var i,s,r,o,a,c,h,f=[],p=[f],v=t.textIndent||0,y=0,k=0,A=n.split(" "),N=f0.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var E=Array(c).join(" "),D=[];A.map(function(V){(V=V.split(/\s*\n/)).length>1?D=D.concat(V.map(function(J,se){return(se&&J.length?`
`:"")+J})):D.push(V[0])}),A=D,c=_S.apply(this,[E,t])}for(r=0,o=A.length;r<o;r++){var U=0;if(i=A[r],c&&i[0]==`
`&&(i=i.substr(1),U=1),v+y+(k=(s=f0.apply(this,[i,t])).reduce(function(V,J){return V+J},0))>e||U){if(k>e){for(a=SS.apply(this,[i,s,e-(v+y),e]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);k=s.slice(i.length-(f[0]?f[0].length:0)).reduce(function(V,J){return V+J},0)}else f=[i];p.push(f),v=k+c,y=N}else f.push(i),v+=y+k,y=N}return h=c?function(V,J){return(J?E:"")+V.join(" ")}:function(V){return V.join(" ")},p.map(h)},Od.splitTextToSize=function(n,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),r=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;r.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,r.lineIndent=t.lineIndent;var a,c,h=[];for(a=0,c=i.length;a<c;a++)h=h.concat(kS.apply(this,[i[a],o,r]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},r=0;r<16;r++)i[t[r]]=e[r],s[e[r]]=t[r];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=n.__fontmetrics__.compress=function(v){var y,k,A,N,E=["{"];for(var D in v){if(y=v[D],isNaN(parseInt(D,10))?k="'"+D+"'":(D=parseInt(D,10),k=(k=o(D).slice(2)).slice(0,-1)+s[k.slice(-1)]),typeof y=="number")y<0?(A=o(y).slice(3),N="-"):(A=o(y).slice(2),N=""),A=N+A.slice(0,-1)+s[A.slice(-1)];else{if(Ln(y)!=="object")throw new Error("Don't know what to do with value type "+Ln(y)+".");A=a(y)}E.push(k+A)}return E.push("}"),E.join("")},c=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,k,A,N,E={},D=1,U=E,V=[],J="",se="",ee=v.length-1,M=1;M<ee;M+=1)(N=v[M])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(N):N=="{"?(V.push([U,A]),U={},A=void 0):N=="}"?((k=V.pop())[0][k[1]]=U,A=void 0,U=k[0]):N=="-"?D=-1:A===void 0?i.hasOwnProperty(N)?(J+=i[N],A=parseInt(J,16)*D,D=1,J=""):J+=N:i.hasOwnProperty(N)?(se+=i[N],U[A]=parseInt(se,16)*D,D=1,A=void 0,se=""):se+=N;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var y=v.font,k=p.Unicode[y.postScriptName];k&&(y.metadata.Unicode={},y.metadata.Unicode.widths=k.widths,y.metadata.Unicode.kerning=k.kerning);var A=f.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])})(_t.API),(function(n){var e=function(t){for(var i=t.length,s=new Uint8Array(i),r=0;r<i;r++)s[r]=t.charCodeAt(r);return s};n.API.events.push(["addFont",function(t){var i=void 0,s=t.font,r=t.instance;if(!s.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=r.existsFileInVFS(s.postScriptName)===!1?r.loadFile(s.postScriptName):r.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(E0(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,i)}}])})(_t),_t.API.addSvgAsImage=function(n,e,t,i,s,r,o,a){if(isNaN(e)||isNaN(t))throw Wn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Wn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(qt.canvg?Promise.resolve(qt.canvg):Ub(()=>import("./index.es-CoyPPEvN.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,i,s,o,a)})},_t.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},_t.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,s,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],h=0,f=0,p=0;function v(k,A){var N,E=!1;for(N=0;N<k.length;N+=1)k[N]===A&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=a.length;for(p=0;p<y;p+=1)t[a[p]].value=t[a[p]].defaultValue,t[a[p]].explicitSet=!1}if(Ln(n)==="object"){for(s in n)if(r=n[s],v(a,s)&&r!==void 0){if(t[s].type==="boolean"&&typeof r=="boolean")t[s].value=r;else if(t[s].type==="name"&&v(t[s].valueSet,r))t[s].value=r;else if(t[s].type==="integer"&&Number.isInteger(r))t[s].value=r;else if(t[s].type==="array"){for(h=0;h<r.length;h+=1)if(i=!0,r[h].length===1&&typeof r[h][0]=="number")c.push(String(r[h]-1));else if(r[h].length>1){for(f=0;f<r[h].length;f+=1)typeof r[h][f]!="number"&&(i=!1);i===!0&&c.push([r[h][0]-1,r[h][1]-1].join(" "))}t[s].value="["+c.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,A=[];for(k in t)t[k].explicitSet===!0&&(t[k].type==="name"?A.push("/"+k+" /"+t[k].value):A.push("/"+k+" "+t[k].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=r.length+o.length+a.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+r+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(_t.API),(function(n){var e=n.API,t=e.pdfEscape16=function(r,o){for(var a,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,v=r.length;p<v;++p){if(a=o.metadata.characterToGlyph(r.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=r.charCodeAt(p),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(h[4-a.length],a)}return f.join("")},i=function(r){var o,a,c,h,f,p,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,v=(a=Object.keys(r).sort(function(y,k){return y-k})).length;p<v;p++)o=a[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(h=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(r){(function(o){var a=o.font,c=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),y="",k=0;k<v.length;k++)y+=String.fromCharCode(v[k]);var A=h();f({data:y,addLength1:!0,objectId:A}),c("endobj");var N=h();f({data:i(a.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var E=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fd(a.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var D=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fd(a.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Fd(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+D+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(r)}]),e.events.push(["putFont",function(r){(function(o){var a=o.font,c=o.out,h=o.newObject,f=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,v="",y=0;y<p.length;y++)v+=String.fromCharCode(p[y]);var k=h();f({data:v,addLength1:!0,objectId:k}),c("endobj");var A=h();f({data:i(a.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var N=h();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+k+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Fd(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=h();for(var E=0;E<a.metadata.hmtx.widths.length;E++)a.metadata.hmtx.widths[E]=parseInt(a.metadata.hmtx.widths[E]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Fd(a.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(r)}]);var s=function(r){var o,a=r.text||"",c=r.x,h=r.y,f=r.options||{},p=r.mutex||{},v=p.pdfEscape,y=p.activeFontKey,k=p.fonts,A=y,N="",E=0,D="",U=k[A].encoding;if(k[A].encoding!=="Identity-H")return{text:a,x:c,y:h,options:f,mutex:p};for(D=a,A=y,Array.isArray(a)&&(D=a[0]),E=0;E<D.length;E+=1)k[A].metadata.hasOwnProperty("cmap")&&(o=k[A].metadata.cmap.unicode.codeMap[D[E].charCodeAt(0)]),o||D[E].charCodeAt(0)<256&&k[A].metadata.hasOwnProperty("Unicode")?N+=D[E]:N+="";var V="";return parseInt(A.slice(1))<14||U==="WinAnsiEncoding"?V=v(N,A).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(V=t(N,k[A])),p.isHex=!0,{text:V,x:c,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(r){var o=r.text||"",a=[],c={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([s(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(s(Object.assign({},c,{text:o[h]})).text);r.text=a}else r.text=s(Object.assign({},c,{text:o})).text}])})(_t),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(_t.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,r,o,a,c,h,f,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,U=0;this.__bidiEngine__={};var V=function(R){var B=R.charCodeAt(),ie=B>>8,oe=A[ie];return oe!==void 0?p[256*oe+(255&B)]:ie===252||ie===253?"AL":E.test(ie)?"L":ie===8?"R":"N"},J=function(R){for(var B,ie=0;ie<R.length;ie++){if((B=V(R.charAt(ie)))==="L")return!1;if(B==="R")return!0}return!1},se=function(R,B,ie,oe){var pe,Q,ae,ue,ge=B[oe];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(ge="AN");break;case"AL":D=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":oe<1||oe+1>=B.length||(pe=ie[oe-1])!=="EN"&&pe!=="AN"||(Q=B[oe+1])!=="EN"&&Q!=="AN"?ge="N":D&&(Q="AN"),ge=Q===pe?Q:"N";break;case"ES":ge=(pe=oe>0?ie[oe-1]:"B")==="EN"&&oe+1<B.length&&B[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ie[oe-1]==="EN"){ge="EN";break}if(D){ge="N";break}for(ae=oe+1,ue=B.length;ae<ue&&B[ae]==="ET";)ae++;ge=ae<ue&&B[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ue=B.length,ae=oe+1;ae<ue&&B[ae]==="NSM";)ae++;if(ae<ue){var $=R[oe],le=$>=1425&&$<=2303||$===64286;if(pe=B[ae],le&&(pe==="R"||pe==="AL")){ge="R";break}}}ge=oe<1||(pe=B[oe-1])==="B"?"N":ie[oe-1];break;case"B":D=!1,s=!0,ge=U;break;case"S":r=!0,ge="N"}return ge},ee=function(R,B,ie){var oe=R.split("");return ie&&M(oe,ie,{hiLevel:U}),oe.reverse(),B&&B.reverse(),oe.join("")},M=function(R,B,ie){var oe,pe,Q,ae,ue,ge=-1,$=R.length,le=0,O=[],I=U?y:v,K=[];for(D=!1,s=!1,r=!1,pe=0;pe<$;pe++)K[pe]=V(R[pe]);for(Q=0;Q<$;Q++){if(ue=le,O[Q]=se(R,K,O,Q),oe=240&(le=I[ue][k[O[Q]]]),le&=15,B[Q]=ae=I[le][5],oe>0)if(oe===16){for(pe=ge;pe<Q;pe++)B[pe]=1;ge=-1}else ge=-1;if(I[le][6])ge===-1&&(ge=Q);else if(ge>-1){for(pe=ge;pe<Q;pe++)B[pe]=ae;ge=-1}K[Q]==="B"&&(B[Q]=0),ie.hiLevel|=ae}r&&(function(re,ce,xe){for(var ye=0;ye<xe;ye++)if(re[ye]==="S"){ce[ye]=U;for(var ke=ye-1;ke>=0&&re[ke]==="WS";ke--)ce[ke]=U}})(K,B,$)},P=function(R,B,ie,oe,pe){if(!(pe.hiLevel<R)){if(R===1&&U===1&&!s)return B.reverse(),void(ie&&ie.reverse());for(var Q,ae,ue,ge,$=B.length,le=0;le<$;){if(oe[le]>=R){for(ue=le+1;ue<$&&oe[ue]>=R;)ue++;for(ge=le,ae=ue-1;ge<ae;ge++,ae--)Q=B[ge],B[ge]=B[ae],B[ae]=Q,ie&&(Q=ie[ge],ie[ge]=ie[ae],ie[ae]=Q);le=ue}le++}}},W=function(R,B,ie){var oe=R.split(""),pe={hiLevel:U};return ie||(ie=[]),M(oe,ie,pe),(function(Q,ae,ue){if(ue.hiLevel!==0&&f)for(var ge,$=0;$<Q.length;$++)ae[$]===1&&(ge=N.indexOf(Q[$]))>=0&&(Q[$]=N[ge+1])})(oe,ie,pe),P(2,oe,B,ie,pe),P(1,oe,B,ie,pe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(R,B,ie){if((function(pe,Q){if(Q)for(var ae=0;ae<pe.length;ae++)Q[ae]=ae;a===void 0&&(a=J(pe)),h===void 0&&(h=J(pe))})(R,B),o||!c||h)if(o&&c&&a^h)U=a?1:0,R=ee(R,B,ie);else if(!o&&c&&h)U=a?1:0,R=W(R,B,ie),R=ee(R,B);else if(!o||a||c||h){if(o&&!c&&a^h)R=ee(R,B),a?(U=0,R=W(R,B,ie)):(U=1,R=W(R,B,ie),R=ee(R,B));else if(o&&a&&!c&&h)U=1,R=W(R,B,ie),R=ee(R,B);else if(!o&&!c&&a^h){var oe=f;a?(U=1,R=W(R,B,ie),U=0,f=!1,R=W(R,B,ie),f=oe):(U=0,R=W(R,B,ie),R=ee(R,B),U=1,f=!1,R=W(R,B,ie),f=oe,R=ee(R,B))}}else U=0,R=W(R,B,ie);else U=a?1:0,R=W(R,B,ie);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,c=R.isOutputVisual,a=R.isInputRtl,h=R.isOutputRtl,f=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,t.setOptions(r),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([t.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([t.doBidiReorder(s[a])]);i.text=o}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(_t),_t.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new hu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new I$(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new A$(this.contents),this.head=new N$(this),this.name=new O$(this),this.cmap=new CN(this),this.toUnicode={},this.hhea=new E$(this),this.maxp=new L$(this),this.hmtx=new R$(this),this.post=new P$(this),this.os2=new T$(this),this.loca=new B$(this),this.glyf=new D$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,s,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,h;for(h=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var s,r,o,a;for(o=0,r=0,a=(e=""+e).length;0<=a?r<a:r>a;r=0<=a?++r:--r)s=e.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var ga,hu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,s,r,o,a,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^r)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*r+65536*o+256*a+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;i<s;i++)t=e[i],r.push(this.writeByte(t));return r},n})(),A$=(function(){var n;function e(t){var i,s,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,r=this.tableCount;0<=r?s<r:s>r;s=0<=r?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,r,o,a,c,h,f,p,v,y,k,A;for(A in y=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(y)/c),o=Math.floor(p/c),f=16*y-p,(s=new hu).writeInt(this.scalarType),s.writeShort(y),s.writeShort(p),s.writeShort(o),s.writeShort(f),r=16*y,h=s.pos+r,a=null,k=[],t)for(v=t[A],s.writeString(A),s.writeInt(n(v)),s.writeInt(h),s.writeInt(v.length),k=k.concat(v),A==="head"&&(a=h),h+=v.length;h%4;)k.push(0),h++;return s.write(k),i=2981146554-n(s.data),s.pos=a+8,s.writeUInt32(i),s.data},n=function(t){var i,s,r,o;for(t=NN.call(t);t.length%4;)t.push(0);for(r=new hu(t),s=0,i=0,o=t.length;i<o;i=i+=4)s+=r.readUInt32();return 4294967295&s},e})(),C$={}.hasOwnProperty,nl=function(n,e){for(var t in e)C$.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};ga=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var N$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new hu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),LS=(function(){function n(e,t){var i,s,r,o,a,c,h,f,p,v,y,k,A,N,E,D,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),v=y/2,e.pos+=6,r=(function(){var V,J;for(J=[],c=V=0;0<=v?V<v:V>v;c=0<=v?++V:--V)J.push(e.readUInt16());return J})(),e.pos+=2,A=(function(){var V,J;for(J=[],c=V=0;0<=v?V<v:V>v;c=0<=v?++V:--V)J.push(e.readUInt16());return J})(),h=(function(){var V,J;for(J=[],c=V=0;0<=v?V<v:V>v;c=0<=v?++V:--V)J.push(e.readUInt16());return J})(),f=(function(){var V,J;for(J=[],c=V=0;0<=v?V<v:V>v;c=0<=v?++V:--V)J.push(e.readUInt16());return J})(),s=(this.length-e.pos+this.offset)/2,a=(function(){var V,J;for(J=[],c=V=0;0<=s?V<s:V>s;c=0<=s?++V:--V)J.push(e.readUInt16());return J})(),c=E=0,U=r.length;E<U;c=++E)for(N=r[c],i=D=k=A[c];k<=N?D<=N:D>=N;i=k<=N?++D:--D)f[c]===0?o=i+h[c]:(o=a[f[c]/2+(i-k)-(v-c)]||0)!==0&&(o+=h[c]),this.codeMap[i]=65535&o}e.pos=p}return n.encode=function(e,t){var i,s,r,o,a,c,h,f,p,v,y,k,A,N,E,D,U,V,J,se,ee,M,P,W,R,B,ie,oe,pe,Q,ae,ue,ge,$,le,O,I,K,re,ce,xe,ye,ke,Le,Re,Ke;switch(oe=new hu,o=Object.keys(e).sort(function(Ye,Qe){return Ye-Qe}),t){case"macroman":for(A=0,N=(function(){var Ye=[];for(k=0;k<256;++k)Ye.push(0);return Ye})(),D={0:0},r={},pe=0,ge=o.length;pe<ge;pe++)D[ke=e[s=o[pe]]]==null&&(D[ke]=++A),r[s]={old:e[s],new:D[e[s]]},N[s]=D[e[s]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(N),{charMap:r,subtable:oe.data,maxGlyphID:A+1};case"unicode":for(B=[],p=[],U=0,D={},i={},E=h=null,Q=0,$=o.length;Q<$;Q++)D[J=e[s=o[Q]]]==null&&(D[J]=++U),i[s]={old:J,new:D[J]},a=D[J]-s,E!=null&&a===h||(E&&p.push(E),B.push(s),h=a),E=s;for(E&&p.push(E),p.push(65535),B.push(65535),W=2*(P=B.length),M=2*Math.pow(Math.log(P)/Math.LN2,2),v=Math.log(M/2)/Math.LN2,ee=2*P-M,c=[],se=[],y=[],k=ae=0,le=B.length;ae<le;k=++ae){if(R=B[k],f=p[k],R===65535){c.push(0),se.push(0);break}if(R-(ie=i[R].new)>=32768)for(c.push(0),se.push(2*(y.length+P-k)),s=ue=R;R<=f?ue<=f:ue>=f;s=R<=f?++ue:--ue)y.push(i[s].new);else c.push(ie-R),se.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*P+2*y.length),oe.writeUInt16(0),oe.writeUInt16(W),oe.writeUInt16(M),oe.writeUInt16(v),oe.writeUInt16(ee),xe=0,O=p.length;xe<O;xe++)s=p[xe],oe.writeUInt16(s);for(oe.writeUInt16(0),ye=0,I=B.length;ye<I;ye++)s=B[ye],oe.writeUInt16(s);for(Le=0,K=c.length;Le<K;Le++)a=c[Le],oe.writeUInt16(a);for(Re=0,re=se.length;Re<re;Re++)V=se[Re],oe.writeUInt16(V);for(Ke=0,ce=y.length;Ke<ce;Ke++)A=y[Ke],oe.writeUInt16(A);return{charMap:i,subtable:oe.data,maxGlyphID:U+1}}},n})(),CN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new LS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=LS.encode(e,t),(s=new hu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n})(),E$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),T$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),P$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(i=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var o,a,c;for(c=[],r=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(e.readUInt32());return c}).call(this)}},n})(),M$=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},O$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,s,r,o,a,c,h,f,p,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),i=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},r=f=0,p=i.length;f<p;r=++f)s=i[r],e.pos=s.offset,h=e.readString(s.length),o=new M$(h,s),c[v=s.nameID]==null&&(c[v]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),L$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),R$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,s,r,o,a,c;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],t=h=0;0<=s?h<s:h>s;t=0<=s?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,p,v;for(v=[],h=0,f=(p=this.metrics).length;h<f;h++)r=p[h],v.push(r.advance);return v}).call(this),i=this.widths[this.widths.length-1],c=[],t=o=0;0<=s?o<s:o>s;t=0<=s?++o:--o)c.push(this.widths.push(i));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),NN=[].slice,D$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,s,r,o,a,c,h,f,p;return e in this.cache?this.cache[e]:(r=this.file.loca,t=this.file.contents,i=r.indexOf(e),(s=r.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,o=(a=new hu(t.read(s))).readShort(),h=a.readShort(),p=a.readShort(),c=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new F$(a,h,p,c,f):new j$(a,o,h,p,c,f),this.cache[e]))},n.prototype.encode=function(e,t,i){var s,r,o,a,c;for(o=[],r=[],a=0,c=t.length;a<c;a++)s=e[t[a]],r.push(o.length),s&&(o=o.concat(s.encode(i)));return r.push(o.length),{table:o,offsets:r}},n})(),j$=(function(){function n(e,t,i,s,r,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=r,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),F$=(function(){function n(e,t,i,s,r){var o,a;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new hu(NN.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),B$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return nl(n,ga),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,r;for(r=[],i=0,s=this.length;i<s;i+=2)r.push(2*e.readUInt16());return r}).call(this):(function(){var s,r;for(r=[],i=0,s=this.length;i<s;i+=4)r.push(e.readUInt32());return r}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,r=0,o=0;o<i.length;++o)if(i[o]=s,r<t.length&&t[r]==o){++r,i[o]=s;var a=this.offsets[o],c=this.offsets[o+1]-a;c>0&&(s+=c)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},n})(),I$=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s,r;for(t in s=this.font.cmap.tables[0].codeMap,e={},r=this.subset)i=r[t],e[t]=s[i];return e},n.prototype.glyphsFor=function(e){var t,i,s,r,o,a,c;for(s={},o=0,a=e.length;o<a;o++)s[r=e[o]]=this.font.glyf.glyphFor(r);for(r in t=[],s)(i=s[r])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(r in c=this.glyphsFor(t))i=c[r],s[r]=i;return s},n.prototype.encode=function(e,t){var i,s,r,o,a,c,h,f,p,v,y,k,A,N,E;for(s in i=CN.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),y={0:0},E=i.charMap)y[(c=E[s]).old]=c.new;for(k in v=i.maxGlyphID,o)k in y||(y[k]=v++);return f=(function(D){var U,V;for(U in V={},D)V[D[U]]=U;return V})(y),p=Object.keys(f).sort(function(D,U){return D-U}),A=(function(){var D,U,V;for(V=[],D=0,U=p.length;D<U;D++)a=p[D],V.push(f[a]);return V})(),r=this.font.glyf.encode(o,A,y),h=this.font.loca.encode(r.offsets,A),N={cmap:this.font.cmap.raw(),glyf:r.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();_t.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,r,o;if(Array.isArray(t))return"["+(function(){var a,c,h;for(h=[],a=0,c=t.length;a<c;a++)i=t[a],h.push(e.convert(i));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in r=["<<"],t)o=t[s],r.push("/"+s+" "+e.convert(o));return r.push(">>"),r.join(`
`)}return""+t},e})();function EN(n,e,t,i,s){i=i||{};var r=1.15,o=s.internal.scaleFactor,a=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():r,h=a*c,f=/\r\n|\r|\n/g,p="",v=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof n=="string"?n.split(f):n,v=p.length||1),t+=a*(2-r),i.valign==="middle"?t-=v/2*h:i.valign==="bottom"&&(t-=v*h),i.halign==="center"||i.halign==="right"){var y=a;if(i.halign==="center"&&(y*=.5),p&&v>=1){for(var k=0;k<p.length;k++)s.text(p[k],e-s.getStringUnitWidth(p[k])*y,t),t+=h;return s}e-=s.getStringUnitWidth(n)*y}return i.halign==="justify"?s.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var RS={},Jd=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:RS=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,s,r;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),a=h[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var f=n.unifyColor(e.fillColor);f&&(i=this.jsPDFDocument).setFillColor.apply(i,f),f=n.unifyColor(e.textColor),f&&(s=this.jsPDFDocument).setTextColor.apply(s,f),f=n.unifyColor(e.lineColor),f&&(r=this.jsPDFDocument).setDrawColor.apply(r,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,s,r){return this.jsPDFDocument.rect(e,t,i,s,r)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return RS||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),nv=function(n,e){return nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},nv(n,e)};function TN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var PN=(function(n){TN(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e})(Array);function z$(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function V$(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function l1(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],s=i.map(function(r){return t.getTextWidth(r)}).reduce(function(r,o){return Math.max(r,o)},0);return s}function MN(n,e,t,i){var s=e.settings.tableLineWidth,r=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:r});var o=ON(s,!1);o&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,o)}function ON(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function B1(n,e){var t,i,s,r;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(r=n.bottom)!==null&&r!==void 0?r:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function LN(n,e){var t=B1(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function U$(n,e,t,i,s){var r={},o=1.3333333333333333,a=uy(e,function(U){return s.getComputedStyle(U).backgroundColor});a!=null&&(r.fillColor=a);var c=uy(e,function(U){return s.getComputedStyle(U).color});c!=null&&(r.textColor=c);var h=H$(i,t);h&&(r.cellPadding=h);var f="borderTopColor",p=o*t,v=i.borderTopWidth;if(i.borderBottomWidth===v&&i.borderRightWidth===v&&i.borderLeftWidth===v){var y=(parseFloat(v)||0)/p;y&&(r.lineWidth=y)}else r.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},r.lineWidth.top||(r.lineWidth.right?f="borderRightColor":r.lineWidth.bottom?f="borderBottomColor":r.lineWidth.left&&(f="borderLeftColor"));var k=uy(e,function(U){return s.getComputedStyle(U)[f]});k!=null&&(r.lineColor=k);var A=["left","right","center","justify"];A.indexOf(i.textAlign)!==-1&&(r.halign=i.textAlign),A=["middle","bottom","top"],A.indexOf(i.verticalAlign)!==-1&&(r.valign=i.verticalAlign);var N=parseInt(i.fontSize||"");isNaN(N)||(r.fontSize=N/o);var E=q$(i);E&&(r.fontStyle=E);var D=(i.fontFamily||"").toLowerCase();return n.indexOf(D)!==-1&&(r.font=D),r}function q$(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function uy(n,e){var t=RN(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],r=parseInt(i[4]);return r===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function RN(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:RN(n.parentElement,e):t}function H$(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,r=t.map(function(a){return parseInt(a||"0")/i}),o=B1(r,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function DN(n,e,t,i,s){var r,o;i===void 0&&(i=!1),s===void 0&&(s=!1);var a;typeof e=="string"?a=t.document.querySelector(e):a=e;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),f=[],p=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:v};for(var y=0;y<a.rows.length;y++){var k=a.rows[y],A=(o=(r=k?.parentElement)===null||r===void 0?void 0:r.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=W$(c,h,t,k,i,s);N&&(A==="thead"?f.push(N):A==="tfoot"?v.push(N):p.push(N))}return{head:f,body:p,foot:v}}function W$(n,e,t,i,s,r){for(var o=new PN(i),a=0;a<i.cells.length;a++){var c=i.cells[a],h=t.getComputedStyle(c);if(s||h.display!=="none"){var f=void 0;r&&(f=U$(n,c,e,h,t)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:G$(c)})}}var p=t.getComputedStyle(i);if(o.length>0&&(s||p.display!=="none"))return o}function G$(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function $$(n,e,t){for(var i=0,s=[n,e,t];i<s.length;i++){var r=s[i];r&&typeof r!="object"&&console.error("The options parameter should be of type object, is: "+typeof r),r.startY&&typeof r.startY!="number"&&(console.error("Invalid value for startY option",r.startY),delete r.startY)}}function $l(n,e,t,i,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r}function jN(n,e){var t=new Jd(n),i=t.getDocumentOptions(),s=t.getGlobalOptions();$$(s,i,e);var r=$l({},s,i,e),o;typeof window<"u"&&(o=window);var a=K$(s,i,e),c=Y$(s,i,e),h=X$(t,r),f=Q$(t,r,o);return{id:e.tableId,content:f,hooks:c,styles:a,settings:h}}function K$(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var h=n[c],f=e[c],p=t[c];i.columnStyles=$l({},h,f,p)}else{var v=[n,e,t],y=v.map(function(k){return k[c]||{}});i[c]=$l({},y[0],y[1],y[2])}},r=0,o=Object.keys(i);r<o.length;r++){var a=o[r];s(a)}return i}function Y$(n,e,t){for(var i=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},r=0,o=i;r<o.length;r++){var a=o[r];a.didParseCell&&s.didParseCell.push(a.didParseCell),a.willDrawCell&&s.willDrawCell.push(a.willDrawCell),a.didDrawCell&&s.didDrawCell.push(a.didDrawCell),a.willDrawPage&&s.willDrawPage.push(a.willDrawPage),a.didDrawPage&&s.didDrawPage.push(a.didDrawPage)}return s}function X$(n,e){var t,i,s,r,o,a,c,h,f,p,v,y,k=B1(e.margin,40/n.scaleFactor()),A=(t=J$(n,e.startY))!==null&&t!==void 0?t:k.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var D=(r=e.useCss)!==null&&r!==void 0?r:!1,U=e.theme||(D?"plain":"striped"),V=!!e.horizontalPageBreak,J=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:D,theme:U,startY:A,margin:k,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:N,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:V,horizontalPageBreakRepeat:J,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function J$(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),s=n.pageNumber(),r=!1;if(t&&t.startPageNumber){var o=t.startPageNumber+t.pageNumber-1;r=o===s}return typeof e=="number"?e:(e==null||e===!1)&&r&&t?.finalY!=null?t.finalY+20/i:null}function Q$(n,e,t){var i=e.head||[],s=e.body||[],r=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(t){var a=DN(n,e.html,t,o,e.useCss)||{};i=a.head||i,s=a.body||i,r=a.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Z$(i,s,r);return{columns:c,head:i,body:s,foot:r}}function Z$(n,e,t){var i=n[0]||e[0]||t[0]||[],s=[];return Object.keys(i).filter(function(r){return r!=="_element"}).forEach(function(r){var o=1,a;Array.isArray(i)?a=i[parseInt(r)]:a=i[r],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var c=0;c<o;c++){var h=void 0;Array.isArray(i)?h=s.length:h=r+(c>0?"_".concat(c):"");var f={dataKey:h};s.push(f)}}),s}var iv=(function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n})(),eK=(function(n){TN(e,n);function e(t,i,s,r,o,a){var c=n.call(this,t,i,a)||this;return c.cell=s,c.row=r,c.column=o,c.section=r.section,c}return e})(iv),tK=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,s,r,o){for(var a=0,c=t;a<c.length;a++){var h=c[a],f=new eK(e,this,i,s,r,o),p=h(f)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var r=s[i];r(new iv(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var r=s[i];r(new iv(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,r){return s+r.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n})(),FN=(function(){function n(e,t,i,s,r){r===void 0&&(r=!1),this.height=0,this.raw=e,e instanceof PN&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=s,this.spansMultiplePages=r}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,s){var r;return Math.max(i,((r=t.cells[s.index])===null||r===void 0?void 0:r.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var s=t.cells[i.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(s,r){var o=i.cells[r.index];if(!o)return 0;var a=t.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),h=c+a;return h>s?h:s},0)},n})(),BN=(function(){function n(e,t,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var r=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,r=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=r!=null?""+r:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,r=i*s+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=B1(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),nK=(function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,s=e.allRows();i<s.length;i++){var r=s[i],o=r.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(t=Math.max(t,o.styles.cellWidth))}return t},n})();function iK(n,e){sK(n,e);var t=[],i=0;e.columns.forEach(function(r){var o=r.getMaxCustomCellWidth(e);o?r.width=o:(r.width=r.wrappedWidth,t.push(r)),i+=r.width});var s=e.getWidth(n.pageSize().width)-i;s&&(s=sv(t,s,function(r){return Math.max(r.minReadableWidth,r.minWidth)})),s&&(s=sv(t,s,function(r){return r.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),oK(e),aK(e,n),rK(e)}function sK(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,s=LN(n,e);e.allRows().forEach(function(r){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],h=r.cells[c.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(n,f,h,r,c,null);var p=h.padding("horizontal");h.contentWidth=l1(h.text,h.styles,n)+p;var v=l1(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=v+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||i===!0)h.contentWidth>s?(h.minWidth=s,h.wrappedWidth=s):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var y=10/t;h.minWidth=h.styles.minCellWidth||y,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(r){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],h=r.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function sv(n,e,t){for(var i=e,s=n.reduce(function(y,k){return y+k.wrappedWidth},0),r=0;r<n.length;r++){var o=n[r],a=o.wrappedWidth/s,c=i*a,h=o.width+c,f=t(o),p=h<f?f:h;e-=p-o.width,o.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=n.filter(function(y){return e<0?y.width>t(y):!0});v.length&&(e=sv(v,e,t))}return e}function rK(n){for(var e={},t=1,i=n.allRows(),s=0;s<i.length;s++)for(var r=i[s],o=0,a=n.columns;o<a.length;o++){var c=a[o],h=e[c.index];if(t>1)t--,delete r.cells[c.index];else if(h)h.cell.height+=r.height,t=h.cell.colSpan,delete r.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var f=r.cells[c.index];if(!f)continue;if(f.height=r.height,f.rowSpan>1){var p=i.length-s,v=f.rowSpan>p?p:f.rowSpan;e[c.index]={cell:f,left:v,row:r}}}}}function oK(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],s=null,r=0,o=0,a=0;a<n.columns.length;a++){var c=n.columns[a];if(o-=1,o>1&&n.columns[a+1])r+=c.width,delete i.cells[c.index];else if(s){var h=s;delete i.cells[c.index],s=null,h.width=c.width+r}else{var h=i.cells[c.index];if(!h)continue;if(o=h.colSpan,r=0,h.colSpan>1){s=h,r+=c.width;continue}h.width=c.width+r}}}function aK(n,e){for(var t={count:0,height:0},i=0,s=n.allRows();i<s.length;i++){for(var r=s[i],o=0,a=n.columns;o<a.length;o++){var c=a[o],h=r.cells[c.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=DS(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=DS(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<v*h.rowSpan?t={height:v,count:h.rowSpan}:t&&t.count>0&&t.height>v&&(v=t.height),v>r.height&&(r.height=v)}}t.count--}}function DS(n,e,t,i,s){return n.map(function(r){return lK(r,e,t,i,s)})}function lK(n,e,t,i,s){var r=1e4*i.scaleFactor();if(e=Math.ceil(e*r)/r,e>=l1(n,t,i))return n;for(;e<l1(n+s,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function IN(n,e){var t=new Jd(n),i=cK(e,t.scaleFactor()),s=new tK(e,i);return iK(t,s),t.applyStyles(t.userStyles),s}function cK(n,e){var t=n.content,i=hK(t.columns);if(t.head.length===0){var s=jS(i,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=jS(i,"foot");s&&t.foot.push(s)}var r=n.settings.theme,o=n.styles;return{columns:i,head:hy("head",t.head,i,o,r,e),body:hy("body",t.body,i,o,r,e),foot:hy("foot",t.foot,i,o,r,e)}}function hy(n,e,t,i,s,r){var o={},a=e.map(function(c,h){for(var f=0,p={},v=0,y=0,k=0,A=t;k<A.length;k++){var N=A[k];if(o[N.index]==null||o[N.index].left===0)if(y===0){var E=void 0;Array.isArray(c)?E=c[N.index-v-f]:E=c[N.dataKey];var D={};typeof E=="object"&&!Array.isArray(E)&&(D=E?.styles||{});var U=dK(n,N,h,s,i,r,D),V=new BN(E,U,n);p[N.dataKey]=V,p[N.index]=V,y=V.colSpan-1,o[N.index]={left:V.rowSpan-1,times:y}}else y--,v++;else o[N.index].left--,y=o[N.index].times,f++}return new FN(c,h,n,p)});return a}function jS(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var s=uK(e,i.raw);s!=null&&(t[i.dataKey]=s)}}),Object.keys(t).length>0?t:null}function uK(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function hK(n){return n.map(function(e,t){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:t:s=t,new nK(s,e,t)})}function dK(n,e,t,i,s,r,o){var a=V$(i),c;n==="head"?c=s.headStyles:n==="body"?c=s.bodyStyles:n==="foot"&&(c=s.footStyles);var h=$l({},a.table,a[n],s.styles,c),f=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},p=n==="body"?f:{},v=n==="body"&&t%2===0?$l({},a.alternateRow,s.alternateRowStyles):{},y=z$(r),k=$l({},y,h,v,p);return $l(k,o)}function fK(n,e,t){var i;t===void 0&&(t={});var s=LN(n,e),r=new Map,o=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(v){var y=e.columns.find(function(k){return k.dataKey===v||k.index===v});y&&!r.has(y.index)&&(r.set(y.index,!0),o.push(y.index),a.push(e.columns[y.index]),s-=y.wrappedWidth)});for(var h=!0,f=(i=t?.start)!==null&&i!==void 0?i:0;f<e.columns.length;){if(r.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||s>=p)h=!1,o.push(f),a.push(e.columns[f]),s-=p;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function gK(n,e){for(var t=[],i=0;i<e.columns.length;i++){var s=fK(n,e,{start:i});s.columns.length&&(t.push(s),i=s.lastIndex)}return t}function zN(n,e){var t=e.settings,i=t.startY,s=t.margin,r={x:s.left,y:i},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=i+s.bottom+o;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(v,y){return v+y.height},0);a+=h}var f=new Jd(n);(t.pageBreak==="always"||t.startY!=null&&a>f.pageSize().height)&&(UN(f),r.y=s.top),e.callWillDrawPageHooks(f,r);var p=$l({},r);e.startPageNumber=f.pageNumber(),t.horizontalPageBreak?mK(f,e,p,r):(f.applyStyles(f.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(v){return tc(f,e,v,r,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,y){var k=y===e.body.length-1;c1(f,e,v,k,p,r,e.columns)}),f.applyStyles(f.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(v){return tc(f,e,v,r,e.columns)})),MN(f,e,p,r),e.callEndPageHooks(f,r),e.finalY=r.y,n.lastAutoTable=e,f.applyStyles(f.userStyles)}function mK(n,e,t,i){var s=gK(n,e),r=e.settings;if(r.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(h,f){n.applyStyles(n.userStyles),f>0?Kg(n,e,t,i,h.columns,!0):FS(n,e,i,h.columns),pK(n,e,t,i,h.columns),dy(n,e,i,h.columns)});else for(var o=-1,a=s[0],c=function(){var h=o;if(a){n.applyStyles(n.userStyles);var f=a.columns;o>=0?Kg(n,e,t,i,f,!0):FS(n,e,i,f),h=BS(n,e,o+1,i,f),dy(n,e,i,f)}var p=h-o;s.slice(1).forEach(function(v){n.applyStyles(n.userStyles),Kg(n,e,t,i,v.columns,!0),BS(n,e,o+1,i,v.columns,p),dy(n,e,i,v.columns)}),o=h};o<e.body.length-1;)c()}function FS(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(r){return tc(n,e,r,t,i)})}function pK(n,e,t,i,s){n.applyStyles(n.userStyles),e.body.forEach(function(r,o){var a=o===e.body.length-1;c1(n,e,r,a,t,i,s)})}function BS(n,e,t,i,s,r){n.applyStyles(n.userStyles),r=r??e.body.length;var o=Math.min(t+r,e.body.length),a=-1;return e.body.slice(t,o).forEach(function(c,h){var f=t+h===e.body.length-1,p=VN(n,e,f,i);c.canEntireRowFit(p,s)&&(tc(n,e,c,i,s),a=t+h)}),a}function dy(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(r){return tc(n,e,r,t,i)})}function bK(n,e,t){var i=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),r=Math.floor((e-s)/i);return Math.max(0,r)}function yK(n,e,t,i){var s={};n.spansMultiplePages=!0,n.height=0;for(var r=0,o=0,a=t.columns;o<a.length;o++){var c=a[o],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new BN(h.raw,h.styles,h.section);f=$l(f,h),f.text=[];var p=bK(h,e,i);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var v=i.scaleFactor(),y=i.getLineHeightFactor();h.contentHeight=h.getContentHeight(v,y),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>n.height&&(n.height=h.contentHeight),f.contentHeight=f.getContentHeight(v,y),f.contentHeight>r&&(r=f.contentHeight),s[c.index]=f}}var k=new FN(n.raw,-1,n.section,s,!0);k.height=r;for(var A=0,N=t.columns;A<N.length;A++){var c=N[A],f=k.cells[c.index];f&&(f.height=k.height);var h=n.cells[c.index];h&&(h.height=n.height)}return k}function vK(n,e,t,i){var s=n.pageSize().height,r=i.settings.margin,o=r.top+r.bottom,a=s-o;e.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var c=e.getMinimumRowHeight(i.columns,n),h=c<t;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(i.columns),p=e.getMaxCellHeight(i.columns)>a;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||i.settings.rowPageBreak==="avoid")}function c1(n,e,t,i,s,r,o){var a=VN(n,e,i,r);if(t.canEntireRowFit(a,o))tc(n,e,t,r,o);else if(vK(n,t,a,e)){var c=yK(t,a,e,n);tc(n,e,t,r,o),Kg(n,e,s,r,o),c1(n,e,c,i,s,r,o)}else Kg(n,e,s,r,o),c1(n,e,t,i,s,r,o)}function tc(n,e,t,i,s){i.x=e.settings.margin.left;for(var r=0,o=s;r<o.length;r++){var a=o[r],c=t.cells[a.index];if(!c){i.x+=a.width;continue}n.applyStyles(c.styles),c.x=i.x,c.y=i.y;var h=e.callCellHooks(n,e.hooks.willDrawCell,c,t,a,i);if(h===!1){i.x+=a.width;continue}xK(n,c,i);var f=c.getTextPos();EN(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,c,t,a,i),i.x+=a.width}i.y+=t.height}function xK(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=ON(i.lineWidth,i.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),wK(n,e,t,i.lineWidth))}function wK(n,e,t,i){var s,r,o,a;i.top&&(s=t.x,r=t.y,o=t.x+e.width,a=t.y,i.right&&(o+=.5*i.right),i.left&&(s-=.5*i.left),c(i.top,s,r,o,a)),i.bottom&&(s=t.x,r=t.y+e.height,o=t.x+e.width,a=t.y+e.height,i.right&&(o+=.5*i.right),i.left&&(s-=.5*i.left),c(i.bottom,s,r,o,a)),i.left&&(s=t.x,r=t.y,o=t.x,a=t.y+e.height,i.top&&(r-=.5*i.top),i.bottom&&(a+=.5*i.bottom),c(i.left,s,r,o,a)),i.right&&(s=t.x+e.width,r=t.y,o=t.x+e.width,a=t.y+e.height,i.top&&(r-=.5*i.top),i.bottom&&(a+=.5*i.bottom),c(i.right,s,r,o,a));function c(h,f,p,v,y){n.getDocument().setLineWidth(h),n.getDocument().line(f,p,v,y,"S")}}function VN(n,e,t,i){var s=e.settings.margin.bottom,r=e.settings.showFoot;return(r==="everyPage"||r==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-s}function Kg(n,e,t,i,s,r){s===void 0&&(s=[]),r===void 0&&(r=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!r&&e.foot.forEach(function(a){return tc(n,e,a,i,s)}),e.callEndPageHooks(n,i);var o=e.settings.margin;MN(n,e,t,i),UN(n),e.pageNumber++,i.x=o.left,i.y=o.top,t.y=o.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return tc(n,e,a,i,s)}),n.applyStyles(n.userStyles))}function UN(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function _K(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],s=jN(this,i),r=IN(this,s);return zN(this,r),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,s){EN(e,t,i,s,this)},n.API.autoTableSetDefaults=function(e){return Jd.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Jd.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Jd(this),r=DN(s,e,window,t,!1),o=r.head,a=r.body,c=((i=o[0])===null||i===void 0?void 0:i.map(function(h){return h.content}))||[];return{columns:c,rows:a,data:a}}}var fy;function qN(n,e){var t=jN(n,e),i=IN(n,t);zN(n,i)}try{if(typeof window<"u"&&window){var IS=window,zS=IS.jsPDF||((fy=IS.jspdf)===null||fy===void 0?void 0:fy.jsPDF);zS&&_K(zS)}}catch(n){console.error("Could not apply autoTable plugin",n)}const k5=(n,e)=>{const t=YH.unparse(n),i=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),r=URL.createObjectURL(i);s.setAttribute("href",r),s.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},Fm=(n,e,t,i)=>{const s=new _t;i&&(s.setFontSize(18),s.setTextColor(40),s.text(i,14,20)),s.setFontSize(10),s.setTextColor(100),s.text(`Generated: ${new Date().toLocaleString()}`,14,i?30:20),qN(s,{startY:i?35:25,head:[e.map(r=>r.header)],body:n.map(r=>e.map(o=>r[o.dataKey]||"")),theme:"striped",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},alternateRowStyles:{fillColor:[245,247,250]}}),s.save(`${t}_${new Date().toISOString().split("T")[0]}.pdf`)},SK=(n,e)=>{const t=n.map(i=>({ID:i.id,Name:i.name,Email:i.email,Phone:i.phone,Status:i.status,"Registration Date":i.registrationDate,"Chronic Conditions":i.baselineData?.chronicConditions?.join(", ")||"N/A"}));e==="csv"?k5(t,"users"):Fm(t,[{header:"ID",dataKey:"ID"},{header:"Name",dataKey:"Name"},{header:"Email",dataKey:"Email"},{header:"Phone",dataKey:"Phone"},{header:"Status",dataKey:"Status"},{header:"Registration Date",dataKey:"Registration Date"},{header:"Chronic Conditions",dataKey:"Chronic Conditions"}],"users","User Management Report")},kK=(n,e)=>{const t=n.map(i=>({ID:i.id,User:i.userName,Questionnaire:i.questionnaireName,Domain:i.domain,Date:i.date,Status:i.status,Score:i.score}));e==="csv"?k5(t,"questionnaire_responses"):Fm(t,[{header:"ID",dataKey:"ID"},{header:"User",dataKey:"User"},{header:"Questionnaire",dataKey:"Questionnaire"},{header:"Domain",dataKey:"Domain"},{header:"Date",dataKey:"Date"},{header:"Status",dataKey:"Status"},{header:"Score",dataKey:"Score"}],"questionnaire_responses","Questionnaire Responses Report")},AK=(n,e)=>{const t=n.map(i=>({ID:i.id,Admin:i.adminName,Action:i.action,Target:i.target,Timestamp:i.timestamp,"IP Address":i.ipAddress,Status:i.status}));e==="csv"?k5(t,"admin_logs"):Fm(t,[{header:"ID",dataKey:"ID"},{header:"Admin",dataKey:"Admin"},{header:"Action",dataKey:"Action"},{header:"Target",dataKey:"Target"},{header:"Timestamp",dataKey:"Timestamp"},{header:"IP Address",dataKey:"IP Address"},{header:"Status",dataKey:"Status"}],"admin_logs","Admin Activity Logs Report")},CK=n=>{const e=new _t;e.setFontSize(20),e.setTextColor(40),e.text("Analytics Report",14,20),e.setFontSize(10),e.setTextColor(100),e.text(`Generated: ${new Date().toLocaleString()}`,14,30),e.setFontSize(14),e.setTextColor(40),e.text("Global Usage Statistics",14,45);const t=[["Total Users",n.globalUsageStats.totalUsers.toString()],["Active Users",n.globalUsageStats.activeUsers.toString()],["Total Sessions",n.globalUsageStats.totalSessions.toString()],["Average Session Duration",n.globalUsageStats.averageSessionDuration],["Total Exercises Completed",n.globalUsageStats.totalExercisesCompleted.toString()],["Total Assessments Completed",n.globalUsageStats.totalAssessmentsCompleted.toString()],["User Growth",n.globalUsageStats.userGrowth],["Engagement Rate",n.globalUsageStats.engagement]];qN(e,{startY:50,head:[["Metric","Value"]],body:t,theme:"striped",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"}}),e.save(`analytics_report_${new Date().toISOString().split("T")[0]}.pdf`)},A5=({filters:n,values:e,onChange:t,onClear:i})=>{const s=Object.values(e).some(r=>r!=="");return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(r=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r.label}),r.type==="search"&&m.jsxs("div",{className:"relative",children:[m.jsx(sP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m.jsx("input",{type:"text",value:e[r.name]||"",onChange:o=>t(r.name,o.target.value),placeholder:r.placeholder,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.type==="select"&&m.jsxs("select",{value:e[r.name]||"",onChange:o=>t(r.name,o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[m.jsx("option",{value:"",children:"All"}),r.options?.map(o=>m.jsx("option",{value:o.value,children:o.label},o.value))]}),r.type==="date"&&m.jsx("input",{type:"date",value:e[r.name]||"",onChange:o=>t(r.name,o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]},r.name))}),s&&m.jsx("div",{className:"mt-4 flex justify-end",children:m.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx(cP,{}),m.jsx("span",{children:"Clear Filters"})]})})]})},C5=({data:n,columns:e,pageSize:t=10,onRowClick:i})=>{const[s,r]=we.useState(null),[o,a]=we.useState("asc"),[c,h]=we.useState(1),f=Rs.useMemo(()=>s?[...n].sort((N,E)=>{const D=N[s],U=E[s];if(D===U)return 0;const V=D<U?-1:1;return o==="asc"?V:-V}):n,[n,s,o]),p=Math.ceil(f.length/t),v=(c-1)*t,y=f.slice(v,v+t),k=N=>{s===N?a(o==="asc"?"desc":"asc"):(r(N),a("asc"))},A=N=>s!==N?m.jsx(aP,{className:"text-gray-400"}):o==="asc"?m.jsx(oP,{className:"text-indigo-600"}):m.jsx(rP,{className:"text-indigo-600"});return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsx("tr",{children:e.map(N=>m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:N.sortable!==!1?m.jsxs("button",{onClick:()=>k(N.key),className:"flex items-center gap-2 hover:text-gray-900 transition-colors",children:[m.jsx("span",{children:N.label}),A(N.key)]}):m.jsx("span",{children:N.label})},N.key))})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:y.length>0?y.map((N,E)=>m.jsx("tr",{onClick:()=>i?.(N),className:`${i?"hover:bg-gray-50 cursor-pointer":""} transition-colors`,children:e.map(D=>m.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:D.render?D.render(N[D.key],N):N[D.key]},D.key))},E)):m.jsx("tr",{children:m.jsx("td",{colSpan:e.length,className:"px-6 py-8 text-center text-gray-500",children:"No data available"})})})]})}),p>1&&m.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",v+1," to ",Math.min(v+t,f.length)," of"," ",f.length," results"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>h(N=>Math.max(1,N-1)),disabled:c===1,className:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(VT,{})}),m.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:p},(N,E)=>E+1).map(N=>m.jsx("button",{onClick:()=>h(N),className:`px-3 py-1 rounded-lg transition-colors ${c===N?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:N},N))}),m.jsx("button",{onClick:()=>h(N=>Math.min(p,N+1)),disabled:c===p,className:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(UT,{})})]})]})]})},pf=({onExport:n,disabled:e=!1,label:t="Export"})=>{const[i,s]=we.useState(!1),[r,o]=we.useState(!1),a=async c=>{o(!0);try{await n(c)}finally{o(!1),s(!1)}};return m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>s(!i),disabled:e||r,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(JT,{}),m.jsx("span",{children:r?"Exporting...":t})]}),i&&!r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[m.jsxs("button",{onClick:()=>a("csv"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left rounded-t-lg",children:[m.jsx(XT,{className:"text-green-600 text-xl"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-gray-900",children:"Export as CSV"}),m.jsx("div",{className:"text-xs text-gray-500",children:"Spreadsheet format"})]})]}),m.jsxs("button",{onClick:()=>a("pdf"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left rounded-b-lg border-t border-gray-100",children:[m.jsx(QT,{className:"text-red-600 text-xl"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-gray-900",children:"Export as PDF"}),m.jsx("div",{className:"text-xs text-gray-500",children:"Document format"})]})]})]})]})]})},NK=()=>{const n=uf(),[e,t]=we.useState({search:"",status:""}),i=we.useMemo(()=>Eg.filter(h=>{const f=h.name.toLowerCase().includes(e.search.toLowerCase())||h.email.toLowerCase().includes(e.search.toLowerCase())||h.id.toLowerCase().includes(e.search.toLowerCase()),p=!e.status||h.status===e.status;return f&&p}),[e]),s=(h,f)=>{t(p=>({...p,[h]:f}))},r=()=>{t({search:"",status:""})},o=h=>{SK(i,h)},a=[{type:"search",name:"search",label:"Search",placeholder:"Search by name, email, or ID..."},{type:"select",name:"status",label:"Status",options:[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}]}],c=[{key:"id",label:"User ID",sortable:!0},{key:"name",label:"Name",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-sm"})}),m.jsx("span",{className:"font-medium",children:h})]})},{key:"email",label:"Email",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(dk,{className:"text-gray-400"}),m.jsx("span",{children:h})]})},{key:"phone",label:"Phone",sortable:!1,render:h=>m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(fk,{className:"text-gray-400"}),m.jsx("span",{children:h})]})},{key:"registrationDate",label:"Registration Date",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(d1,{className:"text-gray-400"}),m.jsx("span",{children:h})]})},{key:"status",label:"Status",sortable:!0,render:h=>m.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${h==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[h==="Active"?m.jsx(el,{className:"text-green-600"}):m.jsx(Jg,{className:"text-gray-600"}),h]})}];return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all registered users"})]}),m.jsx(pf,{onExport:o,label:"Export Users"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Eg.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:Eg.filter(h=>h.status==="Active").length})]}),m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(el,{className:"text-green-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Inactive Users"}),m.jsx("p",{className:"text-2xl font-bold text-gray-600",children:Eg.filter(h=>h.status==="Inactive").length})]}),m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:m.jsx(Jg,{className:"text-gray-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-xl"})})]})})]}),m.jsx(A5,{filters:a,values:e,onChange:s,onClear:r}),m.jsx(C5,{data:i,columns:c,pageSize:10,onRowClick:h=>n(`/user-management/${h.id}`)})]})};Sh.register(x1,Mv,Cv,hf,Tv,Pv,Nv);const EK=()=>{const{id:n}=JS(),e=uf(),[t,i]=we.useState("baseline"),s=Eg.find(h=>h.id===n);if(!s)return m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-gray-600",children:"User not found"}),m.jsx("button",{onClick:()=>e("/user-management"),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"Return to User Management"})]})});const r=()=>{const h=[{"User ID":s.id,Name:s.name,Email:s.email,Phone:s.phone,Status:s.status,"Registration Date":s.registrationDate,Age:s.baselineData.age,Gender:s.baselineData.gender,"Blood Type":s.baselineData.bloodType,"Chronic Conditions":s.baselineData.chronicConditions.join(", "),Medications:s.baselineData.medications.join(", ")}],f=[{header:"Field",dataKey:"field"},{header:"Value",dataKey:"value"}],p=Object.entries(h[0]).map(([v,y])=>({field:v,value:y.toString()}));Fm(p,f,`user_${s.id}_profile`,`User Profile: ${s.name}`)},o={labels:s.progress.dates,datasets:[{label:"Pain Level",data:s.progress.painLevelTrend,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4},{label:"Mood Score",data:s.progress.moodScores,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4}]},a={labels:s.progress.dates,datasets:[{label:"Exercise Minutes",data:s.progress.exerciseMinutes,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"Sleep Hours",data:s.progress.sleepHours,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4}]},c={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>e("/user-management"),className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 mb-4",children:[m.jsx(hk,{}),m.jsx("span",{children:"Back to User Management"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-2xl"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),m.jsx("p",{className:"text-gray-600",children:s.id})]})]}),m.jsx(pf,{onExport:r,label:"Export Profile"})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(dk,{className:"text-gray-400 text-xl"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),m.jsx("p",{className:"font-medium text-gray-900",children:s.email})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(fk,{className:"text-gray-400 text-xl"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),m.jsx("p",{className:"font-medium text-gray-900",children:s.phone})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(d1,{className:"text-gray-400 text-xl"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Registration Date"}),m.jsx("p",{className:"font-medium text-gray-900",children:s.registrationDate})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Vw,{className:"text-gray-400 text-xl"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("div",{className:"flex",children:[m.jsx("button",{onClick:()=>i("baseline"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${t==="baseline"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Baseline Data"}),m.jsx("button",{onClick:()=>i("phenotype"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${t==="phenotype"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Phenotype"}),m.jsx("button",{onClick:()=>i("progress"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${t==="progress"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Progress"})]})}),m.jsxs("div",{className:"p-6",children:[t==="baseline"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Age"}),m.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.baselineData.age," years"]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gender"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.baselineData.gender})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Blood Type"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.baselineData.bloodType})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Height"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.baselineData.height})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Weight"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.baselineData.weight})]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-6",children:m.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[m.jsx(Vw,{className:"text-red-500 text-xl mt-1"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chronic Conditions"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:s.baselineData.chronicConditions.map((h,f)=>m.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:h},f))})]})]})}),m.jsx("div",{className:"border-t border-gray-200 pt-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(nP,{className:"text-blue-500 text-xl mt-1"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Medications"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:s.baselineData.medications.map((h,f)=>m.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:h},f))})]})]})})]}),t==="phenotype"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-red-700 mb-2",children:"Pain Sensitivity"}),m.jsx("p",{className:"text-3xl font-bold text-red-900",children:s.phenotype.painSensitivity})]}),m.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"Stress Response"}),m.jsx("p",{className:"text-3xl font-bold text-orange-900",children:s.phenotype.stressResponse})]}),m.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"Sleep Quality"}),m.jsx("p",{className:"text-3xl font-bold text-purple-900",children:s.phenotype.sleepQuality})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Physical Activity"}),m.jsx("p",{className:"text-3xl font-bold text-blue-900",children:s.phenotype.physicalActivity})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-green-700 mb-2",children:"Diet Quality"}),m.jsx("p",{className:"text-3xl font-bold text-green-900",children:s.phenotype.dietQuality})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-6",children:[m.jsx("p",{className:"text-sm text-indigo-700 mb-2",children:"Cognitive Function"}),m.jsx("p",{className:"text-3xl font-bold text-indigo-900",children:s.phenotype.cognitiveFunction})]})]}),t==="progress"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pain & Mood Trends"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.jsx(rm,{data:o,options:c})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exercise & Sleep Trends"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:m.jsx(rm,{data:a,options:c})})]})]})]})]})]})},TK=()=>{const n=uf(),[e,t]=we.useState({search:"",domain:"",status:"",dateFrom:"",dateTo:""}),i=we.useMemo(()=>Tg.filter(h=>{const f=h.userName.toLowerCase().includes(e.search.toLowerCase())||h.questionnaireName.toLowerCase().includes(e.search.toLowerCase()),p=!e.domain||h.domain===e.domain,v=!e.status||h.status===e.status,y=new Date(h.date),k=!e.dateFrom||y>=new Date(e.dateFrom),A=!e.dateTo||y<=new Date(e.dateTo);return f&&p&&v&&k&&A}),[e]),s=(h,f)=>{t(p=>({...p,[h]:f}))},r=()=>{t({search:"",domain:"",status:"",dateFrom:"",dateTo:""})},o=h=>{kK(i,h)},a=[{type:"search",name:"search",label:"Search",placeholder:"Search by user or questionnaire..."},{type:"select",name:"domain",label:"Domain",options:[{label:"Biological",value:"Biological"},{label:"Psychological",value:"Psychological"},{label:"Social",value:"Social"}]},{type:"select",name:"status",label:"Status",options:[{label:"Complete",value:"Complete"},{label:"Incomplete",value:"Incomplete"}]},{type:"date",name:"dateFrom",label:"Date From"}],c=[{key:"id",label:"ID",sortable:!0},{key:"userName",label:"User",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-sm"})}),m.jsx("span",{className:"font-medium",children:h})]})},{key:"questionnaireName",label:"Questionnaire",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(b0,{className:"text-gray-400"}),m.jsx("span",{children:h})]})},{key:"domain",label:"Domain",sortable:!0,render:h=>{const f={Biological:"bg-red-100 text-red-800",Psychological:"bg-purple-100 text-purple-800",Social:"bg-blue-100 text-blue-800"};return m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f[h]}`,children:h})}},{key:"date",label:"Date",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(d1,{className:"text-gray-400"}),m.jsx("span",{children:h})]})},{key:"status",label:"Status",sortable:!0,render:h=>m.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${h==="Complete"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[h==="Complete"?m.jsx(el,{className:"text-green-600"}):m.jsx(py,{className:"text-yellow-600"}),h]})},{key:"score",label:"Score",sortable:!0,render:h=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-[100px]",children:m.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${h}%`}})}),m.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[h,"%"]})]})}];return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Questionnaires & Assessments"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage questionnaire responses"})]}),m.jsx(pf,{onExport:o,label:"Export Responses"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Responses"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Tg.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(b0,{className:"text-indigo-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Complete"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:Tg.filter(h=>h.status==="Complete").length})]}),m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(el,{className:"text-green-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Incomplete"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Tg.filter(h=>h.status==="Incomplete").length})]}),m.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:m.jsx(py,{className:"text-yellow-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(b0,{className:"text-indigo-600 text-xl"})})]})})]}),m.jsx(A5,{filters:a,values:e,onChange:s,onClear:r}),m.jsx(C5,{data:i,columns:c,pageSize:10,onRowClick:h=>n(`/questionnaires/${h.id}`)})]})},PK=()=>{const{id:n}=JS(),e=uf(),t=Tg.find(r=>r.id===n);if(!t)return m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-gray-600",children:"Questionnaire not found"}),m.jsx("button",{onClick:()=>e("/questionnaires"),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"Return to Questionnaires"})]})});const i=()=>{const r=Object.entries(t.responses).map(([a,c])=>({question:a,answer:c.toString()}));Fm(r,[{header:"Question",dataKey:"question"},{header:"Answer",dataKey:"answer"}],`questionnaire_${t.id}`,`${t.questionnaireName} - ${t.userName}`)},s={Biological:"from-red-500 to-red-600",Psychological:"from-purple-500 to-purple-600",Social:"from-blue-500 to-blue-600"};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>e("/questionnaires"),className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 mb-4",children:[m.jsx(hk,{}),m.jsx("span",{children:"Back to Questionnaires"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.questionnaireName}),m.jsxs("p",{className:"text-gray-600 mt-1",children:["Response ID: ",t.id]})]}),m.jsx(pf,{onExport:i,label:"Export Response"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(Yl,{className:"text-indigo-600 text-xl"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Respondent"}),m.jsx("p",{className:"font-medium text-gray-900",children:t.userName})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${s[t.domain]} rounded-lg flex items-center justify-center`,children:m.jsx(b0,{className:"text-white text-xl"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Domain"}),m.jsx("p",{className:"font-medium text-gray-900",children:t.domain})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:m.jsx(d1,{className:"text-gray-600 text-xl"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),m.jsx("p",{className:"font-medium text-gray-900",children:t.date})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${t.status==="Complete"?"bg-green-100":"bg-yellow-100"}`,children:t.status==="Complete"?m.jsx(el,{className:"text-green-600 text-xl"}):m.jsx(py,{className:"text-yellow-600 text-xl"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),m.jsx("p",{className:`font-medium ${t.status==="Complete"?"text-green-600":"text-yellow-600"}`,children:t.status})]})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Score"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:m.jsx("div",{className:"bg-indigo-600 h-4 rounded-full transition-all duration-500",style:{width:`${t.score}%`}})})}),m.jsxs("div",{className:"text-3xl font-bold text-indigo-600",children:[t.score,"%"]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Responses"}),m.jsx("div",{className:"space-y-4",children:Object.entries(t.responses).map(([r,o],a)=>m.jsxs("div",{className:"border-l-4 border-indigo-500 bg-gray-50 p-4 rounded-r-lg",children:[m.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:r}),m.jsx("p",{className:`text-gray-900 ${o==="Not answered"?"italic text-gray-500":""}`,children:o})]},a))})]})]})},MK=()=>{const[n,e]=we.useState("exercises"),[t,i]=we.useState(null),[s,r]=we.useState(!1),[o,a]=we.useState(!1),c=()=>{i(null),r(!0)},h=v=>{i(v),r(!0)},f=v=>{i(v),a(!0)},p=()=>{a(!1),i(null)};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Content Management"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage physical exercises, cognitive training, and educational content"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("div",{className:"flex",children:[m.jsxs("button",{onClick:()=>e("exercises"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="exercises"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["Physical Exercises (",g6.length,")"]}),m.jsxs("button",{onClick:()=>e("cognitive"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="cognitive"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["Cognitive Training (",m6.length,")"]}),m.jsxs("button",{onClick:()=>e("educational"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="educational"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["Educational Modules (",p6.length,")"]})]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[n==="exercises"&&"Physical Exercises",n==="cognitive"&&"Cognitive Training Modules",n==="educational"&&"Educational Content"]}),m.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[m.jsx(gk,{}),m.jsx("span",{children:"Add New"})]})]}),n==="exercises"&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g6.map(v=>m.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow",children:[m.jsxs("div",{className:"relative h-48 bg-gray-300",children:[m.jsx("img",{src:v.thumbnailUrl,alt:v.title,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:m.jsx(iP,{className:"text-white text-4xl"})}),m.jsx("div",{className:"absolute top-3 right-3",children:m.jsx("span",{className:"px-2 py-1 bg-indigo-600 text-white text-xs rounded-full",children:v.difficulty})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:v.description}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Xg,{}),m.jsx("span",{children:v.duration})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(YT,{}),m.jsx("span",{children:v.views})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>h(v),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors text-sm font-medium",children:[m.jsx(p0,{className:"inline mr-1"})," Edit"]}),m.jsxs("button",{onClick:()=>f(v),className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[m.jsx(Pg,{className:"inline mr-1"})," Delete"]})]})]})]},v.id))}),n==="cognitive"&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m6.map(v=>m.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border border-purple-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:v.title}),m.jsx("p",{className:"text-sm text-gray-600",children:v.description})]}),m.jsx("div",{className:"flex items-center gap-1 px-3 py-1 bg-white rounded-full text-xs",children:v.apiStatus==="Connected"?m.jsxs(m.Fragment,{children:[m.jsx(el,{className:"text-green-600"}),m.jsx("span",{className:"text-green-700",children:"Connected"})]}):m.jsxs(m.Fragment,{children:[m.jsx(pk,{className:"text-yellow-600 animate-spin"}),m.jsx("span",{className:"text-yellow-700",children:"Syncing..."})]})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Completion Rate"}),m.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[v.completionRate,"%"]})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Avg. Score"}),m.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.averageScore,"%"]})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Total Sessions"}),m.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v.sessions})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Duration"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.duration})]})]}),m.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Last sync: ",v.lastSync]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>h(v),className:"flex-1 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:[m.jsx(p0,{className:"inline mr-1"})," Edit"]}),m.jsxs("button",{onClick:()=>f(v),className:"flex-1 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:[m.jsx(Pg,{className:"inline mr-1"})," Delete"]})]})]},v.id))}),n==="educational"&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p6.map(v=>m.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow",children:[m.jsxs("div",{className:"relative h-48 bg-gray-300",children:[m.jsx("img",{src:v.imageUrl,alt:v.title,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute top-3 left-3",children:m.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:v.type})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:v.description}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Xg,{}),m.jsx("span",{children:v.duration})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Qd,{}),m.jsx("span",{children:v.completed})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(lP,{className:"text-yellow-500"}),m.jsx("span",{children:v.rating})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>h(v),className:"flex-1 px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:[m.jsx(p0,{className:"inline mr-1"})," Edit"]}),m.jsxs("button",{onClick:()=>f(v),className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm font-medium",children:[m.jsx(Pg,{className:"inline mr-1"})," Delete"]})]})]})]},v.id))})]})]}),o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Confirm Delete"}),m.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',t?.title,'"? This action cannot be undone.']}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})}),s&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[m.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:[t?"Edit":"Add New"," ",n==="exercises"?"Exercise":n==="cognitive"?"Cognitive Module":"Educational Module"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),m.jsx("input",{type:"text",defaultValue:t?.title||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{defaultValue:t?.description||"",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),m.jsx("input",{type:"text",defaultValue:t?.duration||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:n==="exercises"?"Difficulty":n==="cognitive"?"Category":"Type"}),m.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[m.jsx("option",{children:"Beginner"}),m.jsx("option",{children:"Intermediate"}),m.jsx("option",{children:"Advanced"})]})]})]})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save"})]})]})})]})};Sh.register(x1,Mv,Cv,hf,dA,lA,Tv,Pv,Nv);const OK=()=>{const[n,e]=we.useState("7days"),t=()=>{CK(wi)},i={labels:wi.painTrends.labels,datasets:[{label:"Average Pain Level",data:wi.painTrends.data,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},s={labels:wi.cognitivePerformance.labels,datasets:[{label:"Performance Score",data:wi.cognitivePerformance.data,backgroundColor:["rgba(79, 70, 229, 0.8)","rgba(124, 58, 237, 0.8)","rgba(236, 72, 153, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)"],borderColor:["rgb(79, 70, 229)","rgb(124, 58, 237)","rgb(236, 72, 153)","rgb(59, 130, 246)","rgb(16, 185, 129)"],borderWidth:2}]},r={labels:wi.exerciseMoodSleep.labels,datasets:[{label:"Exercise (mins)",data:wi.exerciseMoodSleep.exercise,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,yAxisID:"y"},{label:"Mood Score",data:wi.exerciseMoodSleep.mood,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,yAxisID:"y1"},{label:"Sleep (hours)",data:wi.exerciseMoodSleep.sleep,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,yAxisID:"y1"}]},o={labels:wi.userEngagement.labels,datasets:[{label:"Daily Active Users",data:wi.userEngagement.data,backgroundColor:"rgba(79, 70, 229, 0.8)",borderColor:"rgb(79, 70, 229)",borderWidth:2}]},a={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}},c={responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Exercise (minutes)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Mood & Sleep"},grid:{drawOnChartArea:!1}}}};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and performance metrics"})]}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsxs("select",{value:n,onChange:h=>e(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[m.jsx("option",{value:"7days",children:"Last 7 Days"}),m.jsx("option",{value:"30days",children:"Last 30 Days"}),m.jsx("option",{value:"90days",children:"Last 90 Days"}),m.jsx("option",{value:"year",children:"This Year"})]}),m.jsx(pf,{onExport:t,label:"Export Report"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Global Usage Statistics"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg p-6 text-white",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx(Qd,{className:"text-3xl opacity-80"}),m.jsx("span",{className:"text-sm font-medium bg-white bg-opacity-20 px-2 py-1 rounded-full",children:wi.globalUsageStats.userGrowth})]}),m.jsx("p",{className:"text-3xl font-bold mb-1",children:wi.globalUsageStats.totalUsers.toLocaleString()}),m.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Users"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:[m.jsx(Qd,{className:"text-3xl opacity-80 mb-2"}),m.jsx("p",{className:"text-3xl font-bold mb-1",children:wi.globalUsageStats.activeUsers.toLocaleString()}),m.jsx("p",{className:"text-green-100 text-sm",children:"Active Users"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[m.jsx(KT,{className:"text-3xl opacity-80 mb-2"}),m.jsx("p",{className:"text-3xl font-bold mb-1",children:wi.globalUsageStats.totalExercisesCompleted.toLocaleString()}),m.jsx("p",{className:"text-purple-100 text-sm",children:"Exercises Completed"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[m.jsx(zT,{className:"text-3xl opacity-80 mb-2"}),m.jsx("p",{className:"text-3xl font-bold mb-1",children:wi.globalUsageStats.engagement}),m.jsx("p",{className:"text-blue-100 text-sm",children:"Engagement Rate"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Sessions"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900",children:wi.globalUsageStats.totalSessions.toLocaleString()})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg. Session Duration"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900",children:wi.globalUsageStats.averageSessionDuration})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Assessments Completed"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900",children:wi.globalUsageStats.totalAssessmentsCompleted.toLocaleString()})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:wi.painTrends.title}),m.jsx(rm,{data:i,options:a})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:wi.userEngagement.title}),m.jsx(O9,{data:o,options:a})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 lg:col-span-1",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:wi.cognitivePerformance.title}),m.jsx(L9,{data:s})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 lg:col-span-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:wi.exerciseMoodSleep.title}),m.jsx(rm,{data:r,options:c})]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg border border-indigo-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Insights"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Pain Reduction"}),m.jsx("p",{className:"text-lg font-bold text-green-600",children:"34% decrease"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average pain level dropped from 6.5 to 4.3 over 12 months"})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Activity Increase"}),m.jsx("p",{className:"text-lg font-bold text-blue-600",children:"133% increase"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Average exercise time increased from 120 to 280 minutes weekly"})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Mood Improvement"}),m.jsx("p",{className:"text-lg font-bold text-purple-600",children:"38% improvement"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mood scores improved from 5.5 to 7.6 on average"})]}),m.jsxs("div",{className:"bg-white rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Better Sleep"}),m.jsx("p",{className:"text-lg font-bold text-indigo-600",children:"29% increase"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sleep quality improved from 5.8 to 7.5 hours nightly"})]})]})]})]})},LK=()=>{const[n,e]=we.useState(Vb[0]),[t,i]=we.useState(!1);return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Access Control"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage roles, permissions, and user access"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Vb.map(s=>m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx(Hw,{className:"text-indigo-600 text-2xl"}),m.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:s.userCount})]}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description})]},s.id))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Roles"}),m.jsx("div",{className:"space-y-2",children:Vb.map(s=>m.jsx("button",{onClick:()=>e(s),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${n.id===s.id?"bg-indigo-50 border-2 border-indigo-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:s.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[s.userCount," users"]})]}),m.jsx(Hw,{className:"text-indigo-600"})]})},s.id))}),m.jsx("button",{onClick:()=>i(!0),className:"w-full mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Create New Role"})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Permissions for ",n.name]}),m.jsx("p",{className:"text-sm text-gray-600 mb-6",children:n.description}),m.jsx("div",{className:"space-y-3",children:["read","write","delete","manage_users","manage_roles","system_settings","export_data"].map(s=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${n.permissions.includes(s)?"bg-green-100":"bg-gray-200"}`,children:n.permissions.includes(s)?m.jsx(el,{className:"text-green-600"}):m.jsx(Jg,{className:"text-gray-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 capitalize",children:s.replace("_"," ")}),m.jsxs("p",{className:"text-xs text-gray-500",children:[s==="read"&&"View content and data",s==="write"&&"Create and edit content",s==="delete"&&"Remove content and data",s==="manage_users"&&"Add, edit, remove users",s==="manage_roles"&&"Create and modify roles",s==="system_settings"&&"Access system configuration",s==="export_data"&&"Export data to CSV/PDF"]})]})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n.permissions.includes(s)?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:n.permissions.includes(s)?"Granted":"Denied"})]},s))})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Admin Users"}),m.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Add Admin User"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"User"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Role"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Last Login"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"2FA"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:HH.map(s=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:s.name}),m.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs font-medium",children:s.role})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.lastLogin}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"flex items-center gap-2",children:s.twoFactorEnabled?m.jsxs(m.Fragment,{children:[m.jsx(by,{className:"text-green-600"}),m.jsx("span",{className:"text-sm text-green-600",children:"Enabled"})]}):m.jsxs(m.Fragment,{children:[m.jsx(by,{className:"text-gray-400"}),m.jsx("span",{className:"text-sm text-gray-500",children:"Disabled"})]})})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:s.status})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("button",{className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:"Edit"})})]},s.id))})]})})]}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Create New Role"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Content Manager"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Brief description of the role..."})]})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create"})]})]})})]})},RK=()=>{const[n,e]=we.useState({search:"",status:"",dateFrom:""}),t=we.useMemo(()=>yg.filter(c=>{const h=c.adminName.toLowerCase().includes(n.search.toLowerCase())||c.action.toLowerCase().includes(n.search.toLowerCase())||c.target.toLowerCase().includes(n.search.toLowerCase()),f=!n.status||c.status.includes(n.status);return h&&f}),[n]),i=(c,h)=>{e(f=>({...f,[c]:h}))},s=()=>{e({search:"",status:"",dateFrom:""})},r=c=>{AK(t,c)},o=[{type:"search",name:"search",label:"Search",placeholder:"Search by admin, action, or target..."},{type:"select",name:"status",label:"Status",options:[{label:"Success",value:"Success"},{label:"Failed",value:"Failed"}]},{type:"date",name:"dateFrom",label:"Date From"}],a=[{key:"timestamp",label:"Timestamp",sortable:!0,render:c=>m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(Xg,{className:"text-gray-400"}),m.jsx("span",{className:"text-sm",children:c})]})},{key:"adminName",label:"Admin",sortable:!0,render:(c,h)=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:c}),m.jsx("p",{className:"text-xs text-gray-500",children:h.adminId})]})},{key:"action",label:"Action",sortable:!0,render:c=>m.jsx("span",{className:"font-medium text-gray-900",children:c})},{key:"target",label:"Target",sortable:!0,render:c=>m.jsx("span",{className:"text-sm text-gray-600",children:c})},{key:"ipAddress",label:"IP Address",sortable:!1,render:c=>m.jsx("code",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:c})},{key:"status",label:"Status",sortable:!0,render:c=>m.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${c==="Success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[c==="Success"?m.jsx(el,{className:"text-green-600"}):m.jsx(Jg,{className:"text-red-600"}),c]})}];return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Activity Logs"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor all administrative actions and changes"})]}),m.jsx(pf,{onExport:r,label:"Export Logs"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Logs"}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:yg.length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(j0,{className:"text-indigo-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Successful Actions"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:yg.filter(c=>c.status==="Success").length})]}),m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(el,{className:"text-green-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Failed Actions"}),m.jsx("p",{className:"text-2xl font-bold text-red-600",children:yg.filter(c=>c.status.includes("Failed")).length})]}),m.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:m.jsx(Jg,{className:"text-red-600 text-xl"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Today's Actions"}),m.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:yg.filter(c=>c.timestamp.includes("2024-12-23")).length})]}),m.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:m.jsx(Xg,{className:"text-indigo-600 text-xl"})})]})})]}),m.jsx(A5,{filters:o,values:n,onChange:i,onClear:s}),m.jsx(C5,{data:t,columns:a,pageSize:15})]})},DK=()=>{const[n,e]=we.useState("language"),[t,i]=we.useState(za.language.current),[s,r]=we.useState(za.systemPreferences),o=()=>{alert(`Language changed to: ${t}`)},a=c=>{r(h=>({...h,[c]:!h[c]}))};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Configure system-wide settings and preferences"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("div",{className:"flex",children:[m.jsxs("button",{onClick:()=>e("language"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="language"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[m.jsx(ZT,{className:"inline mr-2"}),"Language"]}),m.jsxs("button",{onClick:()=>e("api"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="api"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[m.jsx(by,{className:"inline mr-2"}),"API Keys"]}),m.jsxs("button",{onClick:()=>e("backup"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="backup"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[m.jsx($T,{className:"inline mr-2"}),"Data Backup"]}),m.jsxs("button",{onClick:()=>e("preferences"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${n==="preferences"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[m.jsx(HT,{className:"inline mr-2"}),"Preferences"]})]})}),m.jsxs("div",{className:"p-6",children:[n==="language"&&m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Language Settings"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select System Language"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:za.language.available.map(c=>m.jsx("button",{onClick:()=>i(c.code),className:`p-4 rounded-lg border-2 transition-colors text-left ${t===c.code?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:c.name}),m.jsx("p",{className:"text-xs text-gray-500",children:c.code})]}),t===c.code&&m.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},c.code))})]}),m.jsx("button",{onClick:o,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save Language Settings"})]})]}),n==="api"&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Keys Management"}),m.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[m.jsx(gk,{}),m.jsx("span",{children:"Generate New Key"})]})]}),m.jsx("div",{className:"space-y-4",children:za.apiKeys.map(c=>m.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",c.createdDate]})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.status})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"API Key"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("code",{className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded text-sm font-mono",children:c.key}),m.jsx("button",{className:"px-3 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors text-sm",children:"Copy"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-white rounded p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Last Used"}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.lastUsed})]}),m.jsxs("div",{className:"bg-white rounded p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Requests Today"}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.requestsToday.toLocaleString()})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{className:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-sm font-medium",children:[m.jsx(pk,{className:"inline mr-1"})," Regenerate"]}),m.jsxs("button",{className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm font-medium",children:[m.jsx(Pg,{className:"inline mr-1"})," Revoke"]})]})]},c.id))})]}),n==="backup"&&m.jsxs("div",{className:"max-w-3xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Data Backup Configuration"}),m.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Backup Status"}),m.jsx("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full text-xs font-medium",children:za.backupSchedule.status})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Last Backup"}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:za.backupSchedule.lastBackup})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Next Backup"}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:za.backupSchedule.nextBackup})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Frequency"}),m.jsx("p",{className:"text-sm font-medium text-gray-900",children:za.backupSchedule.frequency})]}),m.jsxs("div",{className:"bg-white rounded-lg p-3",children:[m.jsx("p",{className:"text-xs text-gray-600",children:"Retention"}),m.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[za.backupSchedule.retentionDays," days"]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup Settings"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Frequency"}),m.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[m.jsx("option",{children:"Daily"}),m.jsx("option",{children:"Weekly"}),m.jsx("option",{children:"Monthly"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Time"}),m.jsx("input",{type:"time",defaultValue:"02:00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Retention Period (days)"}),m.jsx("input",{type:"number",defaultValue:30,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),m.jsx("input",{type:"text",defaultValue:za.backupSchedule.location,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",disabled:!0})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save Configuration"}),m.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Backup Now"})]})]})]})]}),n==="preferences"&&m.jsxs("div",{className:"max-w-2xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Preferences"}),m.jsxs("div",{className:"space-y-4",children:[Object.entries(s).map(([c,h])=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900 capitalize",children:c.replace(/([A-Z])/g," $1").trim()}),m.jsxs("p",{className:"text-xs text-gray-500",children:[c==="maintenanceMode"&&"Enable maintenance mode to restrict access",c==="debugMode"&&"Show detailed error messages for debugging",c==="emailNotifications"&&"Send email notifications for important events",c==="autoBackup"&&"Automatically backup data on schedule",c==="sessionTimeout"&&`User session timeout: ${h} minutes`,c==="maxLoginAttempts"&&`Maximum failed login attempts: ${h}`]})]}),typeof h=="boolean"?m.jsx("button",{onClick:()=>a(c),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${h?"bg-indigo-600":"bg-gray-300"}`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${h?"translate-x-6":"translate-x-1"}`})}):m.jsx("input",{type:"number",value:h,onChange:f=>r(p=>({...p,[c]:parseInt(f.target.value)})),className:"w-20 px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]},c)),m.jsx("button",{className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save Preferences"})]})]})]})]})]})};function jK(){return m.jsxs(K7,{children:[m.jsxs(Ni,{path:"/",element:m.jsx(gP,{}),children:[m.jsx(Ni,{index:!0,element:m.jsx(j9,{})}),m.jsx(Ni,{path:"/users",element:m.jsx(I9,{})}),m.jsx(Ni,{path:"/users/:id",element:m.jsx(H9,{})}),m.jsx(Ni,{path:"/feedback",element:m.jsx(IH,{})}),m.jsx(Ni,{path:"/payment",element:m.jsx(qH,{})}),m.jsx(Ni,{path:"/quotes",element:m.jsx(FH,{})}),m.jsx(Ni,{path:"/discussion",element:m.jsx(zH,{})}),m.jsx(Ni,{path:"/notifications",element:m.jsx(WH,{})}),m.jsx(Ni,{path:"/content",element:m.jsx(DH,{})}),m.jsx(Ni,{path:"/subscriptions",element:m.jsx(UH,{})}),m.jsx(Ni,{path:"/user-management",element:m.jsx(NK,{})}),m.jsx(Ni,{path:"/user-management/:id",element:m.jsx(EK,{})}),m.jsx(Ni,{path:"/questionnaires",element:m.jsx(TK,{})}),m.jsx(Ni,{path:"/questionnaires/:id",element:m.jsx(PK,{})}),m.jsx(Ni,{path:"/content-management",element:m.jsx(MK,{})}),m.jsx(Ni,{path:"/analytics",element:m.jsx(OK,{})}),m.jsx(Ni,{path:"/access-control",element:m.jsx(LK,{})}),m.jsx(Ni,{path:"/admin-logs",element:m.jsx(RK,{})}),m.jsx(Ni,{path:"/settings",element:m.jsx(DK,{})})]}),m.jsx(Ni,{path:"/login",element:m.jsx(z9,{})})]})}t7.createRoot(document.getElementById("root")).render(m.jsx(we.StrictMode,{children:m.jsx(bT,{children:m.jsx(jK,{})})}));export{Ln as _,FK as c,VS as g};
